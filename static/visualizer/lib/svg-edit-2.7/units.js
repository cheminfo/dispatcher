!function(){svgedit.units||(svgedit.units={});var a,b=svgedit.NS,c=["x","x1","cx","rx","width"],d=["y","y1","cy","ry","height"],e=["r","radius"].concat(c,d),f={};svgedit.units.init=function(c){a=c;var d=document.createElementNS(b.SVG,"svg");document.body.appendChild(d);var e=document.createElementNS(b.SVG,"rect");e.setAttribute("width","1em"),e.setAttribute("height","1ex"),e.setAttribute("x","1in"),d.appendChild(e);var g=e.getBBox();document.body.removeChild(d);var h=g.x;f={em:g.width,ex:g.height,"in":h,cm:h/2.54,mm:h/25.4,pt:h/72,pc:h/6,px:1,"%":0}},svgedit.units.getTypeMap=function(){return f},svgedit.units.shortFloat=function(b){var c=a.getRoundDigits();return isNaN(b)?$.isArray(b)?svgedit.units.shortFloat(b[0])+","+svgedit.units.shortFloat(b[1]):parseFloat(b).toFixed(c)-0:+(+b).toFixed(c)},svgedit.units.convertUnit=function(b,c){return c=c||a.getBaseUnit(),svgedit.units.shortFloat(b/f[c])},svgedit.units.setUnitAttr=function(a,b,c){a.setAttribute(b,c)};var g={line:["x1","x2","y1","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],foreignObject:["x","y","width","height"],rect:["x","y","width","height"],image:["x","y","width","height"],use:["x","y","width","height"],text:["x","y"]};svgedit.units.convertAttrs=function(b){var c=b.tagName,d=a.getBaseUnit(),e=g[c];if(e){var h,i=e.length;for(h=0;i>h;h++){var j=e[h],k=b.getAttribute(j);k&&(isNaN(k)||b.setAttribute(j,k/f[d]+d))}}},svgedit.units.convertToNum=function(b,e){if(!isNaN(e))return e-0;var g;if("%"===e.substr(-1)){g=e.substr(0,e.length-1)/100;var h=a.getWidth(),i=a.getHeight();return c.indexOf(b)>=0?g*h:d.indexOf(b)>=0?g*i:g*Math.sqrt(h*h+i*i)/Math.sqrt(2)}var j=e.substr(-2);return g=e.substr(0,e.length-2),g*f[j]},svgedit.units.isValidUnit=function(b,c,d){var g=!1;if(e.indexOf(b)>=0)isNaN(c)?(c=c.toLowerCase(),$.each(f,function(a){if(!g){var b=new RegExp("^-?[\\d\\.]+"+a+"$");b.test(c)&&(g=!0)}})):g=!0;else if("id"==b){var h=!1;try{var i=a.getElement(c);h=null==i||i===d}catch(j){}return h}return g=!0}}();