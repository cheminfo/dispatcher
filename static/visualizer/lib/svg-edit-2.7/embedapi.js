!function(){function a(a){return function(){var b=this,c=[].slice.call(arguments),d=b.send(a,c,function(){});return function(a){b.callbacks[d]=a}}}function b(a,b){var c=b.result||b.error;f=b.id,a.callbacks[f]&&(b.result?a.callbacks[f](c):a.callbacks[f](c,"error"))}function c(a){if("string"==typeof a.data){var c=this.allowedOrigins,d=a.data&&JSON.parse(a.data);!d||"object"!=typeof d||"svg-edit"!==d.namespace||a.source!==this.frame.contentWindow||-1===c.indexOf("*")&&-1===c.indexOf(a.origin)||b(this,d)}}function d(a){return function(b){c.call(a,b)}}function e(b,c){if(!(this instanceof e))return new e(b);this.allowedOrigins=c||[],this.frame=b,this.callbacks={};var f,g=["updateElementFromJson","embedImage","fixOperaXML","clearSelection","addToSelection","removeFromSelection","addNodeToSelection","open","save","getSvgString","setSvgString","createLayer","deleteCurrentLayer","getCurrentDrawing","setCurrentLayer","renameCurrentLayer","setCurrentLayerPosition","setLayerVisibility","moveSelectedToLayer","clear","clearPath","getNodePoint","clonePathNode","deletePathNode","getResolution","getImageTitle","setImageTitle","setResolution","setBBoxZoom","setZoom","getMode","setMode","getStrokeColor","setStrokeColor","getFillColor","setFillColor","setStrokePaint","setFillPaint","getStrokeWidth","setStrokeWidth","getStrokeStyle","setStrokeStyle","getOpacity","setOpacity","getFillOpacity","setFillOpacity","getStrokeOpacity","setStrokeOpacity","getTransformList","getBBox","getRotationAngle","setRotationAngle","each","bind","setIdPrefix","getBold","setBold","getItalic","setItalic","getFontFamily","setFontFamily","getFontSize","setFontSize","getText","setTextContent","setImageURL","setRectRadius","setSegType","quickClone","changeSelectedAttributeNoUndo","changeSelectedAttribute","deleteSelectedElements","groupSelectedElements","zoomChanged","ungroupSelectedElement","moveToTopSelectedElement","moveToBottomSelectedElement","moveSelectedElements","getStrokedBBox","getVisibleElements","cycleElement","getUndoStackSize","getRedoStackSize","getNextUndoCommandText","getNextRedoCommandText","undo","redo","cloneSelectedElements","alignSelectedElements","getZoom","getVersion","setIconSize","setLang","setCustomHandlers"];for(f=0;f<g.length;f++)this[g[f]]=a(g[f]);window.addEventListener("message",d(this),!1)}var f=0;e.prototype.send=function(a,c,d){var e=this;return f++,this.callbacks[f]=d,setTimeout(function(){if(window.location.origin===e.frame.contentWindow.location.origin){var d={id:f},g=e.frame.contentWindow.svgCanvas;try{d.result=g[a].apply(g,c)}catch(h){d.error=h.message}b(e,d)}else e.frame.contentWindow.postMessage(JSON.stringify({namespace:"svgCanvas",id:f,name:a,args:c}),"*")},0),f},window.embedded_svg_edit=e,window.EmbeddedSVGEdit=e}();