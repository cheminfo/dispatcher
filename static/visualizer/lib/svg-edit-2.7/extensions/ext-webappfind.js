!function(){var a,b="webapp-save",c="webapp-read",d=[c,b];window.addEventListener("message",function(b){if(b.origin===window.location.origin&&Array.isArray(b.data)&&!(d.indexOf(b.data[0])>-1)){var c,e=b.data[0];switch(e){case"webapp-view":a=b.data[1],c=b.data[2],svgEditor.loadFromString(c);break;case"webapp-save-end":alert("save complete for pathID "+b.data[1]+"!");break;default:throw"Unexpected mode"}}},!1),window.postMessage([c],"null"!==window.location.origin?window.location.origin:"*"),svgEditor.addExtension("WebAppFind",function(){return{name:"WebAppFind",svgicons:svgEditor.curConfig.extPath+"webappfind-icon.svg",buttons:[{id:"webappfind_save",type:"app_menu",title:"Save Image back to Disk",position:4,events:{click:function(){a&&window.postMessage([b,a,svgEditor.canvas.getSvgString()],window.location.origin)}}}]}})}();