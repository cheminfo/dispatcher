svgEditor.addExtension("ClosePath",function(){var a,b=function(a){var b=a.pathSegList,c=1==b.getItem(b.numberOfItems-1).pathSegType,d=c?"#tool_openpath":"#tool_closepath",e=c?"#tool_closepath":"#tool_openpath";$(e).hide(),$(d).show()},c=function(c){if($("#closepath_panel").toggle(c),c){var d=a[0];d&&b(d)}},d=function(){var c=a[0];if(c){var d=c.pathSegList,e=d.numberOfItems-1;1==d.getItem(e).pathSegType?d.removeItem(e):d.appendItem(c.createSVGPathSegClosePath()),b(c)}};return{name:"ClosePath",svgicons:svgEditor.curConfig.extPath+"closepath_icons.svg",buttons:[{id:"tool_openpath",type:"context",panel:"closepath_panel",title:"Open path",events:{click:function(){d()}}},{id:"tool_closepath",type:"context",panel:"closepath_panel",title:"Close path",events:{click:function(){d()}}}],callback:function(){$("#closepath_panel").hide()},selectedChanged:function(b){a=b.elems;for(var d=a.length;d--;){var e=a[d];c(e&&"path"==e.tagName?b.selectedElement&&!b.multiselected?!0:!1:!1)}}}});