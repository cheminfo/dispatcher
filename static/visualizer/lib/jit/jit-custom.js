define(["components/jit/Jit/jit"],function(a){a.RGraph.Plot.NodeTypes.implement({image:{render:function(b,c){function d(a){var b=f/(a.width>a.height?a.width:a.height);g.drawImage(a,e.x-a.width/2*b,e.y-a.height/2*b,a.width*b,a.height*b)}a.imageCache=a.imageCache||[];var e=b.pos.getc(!0),f=b.getData("dim");if(b.data.image){var g=c.getCtx(),h=new Image;h.src=b.data.image.value?b.data.image.value:b.data.image,a.imageCache[h.src]?(h=a.imageCache[h.src],d(h)):h.onload=function(){d(h),a.imageCache[h.src]=h}}else this.nodeHelper.circle.render("fill",e,f,c)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}},piechart:{render:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");if(a.data.piechart){for(var e=b.getCtx(),f=c.x,g=c.y,h=0,i=a.data.piechart,j=i.length,k=0,l=0;j>l;k+=i[l++][0]);for(var m=2*Math.PI/k,l=0;j>l;l++){var n=i[l],o=n[0]*m;e.beginPath(),e.arc(f,g,d,h,h+o),e.lineTo(f,g),e.fillStyle=n[1],e.fill(),h+=o}}else this.nodeHelper.circle.render("fill",c,d,b)},contains:function(a,b){var c=a.pos.getc(!0),d=a.getData("dim");return this.nodeHelper.circle.contains(c,b,d)}}})});