!function(a){a.extend(a.fn,{caret:function(a,b){var c=this[0];if(c){if("undefined"==typeof a){if(c.selectionStart)a=c.selectionStart,b=c.selectionEnd;else if(document.selection){var d=this.val(),e=document.selection.createRange().duplicate();e.moveEnd("character",d.length),a=""==e.text?d.length:d.lastIndexOf(e.text),e=document.selection.createRange().duplicate(),e.moveStart("character",-d.length),b=e.text.length}}else{var d=this.val();if("number"!=typeof a&&(a=-1),"number"!=typeof b&&(b=-1),0>a&&(a=0),b>d.length&&(b=d.length),a>b&&(b=a),a>b&&(a=b),c.focus(),c.selectionStart)c.selectionStart=a,c.selectionEnd=b;else if(document.selection){var e=c.createTextRange();e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",b-a),e.select()}}return{start:a,end:b}}}})}(jQuery);