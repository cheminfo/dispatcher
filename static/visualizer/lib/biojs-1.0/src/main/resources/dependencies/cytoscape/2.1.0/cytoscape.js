var cytoscape;!function(a){var b=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};b.init=function(a){return void 0===a&&(a={}),b.is.plainObject(a)?new b.Core(a):b.is.string(a)?b.extension.apply(b.extension,arguments):void 0},b.fn={},"undefined"!=typeof exports&&(exports=module.exports=cytoscape),a&&(a.cytoscape=cytoscape)}("undefined"==typeof window?null:window),function(a,b){a.is={string:function(a){return null!=a&&"string"==typeof a},fn:function(a){return null!=a&&"function"==typeof a},array:function(a){return null!=a&&a instanceof Array},plainObject:function(b){return null!=b&&typeof b==typeof{}&&!a.is.array(b)&&b.constructor===Object},number:function(a){return null!=a&&"number"==typeof a&&!isNaN(a)},integer:function(b){return a.is.number(b)&&Math.floor(b)===b},color:function(a){return null!=a&&"string"==typeof a&&""!==$.Color(a).toString()},bool:function(a){return null!=a&&typeof a==typeof!0},elementOrCollection:function(b){return a.is.element(b)||a.is.collection(b)},element:function(b){return b instanceof a.Element&&b._private.single},collection:function(b){return b instanceof a.Collection&&!b._private.single},core:function(b){return b instanceof a.Core},style:function(b){return b instanceof a.Style},stylesheet:function(b){return b instanceof a.Stylesheet},event:function(b){return b instanceof a.Event},emptyString:function(b){return b?a.is.string(b)&&(""===b||b.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(b){return b&&a.is.string(b)&&""!==b&&!b.match(/^\s+$/)?!0:!1},domElement:function(a){return"undefined"==typeof HTMLElement?!1:a instanceof HTMLElement},touch:function(){return b&&("ontouchstart"in b||b.DocumentTouch&&document instanceof DocumentTouch)}}}(cytoscape,"undefined"==typeof window?null:window),function(a){a.util={extend:function(){var b,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||a.is.fn(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(b=arguments[i]))for(c in b)d=h[c],e=b[c],h!==e&&(k&&e&&(a.is.plainObject(e)||(f=a.is.array(e)))?(f?(f=!1,g=d&&a.is.array(d)?d:[]):g=d&&a.is.plainObject(d)?d:{},h[c]=a.util.extend(k,g,e)):void 0!==e&&(h[c]=e));return h},error:function(a){if(!console)throw a;if(console.error)console.error(a);else{if(!console.log)throw a;console.log(a)}},clone:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},copy:function(b){return null==b?b:a.is.array(b)?b.slice():a.is.plainObject(b)?a.util.clone(b):b},mapEmpty:function(a){var b=!0;if(null!=a)for(var c in a){b=!1;break}return b},pushMap:function(b){var c=a.util.getMap(b);null==c?a.util.setMap($.extend({},b,{value:[b.value]})):c.push(b.value)},setMap:function(b){for(var c,d=b.map,e=b.keys,f=e.length,g=0;f>g;g++){var c=e[g];a.is.plainObject(c)&&a.util.error("Tried to set map with object key"),g<e.length-1?(null==d[c]&&(d[c]={}),d=d[c]):d[c]=b.value}},getMap:function(b){for(var c=b.map,d=b.keys,e=d.length,f=0;e>f;f++){var g=d[f];if(a.is.plainObject(g)&&a.util.error("Tried to get map with object key"),c=c[g],null==c)return c}return c},deleteMap:function(b){for(var c=b.map,d=b.keys,e=d.length,f=b.keepChildren,g=0;e>g;g++){var h=d[g];a.is.plainObject(h)&&a.util.error("Tried to delete map with object key");var i=g===b.keys.length-1;if(i)if(f)for(var j in c)f[j]||delete c[j];else delete c[h];else c=c[h]}},capitalize:function(b){return a.is.emptyString(b)?b:b.charAt(0).toUpperCase()+b.substring(1)},camel2dash:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.toLowerCase(),f=d!==e;f?(b.push("-"),b.push(e)):b.push(d)}var g=b.length===a.length;return g?a:b.join("")},dash2camel:function(a){for(var b=[],c=!1,d=0;d<a.length;d++){var e=a[d],f="-"===e;f?c=!0:(b.push(c?e.toUpperCase():e),c=!1)}return b.join("")},trim:function(a){var b,c;for(b=0;b<a.length&&" "===a[b];b++);for(c=a.length-1;c>b&&" "===a[c];c--);return a.substring(b,c+1)},hex2tuple:function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var b,c,d,e=4===a.length,f=16;return e?(b=parseInt(a[1]+a[1],f),c=parseInt(a[2]+a[2],f),d=parseInt(a[3]+a[3],f)):(b=parseInt(a[1]+a[2],f),c=parseInt(a[3]+a[4],f),d=parseInt(a[5]+a[6],f)),[b,c,d]}},hsl2tuple:function(b){function c(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var d,e,f,g,h,i,j,k,l=(a.util.regex.number,new RegExp("^"+a.util.regex.hsla+"$").exec(b));if(l){if(e=parseInt(l[1]),0>e?e=(360- -1*e%360)%360:e>360&&(e%=360),e/=360,f=parseFloat(l[2]),0>f||f>100)return;if(f/=100,g=parseFloat(l[3]),0>g||g>100)return;if(g/=100,h=l[4],void 0!==h&&(h=parseFloat(h),0>h||h>1))return;if(0===f)i=j=k=Math.round(255*g);else{var m=.5>g?g*(1+f):g+f-g*f,n=2*g-m;i=Math.round(255*c(n,m,e+1/3)),j=Math.round(255*c(n,m,e)),k=Math.round(255*c(n,m,e-1/3))}d=[i,j,k,h]}return d},rgb2tuple:function(b){var c,d=(a.util.regex.number,new RegExp("^"+a.util.regex.rgba+"$").exec(b));if(d){c=[];for(var e=[],f=1;3>=f;f++){var g=d[f];if("%"===g[g.length-1]&&(e[f]=!0),g=parseFloat(g),e[f]&&(g=g/100*255),0>g||g>255)return;c.push(Math.floor(g))}var h=e[1]||e[2]||e[3],i=e[1]&&e[2]&&e[3];if(h&&!i)return;var j=d[4];if(void 0!==j){if(j=parseFloat(j),0>j||j>1)return;c.push(j)}}return c},colorname2tuple:function(b){return a.util.colors[b.toLowerCase()]},color2tuple:function(b){return a.util.colorname2tuple(b)||a.util.hex2tuple(b)||a.util.rgb2tuple(b)||a.util.hsl2tuple(b)},tuple2hex:function(a){function b(a){var b=a.toString(16);return 1===b.length&&(b="0"+b),b}var c=a[0],d=a[1],e=a[2];return"#"+b(c)+b(d)+b(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},a.util.regex={},a.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",a.util.regex.rgba="rgb[a]?\\(("+a.util.regex.number+"[%]?)\\s*,\\s*("+a.util.regex.number+"[%]?)\\s*,\\s*("+a.util.regex.number+"[%]?)(?:\\s*,\\s*("+a.util.regex.number+"))?\\)",a.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+a.util.regex.number+"[%]?)\\s*,\\s*(?:"+a.util.regex.number+"[%]?)\\s*,\\s*(?:"+a.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+a.util.regex.number+"))?\\)",a.util.regex.hsla="hsl[a]?\\(("+a.util.regex.number+")\\s*,\\s*("+a.util.regex.number+"[%])\\s*,\\s*("+a.util.regex.number+"[%])(?:\\s*,\\s*("+a.util.regex.number+"))?\\)",a.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+a.util.regex.number+")\\s*,\\s*(?:"+a.util.regex.number+"[%])\\s*,\\s*(?:"+a.util.regex.number+"[%])(?:\\s*,\\s*(?:"+a.util.regex.number+"))?\\)",a.util.regex.hex3="\\#[0-9a-fA-F]{3}",a.util.regex.hex6="\\#[0-9a-fA-F]{6}"}(cytoscape),function(a){a.math={},a.math.signum=function(a){return a>0?1:0>a?-1:0},a.math.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},a.math.qbezierAt=function(a,b,c,d){return(1-d)*(1-d)*a+2*(1-d)*d*b+d*d*c},a.math.qbezierPtAt=function(b,c,d,e){return{x:a.math.qbezierAt(b.x,c.x,d.x,e),y:a.math.qbezierAt(b.y,c.y,d.y,e)}},a.math.roundRectangleIntersectLine=function(a,b,c,d,e,f,g){var h,i=this.getRoundRectangleRadius(e,f),j=e/2,k=f/2,l=c-j+i-g,m=d-k-g,n=c+j-i+g,o=m;if(h=this.finiteLinesIntersect(a,b,c,d,l,m,n,o,!1),h.length>0)return h;var p=c+j+g,q=d-k+i-g,r=p,s=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,p,q,r,s,!1),h.length>0)return h;var t=c-j+i-g,u=d+k+g,v=c+j-i+g,w=u;if(h=this.finiteLinesIntersect(a,b,c,d,t,u,v,w,!1),h.length>0)return h;var x=c-j-g,y=d-k+i-g,z=x,A=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,x,y,z,A,!1),h.length>0)return h;var B,C=c-j+i,D=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,C,D,i+g),B.length>0&&B[0]<=C&&B[1]<=D)return[B[0],B[1]];var E=c+j-i,F=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,E,F,i+g),B.length>0&&B[0]>=E&&B[1]<=F)return[B[0],B[1]];var G=c+j-i,H=d+k-i;if(B=this.intersectLineCircle(a,b,c,d,G,H,i+g),B.length>0&&B[0]>=G&&B[1]>=H)return[B[0],B[1]];var I=c-j+i,J=d+k-i;return B=this.intersectLineCircle(a,b,c,d,I,J,i+g),B.length>0&&B[0]<=I&&B[1]>=J?[B[0],B[1]]:[]},a.math.roundRectangleIntersectBox=function(a,b,c,d,e,f,g,h,i){var j=this.getRoundRectangleRadius(e,f),k=g-e/2-i,l=h-f/2+j-i,m=g+e/2+i,n=h+f/2-j+i,o=g-e/2+j-i,p=h-f/2-i,q=g+e/2-j+i,r=h+f/2+i,s=Math.min(a,c),t=Math.max(a,c),u=Math.min(b,d),v=Math.max(b,d);return k>t?!1:s>m?!1:p>v?!1:u>r?!1:k>=s&&t>=k&&l>=u&&v>=l?!0:m>=s&&t>=m&&l>=u&&v>=l?!0:m>=s&&t>=m&&n>=u&&v>=n?!0:k>=s&&t>=k&&n>=u&&v>=n?!0:s>=k&&m>=s&&u>=l&&n>=u?!0:t>=k&&m>=t&&u>=l&&n>=u?!0:t>=k&&m>=t&&v>=l&&n>=v?!0:s>=k&&m>=s&&v>=l&&n>=v?!0:o>=s&&t>=o&&p>=u&&v>=p?!0:q>=s&&t>=q&&p>=u&&v>=p?!0:q>=s&&t>=q&&r>=u&&v>=r?!0:o>=s&&t>=o&&r>=u&&v>=r?!0:s>=o&&q>=s&&u>=p&&r>=u?!0:t>=o&&q>=t&&u>=p&&r>=u?!0:t>=o&&q>=t&&v>=p&&r>=v?!0:s>=o&&q>=s&&v>=p&&r>=v?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,o+i,l+i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,q-i,l+i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,q-i,n-i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,o+i,n-i)?!0:!1},a.math.checkInBoundingCircle=function(a,b,c,d,e,f,g,h){return a=(a-g)/(e+d),b=(b-h)/(f+d),c>=a*a+b*b},a.math.checkInBoundingBox=function(a,b,c,d,e,f,g,h){for(var i=c[0],j=c[1],k=c[0],l=c[1],m=1;m<c.length/2;m++)c[2*m]<i?i=c[2*m]:c[2*m]>k&&(k=c[2*m]),c[2*m+1]<j?j=c[2*m+1]:c[2*m+1]>l&&(l=c[2*m+1]);return a-=g,b-=h,a/=e,b/=f,i>a?!1:a>k?!1:j>b?!1:b>l?!1:!0},a.math.boxInBezierVicinity=function(a,b,c,d,e,f,g,h,i,j,k){var l=.25*e+.5*g+.25*i,m=.25*f+.5*h+.25*j,n=Math.min(a,c)-k,o=Math.min(b,d)-k,p=Math.max(a,c)+k,q=Math.max(b,d)+k;if(e>=n&&p>=e&&f>=o&&q>=f)return 1;if(i>=n&&p>=i&&j>=o&&q>=j)return 1;if(l>=n&&p>=l&&m>=o&&q>=m)return 1;if(g>=n&&p>=g&&h>=o&&q>=h)return 1;var r=Math.min(e,l,i),s=Math.min(f,m,j),t=Math.max(e,l,i),u=Math.max(f,m,j);return r>p||n>t||s>q||o>u?0:1},a.math.checkBezierInBox=function(b,c,d,e,f,g,h,i,j,k){function l(l){var m=a.math.qbezierAt(f,h,j,l),n=a.math.qbezierAt(g,i,k,l);return m>=b&&d>=m&&n>=c&&e>=n}for(var m=0;1>=m;m+=.25)if(!l(m))return!1;return!0},a.math.checkStraightEdgeInBox=function(a,b,c,d,e,f,g,h){return e>=a&&c>=e&&g>=a&&c>=g&&f>=b&&d>=f&&h>=b&&d>=h},a.math.checkStraightEdgeCrossesBox=function(a,b,c,d,e,f,g,h,i){var j,k,l=Math.min(a,c)-i,m=Math.min(b,d)-i,n=Math.max(a,c)+i,o=Math.max(b,d)+i,p=g-e,q=e,r=h-f,s=f;if(Math.abs(p)<1e-4)return e>=l&&n>=e&&Math.min(f,h)<=m&&Math.max(f,h)>=o;var t=(l-q)/p;if(t>0&&1>=t&&(j=r*t+s,j>=m&&o>=j))return!0;var u=(n-q)/p;if(u>0&&1>=u&&(j=r*u+s,j>=m&&o>=j))return!0;var v=(m-s)/r;if(v>0&&1>=v&&(k=p*v+q,k>=l&&n>=k))return!0;var w=(o-s)/r;return w>0&&1>=w&&(k=p*w+q,k>=l&&n>=k)?!0:!1},a.math.checkBezierCrossesBox=function(a,b,c,d,e,f,g,h,i,j,k){var l=Math.min(a,c)-k,m=Math.min(b,d)-k,n=Math.max(a,c)+k,o=Math.max(b,d)+k;if(e>=l&&n>=e&&f>=m&&o>=f)return!0;if(i>=l&&n>=i&&j>=m&&o>=j)return!0;var p=e-2*g+i,q=-2*e+2*g,r=e,s=[];if(Math.abs(p)<1e-4){var t=(l-e)/q,u=(n-e)/q;s.push(t,u)}else{var v,w,x=q*q-4*p*(r-l);if(x>0){var y=Math.sqrt(x);v=(-q+y)/(2*p),w=(-q-y)/(2*p),s.push(v,w)}var z,A,B=q*q-4*p*(r-n);if(B>0){var y=Math.sqrt(B);z=(-q+y)/(2*p),A=(-q-y)/(2*p),s.push(z,A)}}s.sort(function(a,b){return a-b});var C=f-2*h+j,D=-2*f+2*h,E=f,F=[];if(Math.abs(C)<1e-4){var G=(m-f)/D,H=(o-f)/D;F.push(G,H)}else{var I,J,K=D*D-4*C*(E-m);if(K>0){var y=Math.sqrt(K);I=(-D+y)/(2*C),J=(-D-y)/(2*C),F.push(I,J)}var L,M,N=D*D-4*C*(E-o);if(N>0){var y=Math.sqrt(N);L=(-D+y)/(2*C),M=(-D-y)/(2*C),F.push(L,M)}}F.sort(function(a,b){return a-b});for(var O=0;O<s.length;O+=2)for(var P=1;P<F.length;P+=2)if(s[O]<F[P]&&F[P]>=0&&s[O]<=1&&s[O+1]>F[P-1]&&F[P-1]<=1&&s[O+1]>=0)return!0;return!1},a.math.inLineVicinity=function(a,b,c,d,e,f,g){var h=g,i=Math.min(c,e),j=Math.max(c,e),k=Math.min(d,f),l=Math.max(d,f);return a>=i-h&&j+h>=a&&b>=k-h&&l+h>=b},a.math.inBezierVicinity=function(a,b,c,d,e,f,g,h,i){var j={x1:Math.min(c,g,e),x2:Math.max(c,g,e),y1:Math.min(d,h,f),y2:Math.max(d,h,f)};return a<j.x1||a>j.x2||b<j.y1||b>j.y2?!1:!0;var j},a.math.solveCubic=function(a,b,c,d,e){b/=a,c/=a,d/=a;var f,g,h,i,j,k,l,m;return g=(3*c-b*b)/9,h=-(27*d)+b*(9*c-2*b*b),h/=54,f=g*g*g+h*h,e[1]=0,l=b/3,f>0?(j=h+Math.sqrt(f),j=0>j?-Math.pow(-j,1/3):Math.pow(j,1/3),k=h-Math.sqrt(f),k=0>k?-Math.pow(-k,1/3):Math.pow(k,1/3),e[0]=-l+j+k,l+=(j+k)/2,e[4]=e[2]=-l,l=Math.sqrt(3)*(-k+j)/2,e[3]=l,void(e[5]=-l)):(e[5]=e[3]=0,0==f?(m=0>h?-Math.pow(-h,1/3):Math.pow(h,1/3),e[0]=-l+2*m,void(e[4]=e[2]=-(m+l))):(g=-g,i=g*g*g,i=Math.acos(h/Math.sqrt(i)),m=2*Math.sqrt(g),e[0]=-l+m*Math.cos(i/3),e[2]=-l+m*Math.cos((i+2*Math.PI)/3),void(e[4]=-l+m*Math.cos((i+4*Math.PI)/3))))},a.math.sqDistanceToQuadraticBezier=function(a,b,c,d,e,f,g,h){var i=1*c*c-4*c*e+2*c*g+4*e*e-4*e*g+g*g+d*d-4*d*f+2*d*h+4*f*f-4*f*h+h*h,j=9*c*e-3*c*c-3*c*g-6*e*e+3*e*g+9*d*f-3*d*d-3*d*h-6*f*f+3*f*h,k=3*c*c-6*c*e+c*g-c*a+2*e*e+2*e*a-g*a+3*d*d-6*d*f+d*h-d*b+2*f*f+2*f*b-h*b,l=1*c*e-c*c+c*a-e*a+d*f-d*d+d*b-f*b,m=[];this.solveCubic(i,j,k,l,m);for(var n=1e-7,o=[],p=0;6>p;p+=2)Math.abs(m[p+1])<n&&m[p]>=0&&m[p]<=1&&o.push(m[p]);o.push(1),o.push(0);for(var q,r,s,t,u=-1,v=0;v<o.length;v++)r=Math.pow(1-o[v],2)*c+2*(1-o[v])*o[v]*e+o[v]*o[v]*g,s=Math.pow(1-o[v],2)*d+2*(1-o[v])*o[v]*f+o[v]*o[v]*h,t=Math.pow(r-a,2)+Math.pow(s-b,2),u>=0?u>t&&(u=t,q=o[v]):(u=t,q=o[v]);return u},a.math.sqDistanceToFiniteLine=function(a,b,c,d,e,f){var g=[a-c,b-d],h=[e-c,f-d],i=h[0]*h[0]+h[1]*h[1],j=g[0]*g[0]+g[1]*g[1],k=g[0]*h[0]+g[1]*h[1],l=k*k/i;return 0>k?j:l>i?(a-e)*(a-e)+(b-f)*(b-f):j-l},a.math.pointInsidePolygon=function(a,b,c,d,e,f,g,h,i){var j=new Array(c.length),k=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1]));h[0]<0?k+=Math.PI/2:k=-k-Math.PI/2;for(var l=Math.cos(-k),m=Math.sin(-k),n=0;n<j.length/2;n++)j[2*n]=f/2*(c[2*n]*l-c[2*n+1]*m),j[2*n+1]=g/2*(c[2*n+1]*l+c[2*n]*m),j[2*n]+=d,j[2*n+1]+=e;var o;if(i>0){var p=this.expandPolygon(j,-i);o=this.joinLines(p)}else o=j;for(var q,r,s,t,u,v=0,w=0,n=0;n<o.length/2;n++)if(q=o[2*n],r=o[2*n+1],n+1<o.length/2?(s=o[2*(n+1)],t=o[2*(n+1)+1]):(s=o[2*(n+1-o.length/2)],t=o[2*(n+1-o.length/2)+1]),q==a&&s==a);else{if(!(q>=a&&a>=s||a>=q&&s>=a))continue;u=(a-q)/(s-q)*(t-r)+r,u>b&&v++,b>u&&w++}return v%2==0?!1:!0},a.math.joinLines=function(a){for(var b,c,d,e,f,g,h,i,j=new Array(a.length/2),k=0;k<a.length/4;k++){b=a[4*k],c=a[4*k+1],d=a[4*k+2],e=a[4*k+3],k<a.length/4-1?(f=a[4*(k+1)],g=a[4*(k+1)+1],h=a[4*(k+1)+2],i=a[4*(k+1)+3]):(f=a[0],g=a[1],h=a[2],i=a[3]);var l=this.finiteLinesIntersect(b,c,d,e,f,g,h,i,!0);j[2*k]=l[0],j[2*k+1]=l[1]}return j},a.math.expandPolygon=function(a,b){for(var c,d,e,f,g=new Array(2*a.length),h=0;h<a.length/2;h++){c=a[2*h],d=a[2*h+1],h<a.length/2-1?(e=a[2*(h+1)],f=a[2*(h+1)+1]):(e=a[0],f=a[1]);var i=f-d,j=-(e-c),k=Math.sqrt(i*i+j*j),l=i/k,m=j/k;g[4*h]=c+l*b,g[4*h+1]=d+m*b,g[4*h+2]=e+l*b,g[4*h+3]=f+m*b}return g},a.math.intersectLineEllipse=function(a,b,c,d,e,f){var g=c-a,h=d-b;g/=e,h/=f;var i=Math.sqrt(g*g+h*h),j=i-1;if(0>j)return[];var k=j/i;return[(c-a)*k+a,(d-b)*k+b]},a.math.dotProduct=function(a,b){if(2!=a.length||2!=b.length)throw"dot product: arguments are not vectors";return a[0]*b[0]+a[1]*b[1]},a.math.intersectLineCircle=function(a,b,c,d,e,f,g){var h=[c-a,d-b],i=[e,f],j=[a-e,b-f],k=h[0]*h[0]+h[1]*h[1],l=2*(j[0]*h[0]+j[1]*h[1]),i=j[0]*j[0]+j[1]*j[1]-g*g,m=l*l-4*k*i;if(0>m)return[];var n=(-l+Math.sqrt(m))/(2*k),o=(-l-Math.sqrt(m))/(2*k),p=Math.min(n,o),q=Math.max(n,o),r=[];if(p>=0&&1>=p&&r.push(p),q>=0&&1>=q&&r.push(q),0==r.length)return[];var s=r[0]*h[0]+a,t=r[0]*h[1]+b;if(r.length>1){if(r[0]==r[1])return[s,t];var u=r[1]*h[0]+a,v=r[1]*h[1]+b;return[s,t,u,v]}return[s,t]},a.math.findCircleNearPoint=function(a,b,c,d,e){var f=d-a,g=e-b,h=Math.sqrt(f*f+g*g),i=f/h,j=g/h;return[a+i*c,b+j*c]},a.math.findMaxSqDistanceToOrigin=function(a){for(var b,c=1e-6,d=0;d<a.length/2;d++)b=a[2*d]*a[2*d]+a[2*d+1]*a[2*d+1],b>c&&(c=b);return c},a.math.finiteLinesIntersect=function(a,b,c,d,e,f,g,h,i){var j=(g-e)*(b-f)-(h-f)*(a-e),k=(c-a)*(b-f)-(d-b)*(a-e),l=(h-f)*(c-a)-(g-e)*(d-b);if(0!=l){var m=j/l,n=k/l;return m>=0&&1>=m&&n>=0&&1>=n?[a+m*(c-a),b+m*(d-b)]:i?[a+m*(c-a),b+m*(d-b)]:[]}return 0==j||0==k?[a,c,g].sort()[1]==g?[g,h]:[a,c,e].sort()[1]==e?[e,f]:[e,g,c].sort()[1]==c?[c,d]:[]:[]},a.math.boxIntersectEllipse=function(a,b,c,d,e,f,g,h,i){if(a>c){var j=a;a=c,c=j}if(b>d){var k=b;b=d,d=k}var l=[h-f/2-e,i],m=[h+f/2+e,i],n=[h,i-g/2-e],o=[h,i+g/2+e];return c<l[0]?!1:a>m[0]?!1:b>o[1]?!1:d<n[1]?!1:a<=m[0]&&m[0]<=c&&b<=m[1]&&m[1]<=d?!0:a<=l[0]&&l[0]<=c&&b<=l[1]&&l[1]<=d?!0:a<=n[0]&&n[0]<=c&&b<=n[1]&&n[1]<=d?!0:a<=o[0]&&o[0]<=c&&b<=o[1]&&o[1]<=d?!0:(a=(a-h)/(f/2+e),c=(c-h)/(f/2+e),b=(b-i)/(g/2+e),d=(d-i)/(g/2+e),1>=a*a+b*b?!0:1>=c*c+b*b?!0:1>=c*c+d*d?!0:1>=a*a+d*d?!0:!1)},a.math.boxIntersectPolygon=function(b,c,d,e,f,g,h,i,j,k,l){if(b>d){var m=b;b=d,d=m}if(c>e){var n=c;c=e,e=n}var o=new Array(f.length),p=Math.asin(k[1]/Math.sqrt(k[0]*k[0]+k[1]*k[1]));k[0]<0?p+=Math.PI/2:p=-p-Math.PI/2;for(var q=Math.cos(-p),r=Math.sin(-p),s=0;s<o.length/2;s++)o[2*s]=g/2*(f[2*s]*q-f[2*s+1]*r),o[2*s+1]=h/2*(f[2*s+1]*q+f[2*s]*r),o[2*s]+=i,o[2*s+1]+=j;for(var t=o[0],u=o[0],v=o[1],w=o[1],s=1;s<o.length/2;s++)o[2*s]>u&&(u=o[2*s]),o[2*s]<t&&(t=o[2*s]),o[2*s+1]>w&&(w=o[2*s+1]),o[2*s+1]<v&&(v=o[2*s+1]);if(t-l>d)return!1;if(b>u+l)return!1;if(v-l>e)return!1;if(c>w+l)return!1;var x;if(l>0){var y=a.math.expandPolygon(o,-l);x=a.math.joinLines(y)}else x=o;for(var s=0;s<o.length/2;s++)if(b<=o[2*s]&&o[2*s]<=d&&c<=o[2*s+1]&&o[2*s+1]<=e)return!0;for(var s=0;s<x.length/2;s++){var z,A,B=x[2*s],C=x[2*s+1];if(s<x.length/2-1?(z=x[2*(s+1)],A=x[2*(s+1)+1]):(z=x[0],A=x[1]),a.math.finiteLinesIntersect(B,C,z,A,b,c,d,c,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,b,e,d,e,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,b,c,b,e,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,d,c,d,e,!1).length>0)return!0}return!1},a.math.polygonIntersectLine=function(b,c,d,e,f,g,h,i){for(var j,k=[],l=new Array(d.length),m=0;m<l.length/2;m++)l[2*m]=d[2*m]*g+e,l[2*m+1]=d[2*m+1]*h+f;var n;if(i>0){var o=a.math.expandPolygon(l,-i);n=a.math.joinLines(o)}else n=l;for(var p,q,r,s,m=0;m<n.length/2;m++)p=n[2*m],q=n[2*m+1],m<n.length/2-1?(r=n[2*(m+1)],s=n[2*(m+1)+1]):(r=n[0],s=n[1]),j=this.finiteLinesIntersect(b,c,e,f,p,q,r,s),0!=j.length&&k.push(j[0],j[1]);return k},a.math.shortenIntersection=function(a,b,c){var d=[a[0]-b[0],a[1]-b[1]],e=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=(e-c)/e;return 0>f&&(f=1e-5),[b[0]+f*d[0],b[1]+f*d[1]]},a.math.generateUnitNgonPointsFitToSquare=function(b,c){var d=a.math.generateUnitNgonPoints(b,c);return d=a.math.fitPolygonToSquare(d)},a.math.fitPolygonToSquare=function(a){for(var b,c,d=a.length/2,e=1/0,f=1/0,g=-1/0,h=-1/0,i=0;d>i;i++)b=a[2*i],c=a[2*i+1],e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);for(var j=2/(g-e),k=2/(h-f),i=0;d>i;i++)b=a[2*i]=a[2*i]*j,c=a[2*i+1]=a[2*i+1]*k,e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);if(-1>f)for(var i=0;d>i;i++)c=a[2*i+1]=a[2*i+1]+(-1-f);return a},a.math.generateUnitNgonPoints=function(a,b){var c=1/a*2*Math.PI,d=a%2==0?Math.PI/2+c/2:Math.PI/2;d+=b;for(var e,f,g,h=new Array(2*a),i=0;a>i;i++)e=i*c+d,f=h[2*i]=Math.cos(e),g=h[2*i+1]=Math.sin(-e);return h},a.math.getRoundRectangleRadius=function(a,b){return Math.min(a/2,b/2,10)}}(cytoscape),function(a){a.instances=[],a.instanceCounter=0,a.lastInstanceTime,a.registerInstance=function(b,c){var d;a.is.core(b)?d=b:a.is.domElement(b)&&(c=b);var e=a.getRegistrationForInstance(b,c);if(e)return e.cy?a.util.error("Tried to register on a pre-existing registration"):(e.cy=b,e.domElement=c),e;var f,g=+new Date;a.lastInstanceTime&&a.lastInstanceTime!==g?++a.instanceCounter:a.instanceCounter=0,a.lastInstanceTime=g,f=a.instanceCounter;var h="cy-"+g+"-"+f,i={id:h,cy:d,domElement:c,readies:[]};return a.instances.push(i),a.instances[h]=i,i},a.removeRegistrationForInstance=function(b,c){var d;if(a.is.core(b)?d=b:a.is.domElement(b)&&(c=b),a.is.core(d)){var e=d._private.instanceId;delete a.instances[e],a.instances.splice(e,1)}else if(a.is.domElement(c))for(var f=0;f<a.instances.length;f++){var g=a.instances[f];g.domElement===c&&(delete a.instances[g.id],a.instances.splice(f,1),f--)}},a.getRegistrationForInstance=function(b,c){var d;if(a.is.core(b)?b.registered()&&(d=b):a.is.domElement(b)&&(c=b),a.is.core(d)){var e=d._private.instanceId;return a.instances[e]}if(a.is.domElement(c))for(var f=a.instances.length-1;f>=0;f--){var g=a.instances[f];if(g.domElement===c)return g}}}(cytoscape),function(a){function b(b,c,d){var e={};switch(e[c]=d,b){case"core":case"collection":a.fn[b](e)}return a.util.setMap({map:f,keys:[b,c],value:d})}function c(b,c){return a.util.getMap({map:f,keys:[b,c]})}function d(b,c,d,e,f){return a.util.setMap({map:g,keys:[b,c,d,e],value:f})}function e(b,c,d,e){return a.util.getMap({map:g,keys:[b,c,d,e]})}var f={};a.extensions=f;var g={};a.modules=g,a.extension=function(){return 2==arguments.length?c.apply(this,arguments):3==arguments.length?b.apply(this,arguments):4==arguments.length?e.apply(this,arguments):5==arguments.length?d.apply(this,arguments):void $.error("Invalid extension access syntax")}}(cytoscape),function(a,b){a&&(a.fn.cytoscape=function(c){var d=a(this);if("get"===c){var e=b.getRegistrationForInstance(d[0]);return e.cy}if(!b.is.fn(c)){if(b.is.plainObject(c))return d.each(function(){var b=a.extend({},c,{container:a(this)[0]});cytoscape(b)});for(var f=d[0],g=[],h=[],i=1;i<arguments.length;i++)h[i-1]=arguments[i];return d.each(function(){var a=b.getRegistrationForInstance(f),d=a.cy,e=c;if(d&&b.is.fn(d[e])){var i=d[e].apply(d,h);g.push(i)}}),1===g.length?g=g[0]:0==g.length&&(g=a(this)),g}var j=c,f=d[0],e=b.getRegistrationForInstance(f);e||(e=b.registerInstance(f)),e&&e.cy&&e.cy.ready()?e.cy.trigger("ready",[],j):e.readies.push(j)},a.cytoscape=cytoscape,null==a.fn.cy&&null==a.cy&&(a.fn.cy=a.fn.cytoscape,a.cy=a.cytoscape))}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(a){function b(){return!1}function c(){return!0}a.Event=function(d,e){return this instanceof a.Event?(d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.getPreventDefault&&d.getPreventDefault()?c:b):this.type=d,e&&a.util.extend(this,e),void(this.timeStamp=d&&d.timeStamp||+new Date)):new a.Event(d,e)},a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=c;var a=this.originalEvent;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=c;var a=this.originalEvent;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()},isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b}}(cytoscape),function(a){a.define={data:function(b){var c={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateMappers:!1,onSet:function(){},canSet:function(){return!0}};return b=a.util.extend({},c,b),function(c,d){var e=b,f=this,g=void 0!==f.length,h=g?f:[f],i=g?f[0]:f;if(a.is.string(c)){if(e.allowGetting&&void 0===d){var j;return i&&(j=i._private[e.field][c]),j}if(e.allowSetting&&void 0!==d){var k=!e.immutableKeys[c];if(k){for(var l=0,m=h.length;m>l;l++)e.canSet(h[l])&&(h[l]._private[e.field][c]=d);e.updateMappers&&f.updateMappers(),e.onSet(f),e.settingTriggersEvent&&f[e.triggerFnName](e.settingEvent)}}}else if(e.allowSetting&&a.is.plainObject(c)){var n,o,p=c;for(n in p){o=p[n];var k=!e.immutableKeys[n];if(k)for(var l=0,m=h.length;m>l;l++)e.canSet(h[l])&&(h[l]._private[e.field][n]=o)}e.updateMappers&&f.updateMappers(),e.onSet(f),e.settingTriggersEvent&&f[e.triggerFnName](e.settingEvent)}else if(e.allowBinding&&a.is.fn(c)){var q=c;f.bind(e.bindingEvent,q)}else if(e.allowGetting&&void 0===c){var j;return i&&(j=i._private[e.field]),j}return f}},batchData:function(b){var c={field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{},updateMappers:!1},d=b=a.util.extend({},c,b);return function(b){var c=this,e=void 0!==c.length,f=e?c:c._private.elements;if(0===f.length)return c;for(var g=e?f[0]._private.cy:c,h=0;h<f.length;h++){var i=f[h],j=i._private.data.id,k=b[j];if(void 0!==k&&null!==k){var l,m,n=k;for(l in n){m=n[l];var o=!d.immutableKeys[l];o&&(i._private[d.field][l]=m)}}}var p=new a.Collection(g,f);return d.updateMappers&&p.updateMappers(),p[d.triggerFnName](d.event),c}},removeData:function(b){var c={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return b=a.util.extend({},c,b),function(c){{var d=b,e=this,f=void 0!==e.length,g=f?e:[e];f?e[0]:e}if(a.is.string(c)){for(var h=c.split(/\s+/),i=h.length,j=0;i>j;j++){var k=h[j];if(!a.is.emptyString(k)){var l=!d.immutableKeys[k];if(l)for(var m=0,n=g.length;n>m;m++)delete g[m]._private[d.field][k]}}d.triggerEvent&&e[d.triggerFnName](d.event)}else if(void 0===c){for(var m=0,n=g.length;n>m;m++){var o=g[m]._private[d.field];for(var k in o){var p=!d.immutableKeys[k];p&&delete o[k]}}d.triggerEvent&&e[d.triggerFnName](d.event)}return e}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(b){var c={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return b=a.util.extend({},c,b),function(c,d,e,f){var g=this,h=void 0!==g.length,i=h?g:[g],j=(h?g[0]:g,a.is.string(c)),k=b;if(a.is.plainObject(d)?(f=e,e=d,d=void 0):(a.is.fn(d)||d===!1)&&(f=d,e=void 0,d=void 0),(a.is.fn(e)||e===!1)&&(f=e,e=void 0),!a.is.fn(f)&&f!==!1&&j)return g;if(j){var l={};l[c]=f,c=l}for(var m in c)if(f=c[m],f===!1&&(f=a.define.event.falseCallback),a.is.fn(f)){m=m.split(/\s+/);for(var n=0;n<m.length;n++){var o=m[n];if(!a.is.emptyString(o)){var p=o.match(a.define.event.regex);if(p)for(var q=p[1],r=p[2]?p[2]:void 0,s={callback:f,data:e,delegated:d?!0:!1,selector:d,type:q,namespace:r,unbindSelfOnTrigger:k.unbindSelfOnTrigger,unbindAllBindersOnTrigger:k.unbindAllBindersOnTrigger,binders:i},t=0;t<i.length;t++)i[t]._private.listeners.push(s)}}}return g}},off:function(b){var c={};return b=a.util.extend({},c,b),function(b,c,d){var e=this,f=void 0!==e.length,g=f?e:[e],h=(f?e[0]:e,a.is.string(b));if(0===arguments.length){for(var i=0;i<g.length;i++)g[i]._private.listeners=[];return e}if((a.is.fn(c)||c===!1)&&(d=c,c=void 0),h){var j={};j[b]=d,b=j}for(var k in b){d=b[k],d===!1&&(d=a.define.event.falseCallback),k=k.split(/\s+/);for(var l=0;l<k.length;l++){var m=k[l];if(!a.is.emptyString(m)){var n=m.match(a.define.event.optionalTypeRegex);if(n)for(var o=n[1]?n[1]:void 0,p=n[2]?n[2]:void 0,i=0;i<g.length;i++)for(var q=g[i]._private.listeners,r=0;r<q.length;r++){var s=q[r],t=!p||p===s.namespace,u=!o||s.type===o,v=!d||d===s.callback,w=t&&u&&v;w&&(q.splice(r,1),r--)}}}}return e}},trigger:function(b){var c={};return b=a.util.extend({},c,b),function(b,c,d){var e=this,f=void 0!==e.length,g=f?e:[e],h=(f?e[0]:e,a.is.string(b)),i=a.is.plainObject(b),j=a.is.event(b),k=this._private.cy||this;if(h){var l=b.split(/\s+/);b=[];for(var m=0;m<l.length;m++){var n=l[m];if(!a.is.emptyString(n)){var o=n.match(a.define.event.regex),p=o[1],q=o[2]?o[2]:void 0;b.push({type:p,namespace:q})}}}else if(i){var r=b;b=[r]}c?a.is.array(c)||(c=[c]):c=[];for(var m=0;m<b.length;m++)for(var s=b[m],t=0;t<g.length;t++){var n,u=g[t],v=u._private.listeners,w=a.is.element(u),x=w;if(j?(n=s,n.cyTarget=n.cyTarget||u,n.cy=n.cy||k,n.namespace=n.namespace||s.namespace):n=new a.Event(s,{cyTarget:u,cy:k,namespace:s.namespace}),n.cyPosition){var y=n.cyPosition,z=k.zoom(),A=k.pan();n.cyRenderedPosition={x:y.x*z+A.x,y:y.y*z+A.y}}d&&(v=[{namespace:n.namespace,type:n.type,callback:d}]);for(var B=0;B<v.length;B++){var C=v[B],D=!C.namespace||C.namespace===n.namespace,E=C.type===n.type,F=C.delegated?u!==n.cyTarget&&a.is.element(n.cyTarget)&&n.cyTarget.is(C.selector):!0,G=D&&E&&F;if(G){var H=[n];if(H=H.concat(c),n.data=C.data?C.data:void 0,(C.unbindSelfOnTrigger||C.unbindAllBindersOnTrigger)&&(v.splice(B,1),B--),C.unbindAllBindersOnTrigger)for(var I=C.binders,J=0;J<I.length;J++){var K=I[J];if(K&&K!==u)for(var L=K._private.listeners,M=0;M<L.length;M++){var N=L[M];N===C&&(L.splice(M,1),M--)}}var O=C.delegated?n.cyTarget:u,P=C.callback.apply(O,H);(P===!1||n.isPropagationStopped())&&(x=!1,P===!1&&(n.stopPropagation(),n.preventDefault()))}}if(x){var Q=u.parent(),R=0!==Q.length;R?(Q=Q[0],Q.trigger(n)):k.trigger(n)}}return e}}}}(cytoscape),function($$){$$.fn.selector=function(a){for(var b in a){var c=a[b];$$.Selector.prototype[b]=c}},$$.Selector=function(a,b){if(!(this instanceof $$.Selector))return new $$.Selector(a,b);void 0===b&&void 0!==a&&(b=a,a=void 0);var c=this;c._private={selectorText:null,invalid:!0};var d=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!b||$$.is.string(b)&&b.match(/^\s*$/))null==a?c.length=0:(c[0]=d(),c[0].group=a,c.length=1);else if($$.is.element(b)){var e=new $$.Collection(c.cy(),[b]);c[0]=d(),c[0].collection=e,c.length=1}else if($$.is.collection(b))c[0]=d(),c[0].collection=b,c.length=1;
else if($$.is.fn(b))c[0]=d(),c[0].filter=b,c.length=1;else{if(!$$.is.string(b))return void $$.util.error("A selector must be created from a string; found "+b);for(var f="[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",g="(?:[\\w-]|(?:\\\\"+f+"))+",h="=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",i="\\?|\\!|\\^",j='"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",k=$$.util.regex.number,l=j+"|"+k,m="degree|indegree|outdegree",n="\\s*,\\s*",o=g,p="\\s+",q="\\s+>\\s+",r="\\$",s=g,t=function(a){return a.replace(new RegExp("\\\\("+f+")","g"),function(a,b){return b})},u=h.split("|"),v=0;v<u.length;v++){var w=u[v];h+="|@"+w}var x=null,y={group:{query:!0,regex:"(node|edge|\\*)",populate:function(a){this.group="*"==a?a:a+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:parent|:child|:active|:inactive|:touch)",populate:function(a){this.colonSelectors.push(a)}},id:{query:!0,regex:"\\#("+s+")",populate:function(a){this.ids.push(t(a))}},className:{query:!0,regex:"\\.("+o+")",populate:function(a){this.classes.push(t(a))}},dataExists:{query:!0,regex:"\\[\\s*("+g+")\\s*\\]",populate:function(a){this.data.push({field:t(a)})}},dataCompare:{query:!0,regex:"\\[\\s*("+g+")\\s*("+h+")\\s*("+l+")\\s*\\]",populate:function(a,b,c){this.data.push({field:t(a),operator:b,value:c})}},dataBool:{query:!0,regex:"\\[\\s*("+i+")\\s*("+g+")\\s*\\]",populate:function(a,b){this.data.push({field:t(b),operator:a})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+m+")\\s*("+h+")\\s*("+k+")\\s*\\]\\]",populate:function(a,b,c){this.meta.push({field:t(a),operator:b,value:c})}},nextQuery:{separator:!0,regex:n,populate:function(){c[++v]=d(),x=null}},child:{separator:!0,regex:q,populate:function(){var a=d();a.parent=this,a.subject=x,c[v]=a}},descendant:{separator:!0,regex:p,populate:function(){var a=d();a.ancestor=this,a.subject=x,c[v]=a}},subject:{modifier:!0,regex:r,populate:function(){return null!=x&&this.subject!=this?($$.util.error("Redefinition of subject in selector `"+b+"`"),!1):(x=this,void(this.subject=this))}}},z=0;for(var A in y)y[z]=y[A],y[z].name=A,z++;y.length=z,c._private.selectorText=b;var B=b,v=0,C=function(a){for(var b,c,d,e=0;e<y.length;e++){var f=y[e],g=f.name;if(!$$.is.fn(a)||a(g,f)){var h=B.match(new RegExp("^"+f.regex));if(null!=h){c=h,b=f,d=g;var i=h[0];B=B.substring(i.length);break}}}return{expr:b,match:c,name:d}},D=function(){var a=B.match(/^\s+/);if(a){var b=a[0];B=B.substring(b.length)}};for(c[0]=d(),D();;){var E=C();if(null==E.expr)return void $$.util.error("The selector `"+b+"`is invalid");for(var F=[],z=1;z<E.match.length;z++)F.push(E.match[z]);var G=E.expr.populate.apply(c[v],F);if(G===!1)return;if(B.match(/^\s*$/))break}for(c.length=v+1,z=0;z<c.length;z++){var H=c[z];if(null!=H.subject){for(;H.subject!=H;)if(null!=H.parent){var I=H.parent,q=H;q.parent=null,I.child=q,H=I}else{if(null==H.ancestor){$$.util.error("When adjusting references for the selector `"+H+"`, neither parent nor ancestor was found");break}var J=H.ancestor,p=H;p.ancestor=null,J.descendant=p,H=J}c[z]=H.subject}}if(null!=a)for(var z=0;z<c.length;z++){if(null!=c[z].group&&c[z].group!=a)return void $$.util.error("Group `"+c[z].group+"` conflicts with implicit group `"+a+"` in selector `"+b+"`");c[z].group=a}}c._private.invalid=!1},$$.selfn=$$.Selector.prototype,$$.selfn.size=function(){return this.length},$$.selfn.eq=function(a){return this[a]},$$.selfn.find=function(){},$$.selfn.filter=function(collection,addLiveFunction){var self=this,cy=collection.cy();if(self._private.invalid)return new $$.Collection(cy);var queryMatches=function(query,element){if(null!=query.group&&"*"!=query.group&&query.group!=element._private.group)return!1;for(var allColonSelectorsMatch=!0,k=0;k<query.colonSelectors.length;k++){var sel=query.colonSelectors[k],renderer=cy.renderer();switch(sel){case":selected":allColonSelectorsMatch=element.selected();break;case":unselected":allColonSelectorsMatch=!element.selected();break;case":selectable":allColonSelectorsMatch=element.selectable();break;case":unselectable":allColonSelectorsMatch=!element.selectable();break;case":locked":allColonSelectorsMatch=element.locked();break;case":unlocked":allColonSelectorsMatch=!element.locked();break;case":visible":allColonSelectorsMatch=element.visible();break;case":hidden":allColonSelectorsMatch=!element.visible();break;case":transparent":allColonSelectorsMatch=!element.transparent();break;case":grabbed":allColonSelectorsMatch=element.grabbed();break;case":free":allColonSelectorsMatch=!element.grabbed();break;case":removed":allColonSelectorsMatch=element.removed();break;case":inside":allColonSelectorsMatch=!element.removed();break;case":grabbable":allColonSelectorsMatch=element.grabbable();break;case":ungrabbable":allColonSelectorsMatch=!element.grabbable();break;case":animated":allColonSelectorsMatch=element.animated();break;case":unanimated":allColonSelectorsMatch=!element.animated();break;case":parent":allColonSelectorsMatch=element.children().nonempty();break;case":child":allColonSelectorsMatch=element.parent().nonempty();break;case":active":allColonSelectorsMatch=element.active();break;case":inactive":allColonSelectorsMatch=!element.active();break;case":touch":allColonSelectorsMatch=window&&document&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}if(!allColonSelectorsMatch)break}if(!allColonSelectorsMatch)return!1;for(var allIdsMatch=!0,k=0;k<query.ids.length;k++){var id=query.ids[k],actualId=element._private.data.id;if(allIdsMatch=allIdsMatch&&id==actualId,!allIdsMatch)break}if(!allIdsMatch)return!1;for(var allClassesMatch=!0,k=0;k<query.classes.length;k++){var cls=query.classes[k];if(allClassesMatch=allClassesMatch&&element.hasClass(cls),!allClassesMatch)break}if(!allClassesMatch)return!1;var operandsMatch=function(params){for(var allDataMatches=!0,k=0;k<query[params.name].length;k++){var data=query[params.name][k],operator=data.operator,value=data.value,field=data.field,matches;if(null!=operator&&null!=value){var fieldStr=""+params.fieldValue(field),valStr=""+eval(value),caseInsensitive=!1;switch("@"==operator.charAt(0)&&(fieldStr=fieldStr.toLowerCase(),valStr=valStr.toLowerCase(),operator=operator.substring(1),caseInsensitive=!0),"="==operator&&(operator="=="),operator){case"*=":matches=fieldStr.search(valStr)>=0;break;case"$=":matches=null!=new RegExp(valStr+"$").exec(fieldStr);break;case"^=":matches=null!=new RegExp("^"+valStr).exec(fieldStr);break;default:if(caseInsensitive){var expr="fieldStr "+operator+" valStr";matches=eval(expr)}else{var expr=params.fieldRef(field)+" "+operator+" "+value;matches=eval(expr)}}}else if(null!=operator)switch(operator){case"?":matches=params.fieldTruthy(field);break;case"!":matches=!params.fieldTruthy(field);break;case"^":matches=params.fieldUndefined(field)}else matches=!params.fieldUndefined(field);if(!matches){allDataMatches=!1;break}}return allDataMatches},allDataMatches=operandsMatch({name:"data",fieldValue:function(a){return element._private.data[a]},fieldRef:function(a){return"element._private.data."+a},fieldUndefined:function(a){return void 0===element._private.data[a]},fieldTruthy:function(a){return element._private.data[a]?!0:!1}});if(!allDataMatches)return!1;var allMetaMatches=operandsMatch({name:"meta",fieldValue:function(a){return element[a]()},fieldRef:function(a){return"element."+a+"()"},fieldUndefined:function(a){return void 0==element[a]()},fieldTruthy:function(a){return element[a]()?!0:!1}});if(!allMetaMatches)return!1;if(null!=query.collection){var matchesAny=null!=query.collection._private.ids[element.id()];if(!matchesAny)return!1}if(null!=query.filter&&0==element.collection().filter(query.filter).size())return!1;var confirmRelations=function(a,b){if(null!=a){var c=!1;b=b();for(var d=0;d<b.size();d++)if(queryMatches(a,b.eq(d))){c=!0;break}return c}return!0};return confirmRelations(query.parent,function(){return element.parent()})?confirmRelations(query.ancestor,function(){return element.parents()})?confirmRelations(query.child,function(){return element.children()})?confirmRelations(query.descendant,function(){return element.descendants()})?!0:!1:!1:!1:!1},selectorFunction=function(a,b){for(var c=0;c<self.length;c++){var d=self[c];if(queryMatches(d,b))return!0}return!1};null==self._private.selectorText&&(selectorFunction=function(){return!0});var filteredCollection=collection.filter(selectorFunction);return filteredCollection},$$.selfn.toString=$$.selfn.selector=function(){for(var a="",b=function(a){return $$.is.string(a)?a:""},c=function(a){var e="",f=b(a.group);e+=f.substring(0,f.length-1);for(var g=0;g<a.data.length;g++){var h=a.data[g];e+="["+h.field+b(h.operator)+b(h.value)+"]"}for(var g=0;g<a.meta.length;g++){var i=a.meta[g];e+="{"+i.field+b(i.operator)+b(i.value)+"}"}for(var g=0;g<a.colonSelectors.length;g++){var j=a.colonSelectors[d];e+=j}for(var g=0;g<a.ids.length;g++){var j="#"+a.ids[d];e+=j}for(var g=0;g<a.classes.length;g++){var j="."+a.classes[d];e+=j}return null!=a.parent&&(e=c(a.parent)+" > "+e),null!=a.ancestor&&(e=c(a.ancestor)+" "+e),null!=a.child&&(e+=" > "+c(a.child)),null!=a.descendant&&(e+=" "+c(a.descendant)),e},d=0;d<this.length;d++){var e=this[d];a+=c(e),this.length>1&&d<this.length-1&&(a+=", ")}return a}}(cytoscape),function(a,b){var c=a.is.touch();a.Style=function(b){return this instanceof a.Style?a.is.core(b)?(this._private={cy:b,coreStyle:{}},this.length=0,void this.addDefaultStylesheet()):void a.util.error("A style must have a core reference"):new a.Style(b)},a.style=a.Style,a.styfn=a.Style.prototype,a.fn.style=function(b){for(var c in b){var d=b[c];a.Style.prototype=d}},a.stylesheet=a.Stylesheet=function(){return this instanceof a.Stylesheet?void(this.length=0):new a.Stylesheet},a.Stylesheet.prototype.selector=function(a){var b=this.length++;return this[b]={selector:a,properties:[]},this},a.Stylesheet.prototype.css=function(b,c){var d=this.length-1;if(a.is.string(b))this[d].properties.push({name:b,value:c});else if(a.is.plainObject(b))for(var e=b,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],h=e[g.name];if(void 0===h&&(h=e[a.util.dash2camel(g.name)]),void 0!==h){var b=g.name,c=h;this[d].properties.push({name:b,value:c})}}return this},a.style.applyFromString=function(b,c){function d(){i=i.length>f.length?i.substr(f.length):""}function e(){g=g.length>h.length?g.substr(h.length):""}var f,g,h,i=""+c;for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){var j=i.match(/^\s*$/);if(j)break;var k=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!k){a.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}f=k[0];var l=k[1],m=new a.Selector(l);if(m._private.invalid)a.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),d();else{var n=k[2],o=!1;g=n;for(var p=[];;){var j=g.match(/^\s*$/);if(j)break;var q=g.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!q){a.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+n),o=!0;break}h=q[0];var r=q[1],s=q[2],t=a.style.properties[r];if(t){var u=b.parse(r,s);u?(p.push({name:r,val:s}),e()):(a.util.error("Skipping property: Invalid property definition in: "+h),e())}else a.util.error("Skipping property: Invalid property name in: "+h),e()}if(o){d();break}b.selector(l);for(var v=0;v<p.length;v++){var t=p[v];b.css(t.name,t.val)}d()}}return b},a.style.fromString=function(b,c){var d=new a.Style(b);return a.style.applyFromString(d,c),d},a.styfn.fromString=function(b){var c=this;return c.resetToDefault(),a.style.applyFromString(c,b),c},a.style.applyFromJson=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.selector,f=d.css;a.selector(e);for(var g in f){var h=f[g];a.css(g,h)}}return a},a.style.fromJson=function(b,c){var d=new a.Style(b);return a.style.applyFromJson(d,c),d},a.styfn.fromJson=function(b){var c=this;return c.resetToDefault(),a.style.applyFromJson(c,b),c},a.styfn.json=function(){for(var a=[],b=0;b<this.length;b++){for(var c=this[b],d=c.selector,e=c.properties,f={},g=0;g<e.length;g++){var h=e[g];f[h.name]=h.strValue}a.push({selector:d?d.toString():"core",css:f})}return a},a.Stylesheet.prototype.generateStyle=function(b){for(var c=new a.Style(b),d=0;d<this.length;d++){var e=this[d],f=e.selector,g=e.properties;c.selector(f);for(var h=0;h<g.length;h++){var i=g[h];c.css(i.name,i.value)}}return c},a.Stylesheet.prototype.assignToStyle=function(a,b){a.clear(),(b||void 0===b)&&a.addDefaultStylesheet();for(var c=0;c<this.length;c++){var d=this[c],e=d.selector,f=d.properties;a.selector(e);for(var g=0;g<f.length;g++){var h=f[g];a.css(h.name,h.value)}}},function(){var b=a.util.regex.number,c=a.util.regex.rgbaNoBackRefs,d=a.util.regex.hslaNoBackRefs,e=a.util.regex.hex3,f=a.util.regex.hex6,g=function(a){return"^"+a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},h=function(a){return"^"+a+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+b+")\\s*\\,\\s*("+b+")\\s*,\\s*("+b+"|\\w+|"+c+"|"+d+"|"+e+"|"+f+")\\s*\\,\\s*("+b+"|\\w+|"+c+"|"+d+"|"+e+"|"+f+")\\)$"};a.style.types={percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},size:{number:!0,min:0,enums:["auto"]},bgSize:{number:!0,min:0,allowPercent:!0},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},curveStyle:{enums:["bundled","bezier"]},fontFamily:{regex:"^([\\w- ]+(?:\\s*,\\s*[\\w- ]+)*)$"},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","capitalize","uppercase","lowercase"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star"]},arrowShape:{enums:["tee","triangle","square","circle","diamond","none"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},positionx:{enums:["left","center","right"],number:!0,allowPercent:!0},positiony:{enums:["top","center","bottom"],number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},cursor:{enums:["auto","crosshair","default","e-resize","n-resize","ne-resize","nw-resize","pointer","progress","s-resize","sw-resize","text","w-resize","wait","grab","grabbing"]},text:{string:!0},data:{mapping:!0,regex:g("data")},layoutData:{mapping:!0,regex:g("layoutData")},mapData:{mapping:!0,regex:h("mapData")},mapLayoutData:{mapping:!0,regex:h("mapLayoutData")},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"}};var i=a.style.types;a.style.properties=[{name:"cursor",type:i.cursor},{name:"text-valign",type:i.valign},{name:"text-halign",type:i.halign},{name:"color",type:i.color},{name:"content",type:i.text},{name:"text-outline-color",type:i.color},{name:"text-outline-width",type:i.size},{name:"text-outline-opacity",type:i.zeroOneNumber},{name:"text-opacity",type:i.zeroOneNumber},{name:"text-decoration",type:i.textDecoration},{name:"text-transform",type:i.textTransform},{name:"font-family",type:i.fontFamily},{name:"font-style",type:i.fontStyle},{name:"font-variant",type:i.fontVariant},{name:"font-weight",type:i.fontWeight},{name:"font-size",type:i.size},{name:"min-zoomed-font-size",type:i.size},{name:"display",type:i.display},{name:"visibility",type:i.visibility},{name:"opacity",type:i.zeroOneNumber},{name:"z-index",type:i.nonNegativeInt},{name:"overlay-padding",type:i.size},{name:"overlay-color",type:i.color},{name:"overlay-opacity",type:i.zeroOneNumber},{name:"background-color",type:i.color},{name:"background-opacity",type:i.zeroOneNumber},{name:"background-image",type:i.url},{name:"background-position-x",type:i.positionx},{name:"background-position-y",type:i.positiony},{name:"background-repeat",type:i.bgRepeat},{name:"background-size-x",type:i.bgSize},{name:"background-size-y",type:i.bgSize},{name:"pie-1-background-color",type:i.color},{name:"pie-2-background-color",type:i.color},{name:"pie-3-background-color",type:i.color},{name:"pie-4-background-color",type:i.color},{name:"pie-5-background-color",type:i.color},{name:"pie-6-background-color",type:i.color},{name:"pie-7-background-color",type:i.color},{name:"pie-8-background-color",type:i.color},{name:"pie-9-background-color",type:i.color},{name:"pie-10-background-color",type:i.color},{name:"pie-11-background-color",type:i.color},{name:"pie-12-background-color",type:i.color},{name:"pie-13-background-color",type:i.color},{name:"pie-14-background-color",type:i.color},{name:"pie-15-background-color",type:i.color},{name:"pie-16-background-color",type:i.color},{name:"pie-1-background-size",type:i.percent},{name:"pie-2-background-size",type:i.percent},{name:"pie-3-background-size",type:i.percent},{name:"pie-4-background-size",type:i.percent},{name:"pie-5-background-size",type:i.percent},{name:"pie-6-background-size",type:i.percent},{name:"pie-7-background-size",type:i.percent},{name:"pie-8-background-size",type:i.percent},{name:"pie-9-background-size",type:i.percent},{name:"pie-10-background-size",type:i.percent},{name:"pie-11-background-size",type:i.percent},{name:"pie-12-background-size",type:i.percent},{name:"pie-13-background-size",type:i.percent},{name:"pie-14-background-size",type:i.percent},{name:"pie-15-background-size",type:i.percent},{name:"pie-16-background-size",type:i.percent},{name:"border-color",type:i.color},{name:"border-opacity",type:i.zeroOneNumber},{name:"border-width",type:i.size},{name:"border-style",type:i.lineStyle},{name:"height",type:i.size},{name:"width",type:i.size},{name:"padding-left",type:i.size},{name:"padding-right",type:i.size},{name:"padding-top",type:i.size},{name:"padding-bottom",type:i.size},{name:"shape",type:i.nodeShape},{name:"source-arrow-shape",type:i.arrowShape},{name:"target-arrow-shape",type:i.arrowShape},{name:"source-arrow-color",type:i.color},{name:"target-arrow-color",type:i.color},{name:"line-style",type:i.lineStyle},{name:"line-color",type:i.color},{name:"control-point-step-size",type:i.size},{name:"curve-style",type:i.curveStyle},{name:"selection-box-color",type:i.color},{name:"selection-box-opacity",type:i.zeroOneNumber},{name:"selection-box-border-color",type:i.color},{name:"selection-box-border-width",type:i.size},{name:"panning-cursor",type:i.cursor},{name:"active-bg-color",type:i.color},{name:"active-bg-opacity",type:i.zeroOneNumber},{name:"active-bg-size",type:i.size}];for(var j=a.style.properties,k=0;k<j.length;k++){var l=j[k];j[l.name]=l}a.style.pieBackgroundN=16}(),a.styfn.addDefaultStylesheet=function(){var a="Helvetica",b="normal",d="normal",e="normal",f="#000",g="none",h=16;this.selector("node, edge").css({cursor:"default","text-valign":"top","text-halign":"center",color:f,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":g,"font-family":a,"font-style":b,"font-variant":d,"font-weight":e,"font-size":h,"min-zoomed-font-size":0,visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"background-color":"#888","background-opacity":1,"background-image":"none","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,shape:"ellipse","pie-1-background-color":"black","pie-1-background-size":"0%","pie-2-background-color":"black","pie-2-background-size":"0%","pie-3-background-color":"black","pie-3-background-size":"0%","pie-4-background-color":"black","pie-4-background-size":"0%","pie-5-background-color":"black","pie-5-background-size":"0%","pie-6-background-color":"black","pie-6-background-size":"0%","pie-7-background-color":"black","pie-7-background-size":"0%","pie-8-background-color":"black","pie-8-background-size":"0%","pie-9-background-color":"black","pie-9-background-size":"0%","pie-10-background-color":"black","pie-10-background-size":"0%","pie-11-background-color":"black","pie-11-background-size":"0%","pie-12-background-color":"black","pie-12-background-size":"0%","pie-13-background-color":"black","pie-13-background-size":"0%","pie-14-background-color":"black","pie-14-background-size":"0%","pie-15-background-color":"black","pie-15-background-size":"0%","pie-16-background-color":"black","pie-16-background-size":"0%","source-arrow-shape":"none","target-arrow-shape":"none","source-arrow-color":"#bbb","target-arrow-color":"#bbb","line-style":"solid","line-color":"#bbb","control-point-step-size":40,"curve-style":"bezier"}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"panning-cursor":"grabbing","active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":c?40:15})},a.styfn.clear=function(){this._private.newStyle=!0;for(var a=0;a<this.length;a++)delete this[a];return this.length=0,this},a.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},a.styfn.core=function(){return this._private.coreStyle},a.styfn.parse=function(b,c,d){b=a.util.camel2dash(b);var e=a.style.properties[b],f=c;if(!e)return null;if(void 0===c||null===c)return null;var g=a.is.string(c);g&&(c=a.util.trim(c));var h=e.type;if(!h)return null;if(d&&(""===c||null===c))return{name:b,value:c,bypass:!0,deleteBypass:!0};var i,j,k,l;if(g){if((i=new RegExp(a.style.types.data.regex).exec(c))||(k=new RegExp(a.style.types.layoutData.regex).exec(c))){var m=void 0!==k;return i=i||k,{name:b,value:i,strValue:c,mapped:m?a.style.types.layoutData:a.style.types.data,field:i[1],bypass:d}}if((j=new RegExp(a.style.types.mapData.regex).exec(c))||(l=new RegExp(a.style.types.mapLayoutData.regex).exec(c))){var m=void 0!==l;if(j=j||l,!h.color&&!h.number)return!1;var n=this.parse(b,j[4]);if(!n||n.mapped)return!1;var o=this.parse(b,j[5]);if(!o||o.mapped)return!1;if(n.value===o.value)return!1;if(h.color){var p=n.value,q=o.value,r=!(p[0]!==q[0]||p[1]!==q[1]||p[2]!==q[2]||p[3]!==q[3]&&(null!=p[3]&&1!==p[3]||null!=q[3]&&1!==q[3]));if(r)return!1}return{name:b,value:j,strValue:c,mapped:m?a.style.types.mapLayoutData:a.style.types.mapData,field:j[1],fieldMin:parseFloat(j[2]),fieldMax:parseFloat(j[3]),valueMin:n.value,valueMax:o.value,bypass:d}}}else;if(h.number){var s,t="px";if(h.units&&(s=h.units),!h.unitless)if(g){var u="px|em"+(h.allowPercent?"|\\%":"");s&&(u=s);var v=c.match("^("+a.util.regex.number+")("+u+")?$");v&&(c=v[1],s=v[2]||t)}else s||(s=t);if(c=parseFloat(c),isNaN(c)&&void 0===h.enums)return null;if(isNaN(c)&&void 0!==h.enums){c=f;for(var w=0;w<h.enums.length;w++){var x=h.enums[w];if(x===c)return{name:b,value:c,strValue:c,bypass:d}}return null}if(h.integer&&!a.is.integer(c))return null;if(void 0!==h.min&&c<h.min||void 0!==h.max&&c>h.max)return null;var y={name:b,value:c,strValue:""+c+(s?s:""),units:s,bypass:d,pxValue:h.unitless||"%"===s?void 0:"px"!==s&&s?this.getEmSizeInPixels()*c:c};return y}if(h.color){var z=a.util.color2tuple(c);return{name:b,value:z,strValue:c,bypass:d}}if(!h.enums){if(h.regex){var A=new RegExp(h.regex),B=A.exec(c);return B?{name:b,value:B,strValue:c,bypass:d}:null}return h.string?{name:b,value:c,strValue:c,bypass:d}:null}for(var w=0;w<h.enums.length;w++){var x=h.enums[w];if(x===c)return{name:b,value:c,strValue:c,bypass:d}}},a.styfn.getEmSizeInPixels=function(){var a=this._private.cy,c=a.container();if(b&&c&&b.getComputedStyle){var d=b.getComputedStyle(c).getPropertyValue("font-size"),e=parseFloat(d);return e}return 1},a.styfn.containerCss=function(a){var c=this._private.cy,d=c.container();return b&&d&&b.getComputedStyle?b.getComputedStyle(d).getPropertyValue(a):void 0},a.styfn.containerProperty=function(a){var b=this.containerCss(a),c=this.parse(a,b);return c},a.styfn.containerPropertyAsString=function(a){var b=this.containerProperty(a);return b?b.strValue:void 0},a.styfn.selector=function(b){var c="core"===b?null:new a.Selector(b),d=this.length++;return this[d]={selector:c,properties:[]},this},a.styfn.css=function(){var b=arguments;switch(b.length){case 1:for(var c=b[0],d=0;d<a.style.properties.length;d++){var e=a.style.properties[d],f=c[e.name];void 0===f&&(f=c[a.util.dash2camel(e.name)]),void 0!==f&&this.cssRule(e.name,f)}break;case 2:this.cssRule(b[0],b[1])}return this},a.styfn.cssRule=function(a,b){var c=this.parse(a,b);if(c){var d=this.length-1;this[d].properties.push(c);var e=!this[d].selector;e&&(this._private.coreStyle[c.name]=c)}return this},a.styfn.applyParsedProperty=function(b,c,d){c=a.util.clone(c);var e,f,g=c,h=b._private.style,i=a.style.properties[g.name].type,j=g.bypass,k=h[g.name],l=k&&k.bypass;if(("height"===c.name||"width"===c.name)&&"auto"===c.value&&b.isNode()&&!b.isParent())return!1;if(j&&g.deleteBypass){var m=h[g.name];return m?m.bypass&&m.bypassed?(h[g.name]=m.bypassed,!0):!1:!0}switch(g.mapped){case a.style.types.mapData:case a.style.types.mapLayoutData:for(var n=g.mapped===a.style.types.mapLayoutData,o=g.field.split("."),e=n?b._private.layoutData:b._private.data,p=0;p<o.length&&e;p++){var q=o[p];e=e[q]}if(!a.is.number(e))return!1;var r=(e-g.fieldMin)/(g.fieldMax-g.fieldMin);if(i.color){var s=g.valueMin[0],t=g.valueMax[0],u=g.valueMin[1],v=g.valueMax[1],w=g.valueMin[2],x=g.valueMax[2],y=null==g.valueMin[3]?1:g.valueMin[3],z=null==g.valueMax[3]?1:g.valueMax[3],A=[Math.round(s+(t-s)*r),Math.round(u+(v-u)*r),Math.round(w+(x-w)*r),Math.round(y+(z-y)*r)];f={bypass:g.bypass,name:g.name,value:A,strValue:["rgba(",A[0],", ",A[1],", ",A[2],", ",A[3],")"].join("")}}else{if(!i.number)return!1;var B=g.valueMin+(g.valueMax-g.valueMin)*r;f=this.parse(g.name,B,g.bypass)}f||(f=this.parse(g.name,k.strValue,g.bypass)),f.mapping=g,g=f;break;case a.style.types.data:case a.style.types.layoutData:for(var n=g.mapped===a.style.types.layoutData,o=g.field.split("."),e=n?b._private.layoutData:b._private.data,p=0;p<o.length&&e;p++){var q=o[p];e=e[q]}f=this.parse(g.name,e,g.bypass),f||(f=this.parse(g.name,k.strValue,g.bypass)),f.mapping=g,g=f;break;case void 0:break;default:return!1}if(j)g.bypassed=l?k.bypassed:k,h[g.name]=g;else{var C;l?(C=k.bypassed,k.bypassed=g):(C=h[g.name],h[g.name]=g),C&&C.mapping&&g.mapping&&C.context===d&&(C=C.prev),C&&C!==g&&(g.prev=C)}return g.context=d,!0},a.styfn.rollBackContext=function(a,b){for(var c=0;c<b.properties.length;c++){var d=b.properties[c],e=a._private.style[d.name];e.bypassed&&(e=e.bypassed);for(var f,g=!0,h=0;e.prev;){var i=e.prev;e.context===b&&(g?a._private.style[d.name]=i:f&&(f.prev=i)),f=e,e=i,g=!1,h++}}},a.styfn.apply=function(a){for(var b=this,c=0;c<a.length;c++){var d=a[c];b._private.newStyle&&(d._private.styleCxts=[],d._private.style={});for(var e=0;e<this.length;e++){var f=this[e],g=f.selector&&f.selector.filter(d).length>0,h=f.properties;if(g){for(var i=0;i<h.length;i++){var j=h[i],k=!d._private.styleCxts[e],l=d._private.style[j.name],m=l&&l.context===f,n=j.mapped&&m;(k||n)&&this.applyParsedProperty(d,j,f)}d._private.styleCxts[e]=f}else d._private.styleCxts[e]&&this.rollBackContext(d,f),delete d._private.styleCxts[e]}}b._private.newStyle=!1},a.styfn.update=function(){var a=this._private.cy,b=a.elements();b.updateStyle()},a.styfn.getRenderedStyle=function(b){var b=b[0];if(b){for(var c={},d=b._private.style,e=this._private.cy,f=e.zoom(),g=0;g<a.style.properties.length;g++){var h=a.style.properties[g],i=d[h.name];if(i){var j=i.unitless?i.strValue:i.pxValue*f+"px";c[h.name]=j,c[a.util.dash2camel(h.name)]=j}}return c}},a.styfn.getRawStyle=function(b){var b=b[0];if(b){for(var c={},d=b._private.style,e=0;e<a.style.properties.length;e++){var f=a.style.properties[e],g=d[f.name];g&&(c[f.name]=g.strValue,c[a.util.dash2camel(f.name)]=g.strValue)}return c}},a.styfn.getValueStyle=function(b){var c,d;if(a.is.element(b)?(c={},d=b._private.style):(c={},d=b),d)for(var e=0;e<a.style.properties.length;e++){var f=a.style.properties[e],g=d[f.name]||d[a.util.dash2camel(f.name)];if(void 0===g||a.is.plainObject(g)||(g=this.parse(f.name,g)),g){var h=void 0===g.value?g:g.value;c[f.name]=h,c[a.util.dash2camel(f.name)]=h}}return c},a.styfn.updateMappers=function(b){for(var c=0;c<b.length;c++)for(var d=b[c],e=d._private.style,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],h=e[g.name];if(h&&h.mapping){var i=h.mapping;this.applyParsedProperty(d,i)}}},a.styfn.applyBypass=function(b,c,d){var e=[];if("*"===c||"**"===c){if(void 0!==d)for(var f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],c=g.name,h=this.parse(c,d,!0);h&&e.push(h)}}else if(a.is.string(c)){var h=this.parse(c,d,!0);h&&e.push(h)}else{if(!a.is.plainObject(c))return!1;for(var i=c,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],c=g.name,d=i[c];if(void 0===d&&(d=i[a.util.dash2camel(c)]),void 0!==d){var h=this.parse(c,d,!0);h&&e.push(h)}}}if(0===e.length)return!1;for(var j=!1,f=0;f<b.length;f++)for(var k=b[f],l=0;l<e.length;l++){var g=e[l];j=this.applyParsedProperty(k,g)||j}return j},a.styfn.removeAllBypasses=function(b){for(var c=0;c<a.style.properties.length;c++)for(var d=a.style.properties[c],e=d.name,f="",g=this.parse(e,f,!0),h=0;h<b.length;h++){var i=b[h];this.applyParsedProperty(i,g)}}}(cytoscape,"undefined"==typeof window?null:window),function(a,b){var c=a.is.touch(),d={hideEdgesOnViewport:!1},e=a.util.copy(d);a.defaults=function(b){d=a.util.extend({},e,b)},a.fn.core=function(b){for(var c in b){var d=b[c];a.Core.prototype[c]=d}},a.Core=function(e){if(!(this instanceof a.Core))return new a.Core(e);var f=this;e=a.util.extend({},d,e);var g=e.container,h=a.getRegistrationForInstance(f,g);h&&h.cy&&(h.domElement.innerHTML="",h.cy.notify({type:"destroy"}),a.removeRegistrationForInstance(h.cy,h.domElement)),h=a.registerInstance(f,g);var i=h.readies,j=e;j.layout=a.util.extend({name:b&&g?"grid":"null"},j.layout),j.renderer=a.util.extend({name:b&&g?"canvas":"null"},j.renderer);var k=this._private={ready:!1,initrender:!1,instanceId:h.id,options:j,elements:[],id2index:{},listeners:[],aniEles:[],scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:void 0===j.zoomingEnabled?!0:j.zoomingEnabled,userZoomingEnabled:void 0===j.userZoomingEnabled?!0:j.userZoomingEnabled,panningEnabled:void 0===j.panningEnabled?!0:j.panningEnabled,userPanningEnabled:void 0===j.userPanningEnabled?!0:j.userPanningEnabled,boxSelectionEnabled:void 0===j.boxSelectionEnabled?!0:j.boxSelectionEnabled,zoom:a.is.number(j.zoom)?j.zoom:1,pan:{x:a.is.plainObject(j.pan)&&a.is.number(j.pan.x)?j.pan.x:0,y:a.is.plainObject(j.pan)&&a.is.number(j.pan.y)?j.pan.y:0},hasCompoundNodes:!1},l=j.selectionType;k.selectionType=void 0===l||"additive"!==l&&"single"!==l?c?"additive":"single":l,a.is.number(j.minZoom)&&a.is.number(j.maxZoom)&&j.minZoom<j.maxZoom?(k.minZoom=j.minZoom,k.maxZoom=j.maxZoom):a.is.number(j.minZoom)&&void 0===j.maxZoom?k.minZoom=j.minZoom:a.is.number(j.maxZoom)&&void 0===j.minZoom&&(k.maxZoom=j.maxZoom),k.style=a.is.stylesheet(j.style)?j.style.generateStyle(this):a.is.array(j.style)?a.style.fromJson(this,j.style):a.is.string(j.style)?a.style.fromString(this,j.style):new a.Style(f),f.initRenderer(a.util.extend({hideEdgesOnViewport:j.hideEdgesOnViewport},j.renderer)),j.initrender&&(f.on("initrender",j.initrender),f.on("initrender",function(){f._private.initrender=!0})),f.load(j.elements,function(){f.startAnimationLoop(),f._private.ready=!0,a.is.fn(j.ready)&&f.bind("ready",j.ready);
for(var b=0;b<i.length;b++){var c=i[b];f.bind("ready",c)}h.readies=[],f.trigger("ready")},j.done)},a.corefn=a.Core.prototype,a.fn.core({ready:function(){return this._private.ready},initrender:function(){return this._private.initrender},registered:function(){return this._private&&null!=this._private.instanceId?!0:!1},registeredId:function(){return this._private.instanceId},getElementById:function(b){var c=this._private.id2index[b];return void 0!==c?this._private.elements[c]:new a.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},addToPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var e=a[d],f=e._private.data.id,g=c[f],h=void 0!==g;h||(g=b.length,b.push(e),c[f]=g,e._private.index=g)}return this},removeFromPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var e=a[d],f=e._private.data.id,g=c[f],h=void 0!==g;if(h){delete this._private.id2index[f],b.splice(g,1);for(var i=g;i<b.length;i++){var j=b[i]._private.data.id;c[j]--}}}},container:function(){return this._private.options.container},options:function(){return a.util.copy(this._private.options)},json:function(){var a={},b=this;return a.elements={},b.elements().each(function(b,c){var d=c.group();a.elements[d]||(a.elements[d]=[]),a.elements[d].push(c.json())}),a.style=b.style().json(),a.scratch=b.scratch(),a.zoomingEnabled=b._private.zoomingEnabled,a.userZoomingEnabled=b._private.userZoomingEnabled,a.zoom=b._private.zoom,a.minZoom=b._private.minZoom,a.maxZoom=b._private.maxZoom,a.panningEnabled=b._private.panningEnabled,a.userPanningEnabled=b._private.userPanningEnabled,a.pan=b._private.pan,a.boxSelectionEnabled=b._private.boxSelectionEnabled,a.layout=b._private.options.layout,a.renderer=b._private.options.renderer,a.hideEdgesOnViewport=b._private.options.hideEdgesOnViewport,a}})}(cytoscape,"undefined"==typeof window?null:window),function(a,b){function c(a){var b=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?c:a;setTimeout(b,9,a)}a.fn.core({add:function(b){var c,d=this;if(a.is.elementOrCollection(b)){var e=b;if(e._private.cy===d)c=e.restore();else{for(var f=[],g=0;g<e.length;g++){var h=e[g];f.push(h.json())}c=new a.Collection(d,f)}}else if(a.is.array(b)){var f=b;c=new a.Collection(d,f)}else if(a.is.plainObject(b)&&(a.is.array(b.nodes)||a.is.array(b.edges))){for(var i=b,f=[],j=["nodes","edges"],g=0,k=j.length;k>g;g++){var l=j[g],m=i[l];if(a.is.array(m))for(var n=0,o=m.length;o>n;n++){var p=m[n],q=a.util.extend({},p,{group:l});f.push(q)}}c=new a.Collection(d,f)}else{var p=b;c=new a.Element(d,p).collection()}return c},remove:function(b){if(a.is.elementOrCollection(b))b=b;else if(a.is.string(b)){var c=b;b=this.$(c)}return b.remove()},load:function(d,e,f){function g(){h.one("layoutready",function(a){h.notifications(!0),h.trigger(a),h.notify({type:"load",collection:h.elements()}),h.one("load",e),h.trigger("load")}).one("layoutstop",function(){h.one("done",f),h.trigger("done")}),h.layout(h._private.options.layout)}var h=this,i=h.elements();return i.length>0&&i.remove(),h.notifications(!1),null!=d&&(a.is.plainObject(d)||a.is.array(d))&&h.add(d),b?c(g):g(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(a){a.fn.core({addToAnimationPool:function(a){for(var b=this,c=b._private.aniEles,d=[],e=0;e<c.length;e++){var f=c[e]._private.data.id;d[f]=!0}for(var e=0;e<a.length;e++){var g=a[e],f=g._private.data.id;d[f]||c.push(g)}},startAnimationLoop:function(){function b(){function a(){k(function(a){c(a),b()},l)}i?setTimeout(function(){a()},h):a()}function c(b){b=+new Date;for(var c=g._private.aniEles,e=0;e<c.length;e++){var f=c[e],h=f._private.animation.current,i=f._private.animation.queue;if(0===h.length){var j=i,k=j.length>0?j.shift():null;null!=k&&(k.callTime=+new Date,h.push(k))}for(var l=[],m=0;m<h.length;m++){var n=h[m];d(f,n,b),h[m].done&&(l.push(n),h.splice(m,1),m--)}for(var m=0;m<l.length;m++){var n=l[m],o=n.params.complete;a.is.fn(o)&&o.apply(f,[b])}}c.length>0&&g.notify({type:"draw",collection:c});for(var m=0;m<c.length;m++){var f=c[m],i=f._private.animation.queue,h=f._private.animation.current,p=h.length>0||i.length>0;p||(c.splice(m,1),m--)}}function d(b,c,d){var h,i=g._private.style,j=c.properties,k=c.params,l=c.callTime;if(h=0===c.duration?1:Math.min(1,(d-l)/c.duration),0>h?h=0:h>1&&(h=1),null==j.delay){var m=c.startPosition,n=j.position,o=b._private.position;if(n&&(e(m.x,n.x)&&(o.x=f(m.x,n.x,h)),e(m.y,n.y)&&(o.y=f(m.y,n.y,h))),j.css)for(var p=a.style.properties,q=0;q<p.length;q++){var r=p[q].name,s=j.css[r];if(void 0!==s){var t=c.startStyle[r],u=f(t,s,h);i.applyBypass(b,r,u)}}}return a.is.fn(k.step)&&k.step.apply(b,[d]),h>=1&&(c.done=!0),h}function e(b,c){return null==b||null==c?!1:a.is.number(b)&&a.is.number(c)?!0:b&&c?!0:!1}function f(b,c,d){if(0>d?d=0:d>1&&(d=1),a.is.number(b)&&a.is.number(c))return b+(c-b)*d;if(a.is.number(b[0])&&a.is.number(c[0])){var e=b,f=c,g=function(a,b){var c=b-a,e=a;return Math.round(d*c+e)},h=g(e[0],f[0]),i=g(e[1],f[1]),j=g(e[2],f[2]);return"rgb("+h+", "+i+", "+j+")"}return void 0}var g=this,h=1e3/60,i=!1,j=!0;g._private.aniEles=[];var k="undefined"==typeof window?function(){}:window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;null!=k&&j||(k=function(a){window.setTimeout(function(){a(+new Date)},h)});var l=g.container();b()}})}(cytoscape),function(a){a.fn.core({data:a.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:a.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),batchData:a.define.batchData({field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),scratch:a.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:a.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(a){a.fn.core({on:a.define.on(),one:a.define.on({unbindSelfOnTrigger:!0}),once:a.define.on({unbindAllBindersOnTrigger:!0}),off:a.define.off(),trigger:a.define.trigger()}),a.corefn.bind=a.corefn.on,a.corefn.unbind=a.corefn.off}(cytoscape),function(a){a.fn.core({png:function(a){var b=this._private.renderer;return a=a||{},b.png(a)}})}(cytoscape),function(a){a.fn.core({layout:function(a){var b=this;return this._private.layoutRunning?this:(null==a&&(a=this._private.options.layout),this.initLayout(a),b.trigger("layoutstart"),this._private.layoutRunning=!0,this.one("layoutstop",function(){b._private.layoutRunning=!1}),this._private.layout.run(),this)},initLayout:function(b){if(null==b)return void a.util.error("Layout options must be specified to run a layout");if(null==b.name)return void a.util.error("A `name` must be specified to run a layout");var c=b.name,d=a.extension("layout",c);return null==d?void a.util.error("Can not apply layout: No such layout `%s` found; did you include its JS file?",c):(this._private.layout=new d(a.util.extend({},b,{renderer:this._private.renderer,cy:this})),void(this._private.options.layout=b))}})}(cytoscape),function(a){a.fn.core({notify:function(b){if(this._private.notificationsEnabled){var c=this.renderer(),d=this;if(a.is.element(b.collection)){var e=b.collection;b.collection=new a.Collection(d,[e])}else if(a.is.array(b.collection)){var f=b.collection;b.collection=new a.Collection(d,f)}c.notify(b)}},notifications:function(a){var b=this._private;return void 0===a?b.notificationsEnabled:void(b.notificationsEnabled=a?!0:!1)},noNotifications:function(a){this.notifications(!1),a(),this.notifications(!0)}})}(cytoscape),function(a){a.fn.core({renderTo:function(a,b,c){var d=this._private.renderer;return d.renderTo(a,b,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},initRenderer:function(b){var c=this,d=a.extension("renderer",b.name);return null==d?void a.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",b.name):void(this._private.renderer=new d(a.util.extend({},b,{cy:c,style:c._private.style})))},recalculateRenderedStyle:function(){var a=this.renderer();a.recalculateRenderedStyle&&a.recalculateRenderedStyle()}})}(cytoscape),function(a){a.fn.core({collection:function(b){return a.is.string(b)?this.$(b):a.is.elementOrCollection(b)?b.collection():new a.Collection(this)},nodes:function(a){var b=this.$("node");return a?b.filter(a):b},edges:function(a){var b=this.$("edge");return a?b.filter(a):b},$:function(b){var c=new a.Collection(this,this._private.elements);return b?c.filter(b):c}}),a.corefn.elements=a.corefn.filter=a.corefn.$}(cytoscape),function(a){a.fn.core({style:function(){return this._private.style}})}(cytoscape),function(a){a.fn.core({panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=a?!0:!1,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:(this._private.userPanningEnabled=a?!0:!1,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=a?!0:!1,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=a?!0:!1,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=a?!0:!1,this)},pan:function(){var b,c,d,e,f,g=arguments,h=this._private.pan;switch(g.length){case 0:return h;case 1:if(!this._private.panningEnabled)return this;if(a.is.string(g[0]))return b=g[0],h[b];a.is.plainObject(g[0])&&(d=g[0],e=d.x,f=d.y,a.is.number(e)&&(h.x=e),a.is.number(f)&&(h.y=f),this.trigger("pan"));break;case 2:if(!this._private.panningEnabled)return this;b=g[0],c=g[1],"x"!==b&&"y"!==b||!a.is.number(c)||(h[b]=c),this.trigger("pan")}return this.notify({type:"viewport"}),this},panBy:function(){var b,c,d,e,f,g=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(g.length){case 1:a.is.plainObject(g[0])&&(d=g[0],e=d.x,f=d.y,a.is.number(e)&&(h.x+=e),a.is.number(f)&&(h.y+=f),this.trigger("pan"));break;case 2:b=g[0],c=g[1],"x"!==b&&"y"!==b||!a.is.number(c)||(h[b]+=c),this.trigger("pan")}return this.notify({type:"viewport"}),this},fit:function(b,c){if(a.is.number(b)&&void 0===c&&(c=b,b=void 0),!this._private.panningEnabled||!this._private.zoomingEnabled)return this;if(a.is.string(b)){var d=b;b=this.$(d)}else a.is.elementOrCollection(b)||(b=this.elements());var e,f=b.boundingBox(),g=this.style(),h=parseFloat(g.containerCss("width")),i=parseFloat(g.containerCss("height"));return c=a.is.number(c)?c:0,!isNaN(h)&&!isNaN(i)&&b.length>0&&(e=this._private.zoom=Math.min((h-2*c)/f.w,(i-2*c)/f.h),e=e>this._private.maxZoom?this._private.maxZoom:e,e=e<this._private.minZoom?this._private.minZoom:e,this._private.pan={x:(h-e*(f.x1+f.x2))/2,y:(i-e*(f.y1+f.y2))/2},this.trigger("pan zoom"),this.notify({type:"viewport"})),this},minZoom:function(b){return void 0===b?this._private.minZoom:(a.is.number(b)&&(this._private.minZoom=b),this)},maxZoom:function(b){return void 0===b?this._private.maxZoom:(a.is.number(b)&&(this._private.maxZoom=b),this)},zoom:function(b){var c,d;if(void 0===b)return this._private.zoom;if(a.is.number(b))d=b;else if(a.is.plainObject(b)){if(d=b.level,b.position){var e=b.position,f=this._private.pan,g=this._private.zoom;c={x:e.x*g+f.x,y:e.y*g+f.y}}else b.renderedPosition&&(c=b.renderedPosition);if(c&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!a.is.number(d)||c&&(!a.is.number(c.x)||!a.is.number(c.y)))return this;if(d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d,c){var h=this._private.pan,i=this._private.zoom,j=d,k={x:-j/i*(c.x-h.x)+c.x,y:-j/i*(c.y-h.y)+c.y};this._private.zoom=d,this._private.pan=k;var l=h.x!==k.x||h.y!==k.y;this.trigger("zoom"+(l?" pan":""))}else this._private.zoom=d,this.trigger("zoom");return this.notify({type:"viewport"}),this},boundingBox:function(a){var b=this.$(a);return b.boundingBox()},renderedBoundingBox:function(a){var b=this.$(a);return b.renderedBoundingBox()},center:function(b){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;if(a.is.string(b)){var c=b;b=cy.elements(c)}else a.is.elementOrCollection(b)||(b=cy.elements());var d=b.boundingBox(),e=this.style(),f=parseFloat(e.containerCss("width")),g=parseFloat(e.containerCss("height")),h=this._private.zoom;return this.pan({x:(f-h*(d.x1+d.x2))/2,y:(g-h*(d.y1+d.y2))/2}),this.trigger("pan"),this.notify({type:"viewport"}),this},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.pan({x:0,y:0}),this._private.maxZoom>1&&this._private.minZoom<1&&this.zoom(1),this.notify({type:"viewport"}),this):this}})}(cytoscape),function(a){a.fn.collection=a.fn.eles=function(b){for(var c in b){var d=b[c];a.Collection.prototype[c]=d}};var b={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(b,c,d){var e=a.is.element(c)?c._private:c,f=e.group,g=null!=d?d:this.prefix[f]+this.id[f];if(b.getElementById(g).empty())this.id[f]++;else for(;!b.getElementById(g).empty();)g=this.prefix[f]+ ++this.id[f];return g}};a.Element=function(b,c,d){if(!(this instanceof a.Element))return new a.Element(b,c,d);var e=this;if(d=void 0===d||d?!0:!1,void 0===b||void 0===c||!a.is.core(b))return void a.util.error("An element must have a core reference and parameters set");if("nodes"!==c.group&&"edges"!==c.group)return void a.util.error("An element must be of type `nodes` or `edges`; you specified `"+c.group+"`");if(this.length=1,this[0]=this,this._private={cy:b,single:!0,data:c.data||{},layoutData:{},position:c.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:c.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:c.selected?!0:!1,selectable:void 0===c.selectable?!0:c.selectable?!0:!1,locked:c.locked?!0:!1,grabbed:!1,grabbable:void 0===c.grabbable?!0:c.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:{},edges:[],children:[]},c.renderedPosition){var f=c.renderedPosition,g=b.pan(),h=b.zoom();this._private.position={x:(f.x-g.x)/h,y:(f.y-g.y)/h}}if(a.is.string(c.classes))for(var i=c.classes.split(/\s+/),j=0,k=i.length;k>j;j++){var l=i[j];l&&""!==l&&(e._private.classes[l]=!0)}c.css&&b.style().applyBypass(this,c.css),(void 0===d||d)&&this.restore()},a.Collection=function(c,d){if(!(this instanceof a.Collection))return new a.Collection(c,d);if(void 0===c||!a.is.core(c))return void a.util.error("A collection must have a reference to the core");var e={},f=[],g=!1;if(d){if(d.length>0&&a.is.plainObject(d[0])&&!a.is.element(d[0])){g=!0;for(var h=[],i={},j=0,k=d.length;k>j;j++){var l=d[j];null==l.data&&(l.data={});var m=l.data;if(null==m.id)m.id=b.generate(c,l);else if(0!=c.getElementById(m.id).length||i[m.id])continue;var n=new a.Element(c,l,!1);h.push(n),i[m.id]=!0}d=h}}else d=[];for(var j=0,k=d.length;k>j;j++){var o=d[j];if(o){var p=o._private.data.id;e[p]||(e[p]=o,f.push(o))}}for(var j=0,k=f.length;k>j;j++)this[j]=f[j];this.length=f.length,this._private={cy:c,ids:e},g&&this.restore()},a.elefn=a.elesfn=a.Element.prototype=a.Collection.prototype,a.elesfn.cy=function(){return this._private.cy},a.elesfn.element=function(){return this[0]},a.elesfn.collection=function(){return a.is.collection(this)?this:new a.Collection(this._private.cy,[this])},a.elesfn.json=function(){var b=this.element();if(null==b)return void 0;var c=b._private,d=a.util.copy({data:c.data,position:c.position,group:c.group,bypass:c.bypass,removed:c.removed,selected:c.selected,selectable:c.selectable,locked:c.locked,grabbed:c.grabbed,grabbable:c.grabbable,classes:""}),e=[];for(var f in c.classes)e.push(f);for(var g=0;g<e.length;g++){var f=e[g];d.classes+=f+(g<e.length-1?" ":"")}return d},a.elesfn.jsons=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b],d=c.json();a.push(d)}return a},a.elesfn.restore=function(c){var d=this,e=[],f=d.cy();void 0===c&&(c=!0);for(var g=[],h=[],i=[],j=0,k=0,l=0,m=d.length;m>l;l++){var n=d[l];n.isNode()?(h.push(n),j++):(i.push(n),k++)}g=h.concat(i);for(var l=0,m=g.length;m>l;l++){var n=g[l];if(n.removed()){var o=n._private,p=o.data;if(void 0===p.id)p.id=b.generate(f,n);else{if(a.is.emptyString(p.id)||!a.is.string(p.id)){a.util.error("Can not create element with invalid string ID `"+p.id+"`");continue}if(0!=f.getElementById(p.id).length){a.util.error("Can not create second element with ID `"+p.id+"`");continue}}{p.id}if(n.isEdge()){for(var q=n,r=["source","target"],s=r.length,t=!1,u=0;s>u;u++){var v=r[u],w=p[v];null==w||""===w?(a.util.error("Can not create edge `"+p.id+"` with unspecified "+v),t=!0):f.getElementById(w).empty()&&(a.util.error("Can not create edge `"+p.id+"` with nonexistant "+v+" `"+w+"`"),t=!0)}if(t)continue;var x=f.getElementById(p.source),y=f.getElementById(p.target);x._private.edges.push(q),y._private.edges.push(q)}o.ids={},o.ids[p.id]=n,o.removed=!1,f.addToPool(n),e.push(n)}}for(var l=0;j>l;l++){var z=g[l],p=z._private.data,A=(p.id,z._private.data.parent),B=null!=A;if(B){var C=f.getElementById(A);if(C.empty())delete p.parent;else{for(var D=!1,E=C;!E.empty();){if(z.same(E)){D=!0,delete p.parent;break}E=E.parent()}D||(C[0]._private.children.push(z),f._private.hasCompoundNodes=!0)}}}if(e=new a.Collection(f,e),e.length>0){var F=e.add(e.connectedNodes()).add(e.parent());F.updateStyle(c),c?e.rtrigger("add"):e.trigger("add")}return d},a.elesfn.removed=function(){var a=this[0];return a&&a._private.removed},a.elesfn.inside=function(){var a=this[0];return a&&!a._private.removed},a.elesfn.remove=function(b){function c(a){for(var b=a._private.edges,c=0;c<b.length;c++)e(b[c])}function d(a){for(var b=a._private.children,c=0;c<b.length;c++)e(b[c])}function e(a){var b=k[a.id()];b||(k[a.id()]=!0,a.isNode()?(j.push(a),c(a),d(a)):j.unshift(a))}function f(a,b){for(var c=a._private.edges,d=0;d<c.length;d++){var e=c[d];if(b===e){c.splice(d,1);break}}}function g(a,b){b=b[0],a=a[0];for(var c=a._private.children,d=0;d<c.length;d++)if(c[d][0]===b[0]){c.splice(d,1);break}}var h=this,i=[],j=[],k={},l=h._private.cy;void 0===b&&(b=!0);for(var m=0,n=h.length;n>m;m++){var o=h[m];e(o)}for(var m=0;m<j.length;m++){var o=j[m];if(o._private.removed=!0,l.removeFromPool(o),i.push(o),o.isEdge()){var p=o.source()[0],q=o.target()[0];f(p,o),f(q,o)}else{var r=o.parent();0!==r.length&&g(r,o)}}var s=l._private.elements;l._private.hasCompoundNodes=!1;for(var m=0;m<s.length;m++){var o=s[m];if(o.isParent()){l._private.hasCompoundNodes=!0;break}}var t=new a.Collection(this.cy(),i);t.size()>0&&(b&&this.cy().notify({type:"remove",collection:t}),t.trigger("remove"));for(var u={},m=0;m<j.length;m++){var o=j[m],v="nodes"===o._private.group,w=o._private.data.parent;if(v&&void 0!==w&&!u[w]){u[w]=!0;var r=l.getElementById(w);r&&0!==r.length&&!r._private.removed&&0===r.children().length&&r.updateStyle()}}return this}}(cytoscape),function(a){a.fn.eles({animated:function(){var a=this[0];return a?a._private.animation.current.length>0:void 0},clearQueue:function(){for(var a=0;a<this.length;a++){var b=this[a];b._private.animation.queue=[]}return this},delay:function(a,b){return this.animate({delay:a},{duration:a,complete:b}),this},animate:function(a,b){var c,d=+new Date,e=this._private.cy,f=e.style();switch(void 0===b&&(b={}),void 0===b.duration&&(b.duration=400),b.duration){case"slow":b.duration=600;break;case"fast":b.duration=200}if(null==a||null==a.position&&null==a.renderedPosition&&null==a.css&&null==a.delay)return this;if(a.css&&(a.css=f.getValueStyle(a.css)),a.renderedPosition){var g=a.renderedPosition,h=e.pan(),i=e.zoom();a.position={x:(g.x-h.x)/i,y:(g.y-h.y)/i}}for(var j=0;j<this.length;j++){var k=this[j],l=k._private.position,m={x:l.x,y:l.y},n=f.getValueStyle(k);c=k.animated()&&(void 0===b.queue||b.queue)?k._private.animation.queue:k._private.animation.current,c.push({properties:a,duration:b.duration,params:b,callTime:d,startPosition:m,startStyle:n})}return e.addToAnimationPool(this),this},stop:function(a,b){for(var c=0;c<this.length;c++){for(var d=this[c],e=d._private.animation.current,f=0;f<e.length;f++){var g=e[f];b&&(g.duration=0)}a&&(d._private.animation.queue=[])}return this.cy().notify({collection:this,type:"draw"}),this}})}(cytoscape),function(a){a.fn.eles({addClass:function(b){b=b.split(/\s+/);for(var c=this,d=[],e=0;e<b.length;e++){var f=b[e];if(!a.is.emptyString(f))for(var g=0;g<c.length;g++){var h=c[g],i=h._private.classes[f];h._private.classes[f]=!0,i||d.push(h)}}return d.length>0&&new a.Collection(this._private.cy,d).updateStyle(),c.trigger("class"),c},hasClass:function(a){var b=this[0];return null!=b&&b._private.classes[a]?!0:!1},toggleClass:function(b,c){for(var d=b.split(/\s+/),e=this,f=[],g=0,h=e.length;h>g;g++)for(var i=e[g],j=0;j<d.length;j++){var k=d[j];if(!a.is.emptyString(k)){var l=i._private.classes[k],m=c||void 0===c&&!l;m?(i._private.classes[k]=!0,l||f.push(i)):(i._private.classes[k]=!1,l&&f.push(i))}}return f.length>0&&new a.Collection(this._private.cy,f).updateStyle(),e.trigger("class"),e},removeClass:function(b){b=b.split(/\s+/);for(var c=this,d=[],e=0;e<c.length;e++)for(var f=c[e],g=0;g<b.length;g++){var h=b[g];if(h&&""!==h){var i=f._private.classes[h];delete f._private.classes[h],i&&d.push(f)}}return d.length>0&&new a.Collection(c._private.cy,d).updateStyle(),c.trigger("class"),c}})}(cytoscape),function(a){a.fn.eles({allAre:function(a){return this.filter(a).length===this.length},is:function(a){return this.filter(a).length>0},same:function(a){return a=this.cy().collection(a),this.length!==a.length?!1:this.intersect(a).length===this.length},anySame:function(a){return a=this.cy().collection(a),this.intersect(a).length>0},allAreNeighbors:function(a){return a=this.cy().collection(a),this.neighborhood().intersect(a).length===a.length}})}(cytoscape),function(a){var b=1,c=0;a.fn.eles({data:a.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),removeData:a.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),batchData:a.define.batchData({field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),scratch:a.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:a.define.removeData({field:"scratch",triggerEvent:!1}),rscratch:a.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:a.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var a=this[0];return a?a._private.data.id:void 0},position:a.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){var b=a.updateCompoundBounds();b.rtrigger("position")},canSet:function(a){return!a.locked()}}),silentPosition:a.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){a.updateCompoundBounds()},canSet:function(a){return!a.locked()}}),positions:function(b){if(a.is.plainObject(b))this.position(b);else if(a.is.fn(b)){for(var c=b,d=0;d<this.length;d++){var e=this[d],b=c.apply(e,[d,e]);if(b&&!e.locked()){var f=e._private.position;f.x=b.x,f.y=b.y}}var g=this.updateCompoundBounds();this.add(g).rtrigger("position")}return this},updateCompoundBounds:function(){function b(a){var b=a.children(),c=a._private.style,e=b.boundingBox({includeLabels:!1,includeEdges:!1}),f={top:c["padding-top"].pxValue,bottom:c["padding-bottom"].pxValue,left:c["padding-left"].pxValue,right:c["padding-right"].pxValue},g=a._private.position,h=!1;"auto"===c.width.value&&(a._private.autoWidth=e.w+f.left+f.right,g.x=(e.x1+e.x2-f.left+f.right)/2,h=!0),"auto"===c.height.value&&(a._private.autoHeight=e.h+f.top+f.bottom,g.y=(e.y1+e.y2-f.top+f.bottom)/2,h=!0),h&&d.push(a)}var c=this.cy();if(!c.hasCompoundNodes())return c.collection();for(var d=[],e=this.parent();e.nonempty();){for(var f=0;f<e.length;f++){var g=e[f];b(g)}e=e.parent()}return new a.Collection(c,d)},renderedPosition:function(b,c){var d=this[0],e=this.cy(),f=e.zoom(),g=e.pan(),h=a.is.plainObject(b)?b:void 0,i=void 0!==h||void 0!==c&&a.is.string(b);if(d&&d.isNode()){if(!i){var j=d._private.position;return h={x:j.x*f+g.x,y:j.y*f+g.y},void 0===b?h:h[b]}for(var k=0;k<this.length;k++){var d=this[k];void 0!==c?d._private.position[b]=(c-g[b])/f:void 0!==h&&(d._private.position={x:(h.x-g.x)/f,y:(h.y-g.y)/f})}this.rtrigger("position")}else if(!i)return void 0;return this},width:function(){var a=this[0];if(a){var b=a._private.style.width;return"auto"===b.strValue?a._private.autoWidth:b.pxValue}},outerWidth:function(){var a=this[0];if(a){var d=a._private.style,e="auto"===d.width.strValue?a._private.autoWidth:d.width.pxValue,f=d["border-width"]?d["border-width"].pxValue*b+c:0;return e+f}},renderedWidth:function(){var a=this[0];if(a){var b=a.width();return b*this.cy().zoom()}},renderedOuterWidth:function(){var a=this[0];if(a){var b=a.outerWidth();return b*this.cy().zoom()}},height:function(){var a=this[0];if(a&&a.isNode()){var b=a._private.style.height;return"auto"===b.strValue?a._private.autoHeight:b.pxValue}},outerHeight:function(){var a=this[0];if(a){var d=a._private.style,e="auto"===d.height.strValue?a._private.autoHeight:d.height.pxValue,f=d["border-width"]?d["border-width"].pxValue*b+c:0;return e+f}},renderedHeight:function(){var a=this[0];if(a){var b=a.height();return b*this.cy().zoom()}},renderedOuterHeight:function(){var a=this[0];if(a){var b=a.outerHeight();return b*this.cy().zoom()}},renderedBoundingBox:function(a){var b=this.boundingBox(a),c=this.cy(),d=c.zoom(),e=c.pan(),f=b.x1*d+e.x,g=b.x2*d+e.x,h=b.y1*d+e.y,i=b.y2*d+e.y;return{x1:f,x2:g,y1:h,y2:i,w:g-f,h:i-h}},boundingBox:function(b){var c=this;b=a.util.extend({includeNodes:!0,includeEdges:!0,includeLabels:!0},b),this.cy().recalculateRenderedStyle();for(var d=1/0,e=-1/0,f=1/0,g=-1/0,h=0;h<c.length;h++){var i,j,k,l,m,n,o=c[h],p=!1;if("none"!==o.css("display")){if(o.isNode()&&b.includeNodes){p=!0;var q=o._private.position;m=q.x,n=q.y;var r=o.outerWidth(),s=r/2,t=o.outerHeight(),u=t/2;i=m-s,j=m+s,k=n-u,l=n+u,d=d>i?i:d,e=j>e?j:e,f=f>k?k:f,g=l>g?l:g}else if(o.isEdge()&&b.includeEdges){p=!0;var v=o.source()[0]._private.position,w=o.target()[0]._private.position,x=o._private.rstyle||{};if(i=v.x,j=w.x,k=v.y,l=w.y,i>j){var y=i;i=j,j=y}if(k>l){var y=k;k=l,l=y}d=d>i?i:d,e=j>e?j:e,f=f>k?k:f,g=l>g?l:g;for(var z=x.bezierPts||[],r=o._private.style.width.pxValue,A=0;A<z.length;A++){var B=z[A];d=B.x-r<d?B.x-r:d,e=B.x+r>e?B.x+r:e,f=B.y-r<f?B.y-r:f,g=B.y+r>g?B.y+r:g}}var C=o._private.style,x=o._private.rstyle,D=C.content.strValue,E=C["font-size"],F=C["text-halign"],G=C["text-valign"],H=x.labelWidth,I=x.labelHeight||E.pxValue,J=x.labelX,K=x.labelY;if(p&&b.includeLabels&&D&&E&&void 0!=I&&void 0!=H&&void 0!=J&&void 0!=K&&F&&G){var L,M,N,O,P=I,Q=H;if(o.isEdge())L=J-Q/2,M=J+Q/2,N=K-P/2,O=K+P/2;else{switch(F.value){case"left":L=J-Q,M=J;break;case"center":L=J-Q/2,M=J+Q/2;break;case"right":L=J,M=J+Q}switch(G.value){case"top":N=K-P,O=K;break;case"center":N=K-P/2,O=K+P/2;break;case"bottom":N=K,O=K+P}}d=d>L?L:d,e=M>e?M:e,f=f>N?N:f,g=O>g?O:g}}}return{x1:d,x2:e,y1:f,y2:g,w:e-d,h:g-f}}})}(cytoscape),function(a){function b(a){return function(){var b=this;if(0!==b.length&&b.isNode()&&!b.removed()){for(var c=0,d=b[0],e=d._private.edges,f=0;f<e.length;f++){var g=e[f];c+=a(d,g)}return c}}}function c(a,b){return function(){for(var c=void 0,d=this.nodes(),e=0;e<d.length;e++){var f=d[e],g=f[a]();void 0===g||void 0!==c&&!b(g,c)||(c=g)}return c}}a.fn.eles({degree:b(function(a,b){return b.source().same(b.target())?2:1}),indegree:b(function(a,b){return b.target().same(a)?1:0}),outdegree:b(function(a,b){return b.source().same(a)?1:0})}),a.fn.eles({minDegree:c("degree",function(a,b){return b>a}),maxDegree:c("degree",function(a,b){return a>b}),minIndegree:c("indegree",function(a,b){return b>a}),maxIndegree:c("indegree",function(a,b){return a>b}),minOutdegree:c("outdegree",function(a,b){return b>a}),maxOutdegree:c("outdegree",function(a,b){return a>b})}),a.fn.eles({totalDegree:function(){for(var a=0,b=this.nodes(),c=0;c<b.length;c++)a+=b[c].degree();return a}})}(cytoscape),function(a){a.fn.eles({on:a.define.on(),one:a.define.on({unbindSelfOnTrigger:!0}),once:a.define.on({unbindAllBindersOnTrigger:!0}),off:a.define.off(),trigger:a.define.trigger(),rtrigger:function(a,b){return 0!==this.length?(this.cy().notify({type:a,collection:this.filter(function(){return!this.removed()})}),this.trigger(a,b),this):void 0}}),a.elesfn.bind=a.elesfn.on,a.elesfn.unbind=a.elesfn.off}(cytoscape),function(a){a.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},group:function(){var a=this[0];return a?a._private.group:void 0}})}(cytoscape),function(a){a.fn.eles({each:function(b){if(a.is.fn(b))for(var c=0;c<this.length;c++){var d=this[c],e=b.apply(d,[c,d]);if(e===!1)break}return this},toArray:function(){for(var a=[],b=0;b<this.length;b++)a.push(this[b]);return a},slice:function(b,c){var d=[],e=this.length;null==c&&(c=e),null==b&&(b=0),0>b&&(b=e+b),0>c&&(c=e+c);for(var f=b;f>=0&&c>f&&e>f;f++)d.push(this[f]);return new a.Collection(this.cy(),d)},size:function(){return this.length},eq:function(a){return this[a]},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(b){if(!a.is.fn(b))return this;var c=this.cy(),d=(new a.Collection(c),this.toArray().sort(b));return new a.Collection(c,d)},sortByZIndex:function(){return this.sort(a.Collection.zIndexSort)}}),a.Collection.zIndexSort=function(a,b){var c=function(a){return"nodes"==a._private.group?a.parents().size():"edges"==a._private.group?Math.max(a.source()[0].parents().size(),a.target()[0].parents().size()):0},d=a._private.style["z-index"].value-b._private.style["z-index"].value,e=0,f=0;return a.cy().hasCompoundNodes()&&(e=c(a),f=c(b)),e-f===0?"nodes"===a._private.group&&"edges"===b._private.group?1:"edges"===a._private.group&&"nodes"===b._private.group?-1:0===d?a._private.index-b._private.index:d:e-f}}(cytoscape),function(a){a.fn.eles({updateStyle:function(a){var b=this._private.cy,c=b.style();a=a||void 0===a?!0:!1,c.apply(this);var d=this.updateCompoundBounds();return a?this.add(d).rtrigger("style"):this.add(d).trigger("style"),this},updateMappers:function(a){var b=this._private.cy,c=b.style();a=a||void 0===a?!0:!1,c.updateMappers(this);var d=this.updateCompoundBounds();return a?this.add(d).rtrigger("style"):this.add(d).trigger("style"),this},renderedCss:function(a){var b=this[0];if(b){var c=b.cy().style().getRenderedStyle(b);return void 0===a?c:c[a]}},css:function(b,c){var d=this.cy().style();if(a.is.plainObject(b)){var e=b;d.applyBypass(this,e),this.rtrigger("style")}else if(a.is.string(b)){if(void 0===c){var f=this[0];return f?f._private.style[b].strValue:void 0}d.applyBypass(this,b,c),this.rtrigger("style")}else if(void 0===b){var f=this[0];return f?d.getRawStyle(f):void 0}return this},removeCss:function(){for(var a=this.cy().style(),b=this,c=0;c<b.length;c++){var d=b[c];a.removeAllBypasses(d)}this.rtrigger("style")},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var a=this[0];
if(a){if("visible"!==a.css("visibility")||"element"!==a.css("display"))return!1;if(a.isNode()){for(var b=a.parents(),c=0;c<b.length;c++){{var d=b[c],e=d.css("visibility"),f=d.css("display");parseFloat(d.css("opacity"))}if("visible"!==e||"element"!==f)return!1}return!0}if(a.isEdge()){var g=a.source(),h=a.target();return g.visible()&&h.visible()}}},hidden:function(){var a=this[0];return a?!a.visible():void 0},effectiveOpacity:function(){var a=this[0];if(a){for(var b=a._private.style.opacity.value,c=a.parents(),d=0;d<c.length;d++){var e=c[d],f=e._private.style.opacity.value;b=f*b}return b}},transparent:function(){var a=this[0];return a?0===a.effectiveOpacity():void 0},isFullAutoParent:function(){var a=this[0];if(a){var b="auto"===a._private.style.width.value,c="auto"===a._private.style.height.value;return a.isParent()&&b&&c}}}),a.elesfn.style=a.elesfn.css,a.elesfn.renderedStyle=a.elesfn.renderedCss,a.elesfn.removeStyle=a.elesfn.removeCss}(cytoscape),function(a){function b(a){return function(){var b=arguments;if(2===b.length){var c=b[0],d=b[1];this.bind(a.event,c,d)}else if(1===b.length){var d=b[0];this.bind(a.event,d)}else if(0===b.length){for(var e=0;e<this.length;e++){var f=this[e];(!a.ableField||f._private[a.ableField])&&(f._private[a.field]=a.value)}this.updateStyle(),this.trigger(a.event)}return this}}function c(c){a.elesfn[c.field]=function(){var a=this[0];return a?a._private[c.field]:void 0},a.elesfn[c.on]=b({event:c.on,field:c.field,ableField:c.ableField,value:!0}),a.elesfn[c.off]=b({event:c.off,field:c.field,ableField:c.ableField,value:!1})}c({field:"locked",on:"lock",off:"unlock"}),c({field:"grabbable",on:"grabify",off:"ungrabify"}),c({field:"selected",ableField:"selectable",on:"select",off:"unselect"}),c({field:"selectable",on:"selectify",off:"unselectify"}),a.elesfn.grabbed=function(){var a=this[0];return a?a._private.grabbed:void 0},c({field:"active",on:"activate",off:"unactivate"}),a.elesfn.inactive=function(){var a=this[0];return a?!a._private.active:void 0}}(cytoscape),function(a){function b(b){return function(c){for(var d=[],e=this.edges(),f=this._private.cy,g=0;g<e.length;g++){var h=e[g],i=h._private.data[b.attr],j=f.getElementById(i);j.length>0&&d.push(j)}return new a.Collection(f,d).filter(c)}}function c(b){return function(c){var d=[],e=this._private.cy,f=b||{};a.is.string(c)&&(c=e.$(c));for(var g=c.connectedEdges(),h=this._private.ids,i=0;i<g.length;i++){var j,k=g[i],l=k._private.data;if(f.thisIs){var m=l[f.thisIs];j=h[m]}else j=h[l.source]||h[l.target];j&&d.push(k)}return new a.Collection(e,d)}}function d(b){var c={codirected:!1};return b=a.util.extend({},c,b),function(c){for(var d=this._private.cy,e=[],f=this.edges(),g=b,h=0;h<f.length;h++)for(var i=f[h],j=i.source()[0],k=j.id(),l=i.target()[0],m=l.id(),n=j._private.edges,o=0;o<n.length;o++){var p=n[o],q=p._private.data,r=q.target,s=q.source,t=r===m&&s===k,u=k===r&&m===s;(g.codirected&&t||!g.codirected&&(t||u))&&e.push(p)}return new a.Collection(d,e).filter(c)}}a.fn.eles({nodes:function(a){return this.filter(function(a,b){return b.isNode()}).filter(a)},edges:function(a){return this.filter(function(a,b){return b.isEdge()}).filter(a)},filter:function(b){var c=this._private.cy;if(a.is.fn(b)){for(var d=[],e=0;e<this.length;e++){var f=this[e];b.apply(f,[e,f])&&d.push(f)}return new a.Collection(c,d)}return a.is.string(b)||a.is.elementOrCollection(b)?new a.Selector(b).filter(this):void 0===b?this:new a.Collection(c)},not:function(b){var c=this._private.cy;if(b){a.is.string(b)&&(b=this.filter(b));for(var d=[],e=0;e<this.length;e++){var f=this[e],g=b._private.ids[f.id()];g||d.push(f)}return new a.Collection(c,d)}return this},intersect:function(b){var c=this._private.cy;if(a.is.string(b)){var d=b;return this.filter(d)}var e=[],f=this,g=b,h=this.length<b.length,i=h?f._private.ids:g._private.ids,j=h?g._private.ids:f._private.ids;for(var k in i){var l=j[k];l&&e.push(l)}return new a.Collection(c,e)},add:function(b){function c(a){a&&(h[a.id()]||(g.push(a),h[a.id()]=!0))}var d=this,e=this._private.cy;if(!b)return this;if(a.is.string(b)){var f=b;b=e.elements(f)}for(var g=[],h={},i=0;i<d.length;i++){var j=d[i];c(j)}for(var i=0;i<b.length;i++){var j=b[i];c(j)}return new a.Collection(e,g)}}),a.fn.eles({breadthFirstSearch:function(b,c){b=b||function(){};for(var d=this._private.cy,e=this,f=[],g={},h={},i={},j=[],k=0;k<e.length;k++)e[k].isNode()&&(f.unshift(e[k]),g[e[k].id()]=!0,h[e[k].id()]=0,j.push(e[k]));for(k=0;0!==f.length;){for(var l=f.shift(),m=0,n=i[l.id()];n;)m++,n=i[n];h[l.id()]=m;var o=b.call(l,k,m);if(k++,o===!0)return new a.Collection(d,[l]);if(o===!1)break;for(var p=l.connectedEdges(c?'[source = "'+l.id()+'"]':void 0),q=0;q<p.length;q++){var r=p[q],s=r.connectedNodes('[id != "'+l.id()+'"]');0!==s.length&&(s=s[0],g[s.id()]||(g[s.id()]=!0,f.unshift(s),i[s.id()]=l.id(),j.push(s),j.push(r)))}}return new a.Collection(d,j)},depthFirstSearch:function(b,c){function d(a){var b=a.id();return i[b]||j[b]||k[b]||l[b]}b=b||function(){};for(var e=this._private.cy,f=this,g=[],h=[],i={},j={},k={},l={},m={},n=0;n<f.length;n++)f[n].isNode()&&(g.push(f[n]),h[f[n].id()]=!0);for(;0!==g.length;){var o=g[g.length-1],p=b.call(o),q=!1;if(p===!0)return new a.Collection(e,[o]);for(var r=o.connectedEdges(c?'[source = "'+o.id()+'"]':void 0),n=0;n<r.length;n++){var s=r[n];if(!d(s)){var t=s.connectedNodes('[id != "'+o.id()+'"]');if(0!==t.length){t=t[0];var u=t.id();if(!h[u]&&!m[u]){l[u]=!0,h[u]=!0,g.push(t),q=!0;break}h[u]?j[u]=!0:k[u]=!0}}}q||(m[o.id()]=!0,g.pop())}},roots:function(b){for(var c=this,d=[],e=0;e<c.length;e++){var f=c[e];if(f.isNode()){var g=f.connectedEdges('[target = "'+f.id()+'"][source != "'+f.id()+'"]').length>0;g||d.push(f)}}return new a.Collection(this._private.cy,d).filter(b)},kruskal:function(b){function c(a){for(var b=0;b<e.length;b++){var c=e[b];if(c.anySame(a))return{eles:c,index:b}}}b=b||function(){return 1};for(var d=new a.Collection(this._private.cy,[]),e=[],f=this.nodes(),g=0;g<f.length;g++)e.push(f[g].collection());for(var h=this.edges(),i=h.toArray().sort(function(a,c){var d=b.call(a),e=b.call(c);return d-e}),g=0;g<i.length;g++){var j=i[g],k=j.source()[0],l=j.target()[0],m=c(k),n=c(l);m.eles!==n.eles&&(d=d.add(j),e[m.index]=m.eles.add(n.eles),e.splice(n.index,1))}return f.add(d)},dijkstra:function(b,c,d){var e=this._private.cy;if(d=a.is.fn(c)?d:c,d=void 0===d||d,c=a.is.fn(c)?c:function(){return 1},0===this.length||!b||!a.is.elementOrCollection(b)||0===b.length)return new a.Collection(e,[]);var f=this[0];b=b[0];for(var g={},h={},i=e.nodes(),j=0;j<i.length;j++)g[i[j].id()]=1/0;g[f.id()]=0;for(var k=i,l=function(a){var b,c=1/0;for(var d in g)g[d]<c&&0!==a.$("#"+d).length&&(c=g[d],b=d);return b},m=function(a,b){for(var d,e=a.edgesWith(b),f=1/0,g=0;g<e.length;g++){var h=e[g],i=c.call(h);f>i&&(f=i,d=h)}return{edge:d,dist:f}};0!==k.length;){var n=l(k),o=k.filter("#"+n);if(0!==o.length){if(k=k.not(o),o.same(b))break;if(g[n]===Math.Infinite)break;for(var p=o.neighborhood().nodes(),j=0;j<p.length;j++){var q=p[j],r=q.id(),s=m(o,q),t=g[n]+s.dist;t<g[r]&&(g[r]=t,h[r]={node:q,edge:s.edge})}}}}}),a.elesfn.bfs=a.elesfn.breadthFirstSearch,a.elesfn.dfs=a.elesfn.depthFirstSearch,a.fn.eles({neighborhood:function(b){for(var c=[],d=this._private.cy,e=this.nodes(),f=0;f<e.length;f++)for(var g=e[f],h=g.connectedEdges(),i=0;i<h.length;i++){var j=h[i],k=j.connectedNodes().not(g);k.length>0&&c.push(k[0]),c.push(j[0])}return new a.Collection(d,c).filter(b)},closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}}),a.fn.eles({source:b({attr:"source"}),target:b({attr:"target"})}),a.fn.eles({edgesWith:c(),edgesTo:c({thisIs:"source"})}),a.fn.eles({connectedEdges:function(b){for(var c=[],d=this._private.cy,e=this,f=0;f<e.length;f++){var g=e[f];if(g.isNode())for(var h=g._private.edges,i=0;i<h.length;i++){var j=h[i];c.push(j)}}return new a.Collection(d,c).filter(b)},connectedNodes:function(b){for(var c=[],d=this._private.cy,e=this,f=0;f<e.length;f++){var g=e[f];g.isEdge()&&(c.push(g.source()[0]),c.push(g.target()[0]))}return new a.Collection(d,c).filter(b)},parallelEdges:d(),codirectedEdges:d({codirected:!0})}),a.fn.eles({parent:function(b){for(var c=[],d=this._private.cy,e=0;e<this.length;e++){var f=this[e],g=d.getElementById(f._private.data.parent);g.size()>0&&c.push(g)}return new a.Collection(d,c).filter(b)},parents:function(b){for(var c=[],d=this.parent();d.nonempty();){for(var e=0;e<d.length;e++){var f=d[e];c.push(f)}d=d.parent()}return new a.Collection(this.cy(),c).filter(b)},children:function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d];c=c.concat(e._private.children)}return new a.Collection(this.cy(),c).filter(b)},siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];return a?0!==a._private.children.length:void 0},isChild:function(){var a=this[0];return a?void 0!==a._private.data.parent&&0!==a.parent().length:void 0},descendants:function(b){function c(a){for(var b=0;b<a.length;b++){var e=a[b];d.push(e),e.children().nonempty()&&c(e.children())}}var d=[];return c(this.children()),new a.Collection(this.cy(),d).filter(b)}}),a.fn.eles.ancestors=a.fn.eles.parents}(cytoscape),function(a){function b(){}b.prototype.notify=function(){},a("renderer","null",b)}(cytoscape),function(a){function b(a){b.CANVAS_LAYERS=5,b.SELECT_BOX=0,b.DRAG=2,b.NODE=4,b.BUFFER_COUNT=2,this.options=a,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:a.cy,container:a.cy.container(),canvases:new Array(b.CANVAS_LAYERS),canvasNeedsRedraw:new Array(b.CANVAS_LAYERS),bufferCanvases:new Array(b.BUFFER_COUNT)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.bindings=[],this.data.canvasContainer=document.createElement("div");var c=this.data.canvasContainer.style;c.position="absolute",c.zIndex="0",this.data.container.appendChild(this.data.canvasContainer);for(var d=0;d<b.CANVAS_LAYERS;d++)this.data.canvases[d]=document.createElement("canvas"),this.data.canvases[d].style.position="absolute",this.data.canvases[d].setAttribute("data-id","layer"+d),this.data.canvases[d].style.zIndex=String(b.CANVAS_LAYERS-d),this.data.canvasContainer.appendChild(this.data.canvases[d]),this.data.canvasNeedsRedraw[d]=!1;this.data.canvases[b.NODE].setAttribute("data-id","layer"+b.NODE+"-node"),this.data.canvases[b.SELECT_BOX].setAttribute("data-id","layer"+b.SELECT_BOX+"-selectbox"),this.data.canvases[b.DRAG].setAttribute("data-id","layer"+b.DRAG+"-drag");for(var d=0;d<b.BUFFER_COUNT;d++)this.data.bufferCanvases[d]=document.createElement("canvas"),this.data.bufferCanvases[d].style.position="absolute",this.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),this.data.bufferCanvases[d].style.zIndex=String(-d-1),this.data.bufferCanvases[d].style.visibility="hidden",this.data.canvasContainer.appendChild(this.data.bufferCanvases[d]);this.hideEdgesOnViewport=a.hideEdgesOnViewport,this.load()}b.panOrBoxSelectDelay=400,b.isTouch=a.is.touch(),b.prototype.notify=function(a){switch(a.type){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}this.data.canvasNeedsRedraw[b.DRAG]=!0,this.data.canvasNeedsRedraw[b.NODE]=!0,this.redraw()},b.prototype.destroy=function(){this.destroyed=!0;for(var a=0;a<this.bindings.length;a++){var b=this.bindings[a],c=b;c.target.removeEventListener(c.event,c.handler,c.useCapture)}};for(var c in a.math)b.prototype[c]=a.math[c];a("renderer","canvas",b)}(cytoscape),function(a){var b=a("renderer","canvas"),c=b.prototype,d=b.arrowShapes={};b.arrowShapeHeight=.3,d.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(b,c,e,f,g,h,i,j){var k=d.arrow._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.arrow._farthestPointSqDistance&&(d.arrow._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.arrow._points)),a.math.checkInBoundingCircle(b,c,d.arrow._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.arrow._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.triangle=d.arrow,d.none={collide:function(){return!1},roughCollide:function(){return!1},draw:function(){},spacing:function(){return 0},gap:function(){return 0}},d.circle={_baseRadius:.15,collide:function(a,b,c,e,f,g,h,i){if(f!=g){var j=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1])),k=(Math.cos(-j),Math.sin(-j),(g+i)/(f+i));return b/=k,e/=k,Math.pow(c-a,2)+Math.pow(e-b,2)<=Math.pow((f+i)*d.circle._baseRadius,2)}return Math.pow(c-a,2)+Math.pow(e-b,2)<=Math.pow((f+i)*d.circle._baseRadius,2)},roughCollide:function(){return!0},draw:function(a){a.arc(0,0,d.circle._baseRadius,0,2*Math.PI,!1)},spacing:function(a){return c.getArrowWidth(a._private.style.width.pxValue)*d.circle._baseRadius},gap:function(a){return 2*a._private.style.width.pxValue}},d.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(b,c,e,f,g,h,i,j){var k=d.inhibitor._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.inhibitor._farthestPointSqDistance&&(d.inhibitor._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.inhibitor._points)),a.math.checkInBoundingCircle(b,c,d.inhibitor._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.inhibitor._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 4},gap:function(){return 4}},d.square={_points:[-.12,0,.12,0,.12,-.24,-.12,-.24],collide:function(b,c,e,f,g,h,i,j){var k=d.square._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.square._farthestPointSqDistance&&(d.square._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.square._points)),a.math.checkInBoundingCircle(b,c,d.square._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.square._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.diamond={_points:[-.14,-.14,0,-.28,.14,-.14,0,0],collide:function(b,c,e,f,g,h,i,j){var k=d.diamond._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.diamond._farthestPointSqDistance&&(d.diamond._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.diamond._points)),a.math.checkInBoundingCircle(b,c,d.diamond._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){a.lineTo(-.14,-.14),a.lineTo(0,-.28),a.lineTo(.14,-.14),a.lineTo(0,0)},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.tee=d.inhibitor}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.getCachedNodes=function(){var a=this.data,b=this.data.cy;return void 0==a.cache&&(a.cache={}),void 0==a.cache.cachedNodes&&(a.cache.cachedNodes=b.nodes()),a.cache.cachedNodes},b.prototype.updateNodesCache=function(){var a=this.data,b=this.data.cy;void 0==a.cache&&(a.cache={}),a.cache.cachedNodes=b.nodes()},b.prototype.getCachedEdges=function(){var a=this.data,b=this.data.cy;return void 0==a.cache&&(a.cache={}),void 0==a.cache.cachedEdges&&(a.cache.cachedEdges=b.edges()),a.cache.cachedEdges},b.prototype.updateEdgesCache=function(){var a=this.data,b=this.data.cy;void 0==a.cache&&(a.cache={}),a.cache.cachedEdges=b.edges()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.projectIntoViewport=function(a,b){var c=(this.data.container,this.findContainerPageCoords()),d=c[0],e=c[1],f=a-d,g=b-e;return f-=this.data.cy.pan().x,g-=this.data.cy.pan().y,f/=this.data.cy.zoom(),g/=this.data.cy.zoom(),[f,g]},b.prototype.findContainerPageCoords=function(){for(var a=0,b=0,c=this.data.container,d=c;null!=d;){var e=window.getComputedStyle(d);if("number"==typeof d.offsetLeft){var f=e.getPropertyValue("position").toLowerCase(),g=parseFloat(e.getPropertyValue("border-left-width")),h=parseFloat(e.getPropertyValue("border-top-width"));if(a+=d.offsetLeft,b+=d.offsetTop,("static"!==f||d===c)&&(a+=g,b+=h),"fixed"===f){a+=window.scrollX,b+=window.scrollY;break}if(d==document.body||d==document.header)break}d&&(d=d.offsetParent)}return[a,b]},b.prototype.findNearestElement=function(c,d,e){for(var f=this.data,g=this.getCachedNodes(),h=this.getCachedEdges(),i=[],j=b.isTouch,k=this.data.cy.zoom(),l=(j?256:32)/k,m=(j?16:0)/k,n=0;n<g.length;n++)b.nodeShapes[this.getNodeShape(g[n])].checkPointRough(c,d,g[n]._private.style["border-width"].pxValue/2,this.getNodeWidth(g[n])+m,this.getNodeHeight(g[n])+m,g[n]._private.position.x,g[n]._private.position.y)&&b.nodeShapes[this.getNodeShape(g[n])].checkPoint(c,d,g[n]._private.style["border-width"].pxValue/2,this.getNodeWidth(g[n])+m,this.getNodeHeight(g[n])+m,g[n]._private.position.x,g[n]._private.position.y)&&(e?0!=g[n]._private.style.opacity.value&&"visible"==g[n]._private.style.visibility.value&&"element"==g[n]._private.style.display.value&&i.push(g[n]):i.push(g[n]));for(var o,n=0;n<h.length;n++){var p=h[n],q=p._private.rscratch;if(o=!1,"self"==q.edgeType?(a.math.inBezierVicinity(c,d,q.startX,q.startY,q.cp2ax,q.cp2ay,q.selfEdgeMidX,q.selfEdgeMidY,Math.pow(p._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.startX,q.startY,q.cp2ax,q.cp2ay,q.selfEdgeMidX,q.selfEdgeMidY)||a.math.inBezierVicinity(c,d,q.selfEdgeMidX,q.selfEdgeMidY,q.cp2cx,q.cp2cy,q.endX,q.endY,Math.pow(h[n]._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.selfEdgeMidX,q.selfEdgeMidY,q.cp2cx,q.cp2cy,q.endX,q.endY))&&(o=!0):"straight"==q.edgeType?a.math.inLineVicinity(c,d,q.startX,q.startY,q.endX,q.endY,2*h[n]._private.style.width.pxValue)&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToFiniteLine(c,d,q.startX,q.startY,q.endX,q.endY)&&(o=!0):"bezier"==q.edgeType&&a.math.inBezierVicinity(c,d,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY,Math.pow(h[n]._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY)&&(o=!0),i.length&&i[i.length-1]==h[n]||(b.arrowShapes[h[n]._private.style["source-arrow-shape"].value].roughCollide(c,d,h[n]._private.rscratch.arrowStartX,h[n]._private.rscratch.arrowStartY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowStartX-h[n].source()[0]._private.position.x,h[n]._private.rscratch.arrowStartY-h[n].source()[0]._private.position.y],0)&&b.arrowShapes[h[n]._private.style["source-arrow-shape"].value].collide(c,d,h[n]._private.rscratch.arrowStartX,h[n]._private.rscratch.arrowStartY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowStartX-h[n].source()[0]._private.position.x,h[n]._private.rscratch.arrowStartY-h[n].source()[0]._private.position.y],0)||b.arrowShapes[h[n]._private.style["target-arrow-shape"].value].roughCollide(c,d,h[n]._private.rscratch.arrowEndX,h[n]._private.rscratch.arrowEndY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowEndX-h[n].target()[0]._private.position.x,h[n]._private.rscratch.arrowEndY-h[n].target()[0]._private.position.y],0)&&b.arrowShapes[h[n]._private.style["target-arrow-shape"].value].collide(c,d,h[n]._private.rscratch.arrowEndX,h[n]._private.rscratch.arrowEndY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowEndX-h[n].target()[0]._private.position.x,h[n]._private.rscratch.arrowEndY-h[n].target()[0]._private.position.y],0))&&(o=!0),o)if(e){var r=f.cy.getElementById(h[n]._private.data.source),s=f.cy.getElementById(h[n]._private.data.target);0!=h[n]._private.style.opacity.value&&"visible"==h[n]._private.style.visibility.value&&"element"==h[n]._private.style.display.value&&0!=r._private.style.opacity.value&&"visible"==r._private.style.visibility.value&&"element"==r._private.style.display.value&&0!=s._private.style.opacity.value&&"visible"==s._private.style.visibility.value&&"element"==s._private.style.display.value&&i.push(h[n])}else i.push(h[n])}return i.sort(this.zOrderSort),i.length>0?i[i.length-1]:null},b.prototype.getAllInBox=function(c,d,e,f){var g=(this.data,this.getCachedNodes()),h=this.getCachedEdges(),i=[],j=Math.min(c,e),k=Math.max(c,e),l=Math.min(d,f),m=Math.max(d,f);c=j,e=k,d=l,f=m;for(var n,o=0;o<g.length;o++)b.nodeShapes[this.getNodeShape(g[o])].intersectBox(c,d,e,f,this.getNodeWidth(g[o]),this.getNodeHeight(g[o]),g[o]._private.position.x,g[o]._private.position.y,g[o]._private.style["border-width"].pxValue/2)&&i.push(g[o]);for(var o=0;o<h.length;o++)"self"==h[o]._private.rscratch.edgeType&&((n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2ax,h[o]._private.rscratch.cp2ay,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2ax,h[o]._private.rscratch.cp2ay,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))||(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2cx,h[o]._private.rscratch.cp2cy,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2cx,h[o]._private.rscratch.cp2cy,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue)))&&i.push(h[o]),"bezier"==h[o]._private.rscratch.edgeType&&(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2x,h[o]._private.rscratch.cp2y,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2x,h[o]._private.rscratch.cp2y,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&i.push(h[o]),"straight"==h[o]._private.rscratch.edgeType&&(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,.5*h[o]._private.rscratch.startX+.5*h[o]._private.rscratch.endX,.5*h[o]._private.rscratch.startY+.5*h[o]._private.rscratch.endY,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkStraightEdgeInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&i.push(h[o]);return i},b.prototype.getNodeWidth=function(a){return a.width()},b.prototype.getNodeHeight=function(a){return a.height()},b.prototype.getNodeShape=function(a){var b=a._private.style.shape.value;return a.isParent()?"rectangle"===b||"roundrectangle"===b?b:"rectangle":b},b.prototype.getNodePadding=function(a){var b=a._private.style["padding-left"].pxValue,c=a._private.style["padding-right"].pxValue,d=a._private.style["padding-top"].pxValue,e=a._private.style["padding-bottom"].pxValue;return isNaN(b)&&(b=0),isNaN(c)&&(c=0),isNaN(d)&&(d=0),isNaN(e)&&(e=0),{left:b,right:c,top:d,bottom:e}},b.prototype.zOrderSort=a.Collection.zIndexSort,b.prototype.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},b.prototype.getCachedZSortedEles=function(a){var b=this.lastZOrderCachedNodes,c=this.lastZOrderCachedEdges,d=this.getCachedNodes(),e=this.getCachedEdges(),f=[];if(!a&&b&&c&&b===d&&c===e)f=this.cachedZSortedEles;else{for(var g=0;g<d.length;g++)f.push(d[g]);for(var g=0;g<e.length;g++)f.push(e[g]);f.sort(this.zOrderSort),this.cachedZSortedEles=f}return this.lastZOrderCachedNodes=d,this.lastZOrderCachedEdges=e,f},b.prototype.projectBezier=function(b){function c(a){f.push({x:d(a[0],a[2],a[4],.05),y:d(a[1],a[3],a[5],.05)}),f.push({x:d(a[0],a[2],a[4],.25),y:d(a[1],a[3],a[5],.25)}),f.push({x:d(a[0],a[2],a[4],.4),y:d(a[1],a[3],a[5],.4)}),f.push({x:d(a[0],a[2],a[4],.5),y:d(a[1],a[3],a[5],.5)}),f.push({x:d(a[0],a[2],a[4],.6),y:d(a[1],a[3],a[5],.6)}),f.push({x:d(a[0],a[2],a[4],.75),y:d(a[1],a[3],a[5],.75)}),f.push({x:d(a[0],a[2],a[4],.95),y:d(a[1],a[3],a[5],.95)})}var d=a.math.qbezierAt,e=b._private.rscratch,f=b._private.rstyle.bezierPts=[];"self"===e.edgeType?(c([e.startX,e.startY,e.cp2ax,e.cp2ay,e.selfEdgeMidX,e.selfEdgeMidY]),c([e.selfEdgeMidX,e.selfEdgeMidY,e.cp2cx,e.cp2cy,e.endX,e.endY])):"bezier"===e.edgeType&&c([e.startX,e.startY,e.cp2x,e.cp2y,e.endX,e.endY])},b.prototype.recalculateNodeLabelProjection=function(a){var b,c,d=a.outerWidth(),e=a.outerHeight(),f=a._private.position,g=a._private.style["text-halign"].strValue,h=a._private.style["text-valign"].strValue,i=a._private.rscratch,j=a._private.rstyle;switch(g){case"left":b=f.x-d/2;break;case"right":b=f.x+d/2;break;case"center":default:b=f.x}switch(h){case"top":c=f.y-e/2;break;case"bottom":c=f.y+e/2;break;case"middle":default:c=f.y}i.labelX=b,i.labelY=c,j.labelX=b,j.labelY=c;var k=this.data.bufferCanvases[0].getContext("2d"),l=this.setupTextStyle(k,a),m=this.calculateLabelDimensions(a,l);j.labelWidth=m.width,i.labelWidth=m.width,j.labelHeight=m.height,i.labelHeight=m.height},b.prototype.recalculateEdgeLabelProjection=function(b){var c,d,e,f,g=b._private.rscratch,h=b._private.rstyle;"self"==g.edgeType?(e=g.selfEdgeMidX,f=g.selfEdgeMidY):"straight"==g.edgeType?(e=(g.startX+g.endX)/2,f=(g.startY+g.endY)/2):"bezier"==g.edgeType&&(e=a.math.qbezierAt(g.startX,g.cp2x,g.endX,.5),f=a.math.qbezierAt(g.startY,g.cp2y,g.endY,.5)),c=e,d=f,g.labelX=c,g.labelY=d,h.labelX=c,h.labelY=d;var i=this.data.bufferCanvases[0].getContext("2d"),j=this.setupTextStyle(i,b),k=this.calculateLabelDimensions(b,j);h.labelWidth=k.width,g.labelWidth=k.width,h.labelHeight=k.height,g.labelHeight=k.height},b.prototype.calculateLabelDimensions=function(a,b){var c=a._private.style,d=c["font-style"].strValue,e=c["font-size"].pxValue+"px",f=c["font-family"].strValue,g=c["font-variant"].strValue,h=c["font-weight"].strValue,i=this.labelCalcDiv;i||(i=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(i));var j=i.style;return j.fontFamily=f,j.fontStyle=d,j.fontSize=e,j.fontVariant=g,j.fontWeight=h,j.position="absolute",j.left="-9999px",j.top="-9999px",j.zIndex="-1",j.visibility="hidden",j.padding="0",j.lineHeight="1",i.innerText=b,{width:i.clientWidth,height:i.clientHeight}},b.prototype.recalculateRenderedStyle=function(){this.recalculateEdgeProjections(),this.recalculateLabelProjections()},b.prototype.recalculateLabelProjections=function(){for(var a=this.getCachedNodes(),b=0;b<a.length;b++)this.recalculateNodeLabelProjection(a[b]);for(var c=this.getCachedEdges(),b=0;b<c.length;b++)this.recalculateEdgeLabelProjection(c[b])},b.prototype.recalculateEdgeProjections=function(){var a=this.getCachedEdges();this.findEdgeControlPoints(a)},b.prototype.findEdgeControlPoints=function(c){for(var d,e={},f=this.data.cy,g=[],h=0;h<c.length;h++){var i=c[h];if("none"!==i._private.style.display.value){var j=i._private.data.source,k=i._private.data.target;d=j>k?k+"-"+j:j+"-"+k,void 0==e[d]&&(e[d]=[]),e[d].push(i),g.push(d)}}for(var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=0;A<g.length;A++){if(d=g[A],l=f.getElementById(e[d][0]._private.data.source),m=f.getElementById(e[d][0]._private.data.target),n=l._private.position,o=m._private.position,p=this.getNodeWidth(l),q=this.getNodeHeight(l),r=this.getNodeWidth(m),s=this.getNodeHeight(m),t=b.nodeShapes[this.getNodeShape(l)],u=b.nodeShapes[this.getNodeShape(m)],v=l._private.style["border-width"].pxValue,w=m._private.style["border-width"].pxValue,z=!1,e[d].length>1){var B=t.intersectLine(n.x,n.y,p,q,o.x,o.y,v/2),C=u.intersectLine(o.x,o.y,r,s,n.x,n.y,w/2),x={x:(B[0]+C[0])/2,y:(B[1]+C[1])/2},D=C[1]-B[1],E=C[0]-B[0],F=Math.sqrt(E*E+D*D),G={x:E,y:D},H={x:G.x/F,y:G.y/F};y={x:-H.y,y:H.x},(u.checkPoint(B[0],B[1],w/2,r,s,o.x,o.y)||t.checkPoint(C[0],C[1],v/2,p,q,n.x,n.y))&&(y={},z=!0)}for(var i,I,h=0;h<e[d].length;h++){i=e[d][h],I=i._private.rscratch;var J=I.lastEdgeIndex,K=h,L=I.lastNumEdges,M=e[d].length,N=I.lastSrcCtlPtX,O=n.x,P=I.lastSrcCtlPtY,Q=n.y,R=I.lastSrcCtlPtW,S=l.outerWidth(),T=I.lastSrcCtlPtH,U=l.outerHeight(),V=I.lastTgtCtlPtX,W=o.x,X=I.lastTgtCtlPtY,Y=o.y,Z=I.lastTgtCtlPtW,$=m.outerWidth(),_=I.lastTgtCtlPtH,ab=m.outerHeight();if(I.badBezier=z?!0:!1,N!==O||P!==Q||R!==S||T!==U||V!==W||X!==Y||Z!==$||_!==ab||J!==K||L!==M){I.lastSrcCtlPtX=O,I.lastSrcCtlPtY=Q,I.lastSrcCtlPtW=S,I.lastSrcCtlPtH=U,I.lastTgtCtlPtX=W,I.lastTgtCtlPtY=Y,I.lastTgtCtlPtW=$,I.lastTgtCtlPtH=ab,I.lastEdgeIndex=K,I.lastNumEdges=M;var bb=i._private.style["control-point-step-size"].value;if(l.id()==m.id())I.edgeType="self",I.cp2ax=n.x,I.cp2ay=n.y-(1+Math.pow(q,1.12)/100)*bb*(h/3+1),I.cp2cx=l._private.position.x-(1+Math.pow(p,1.12)/100)*bb*(h/3+1),I.cp2cy=n.y,I.selfEdgeMidX=(I.cp2ax+I.cp2cx)/2,I.selfEdgeMidY=(I.cp2ay+I.cp2cy)/2;else if(e[d].length%2==1&&h==Math.floor(e[d].length/2))I.edgeType="straight";else{var cb=(.5-e[d].length/2+h)*bb;I.edgeType="bezier",I.cp2x=x.x+y.x*cb,I.cp2y=x.y+y.y*cb}this.findEndpoints(i);var db=!a.is.number(I.startX)||!a.is.number(I.startY),eb=!a.is.number(I.arrowStartX)||!a.is.number(I.arrowStartY),fb=!a.is.number(I.endX)||!a.is.number(I.endY),gb=!a.is.number(I.arrowEndX)||!a.is.number(I.arrowEndY),hb=3,ib=this.getArrowWidth(i._private.style.width.pxValue)*b.arrowShapeHeight,jb=hb*ib,kb=a.math.distance({x:I.cp2x,y:I.cp2y},{x:I.startX,y:I.startY}),lb=jb>kb,mb=a.math.distance({x:I.cp2x,y:I.cp2y},{x:I.endX,y:I.endY}),nb=jb>mb;if("bezier"===I.edgeType){var ob=!1;if(db||eb||lb){ob=!0;var pb={x:I.cp2x-n.x,y:I.cp2y-n.y},qb=Math.sqrt(pb.x*pb.x+pb.y*pb.y),rb={x:pb.x/qb,y:pb.y/qb},sb=Math.max(p,q),tb={x:I.cp2x+2*rb.x*sb,y:I.cp2y+2*rb.y*sb},ub=t.intersectLine(n.x,n.y,p,q,tb.x,tb.y,v/2);lb?(I.cp2x=I.cp2x+rb.x*(jb-kb),I.cp2y=I.cp2y+rb.y*(jb-kb)):(I.cp2x=ub[0]+rb.x*jb,I.cp2y=ub[1]+rb.y*jb)}if(fb||gb||nb){ob=!0;var pb={x:I.cp2x-o.x,y:I.cp2y-o.y},qb=Math.sqrt(pb.x*pb.x+pb.y*pb.y),rb={x:pb.x/qb,y:pb.y/qb},sb=Math.max(p,q),tb={x:I.cp2x+2*rb.x*sb,y:I.cp2y+2*rb.y*sb},vb=u.intersectLine(o.x,o.y,r,s,tb.x,tb.y,w/2);nb?(I.cp2x=I.cp2x+rb.x*(jb-mb),I.cp2y=I.cp2y+rb.y*(jb-mb)):(I.cp2x=vb[0]+rb.x*jb,I.cp2y=vb[1]+rb.y*jb)}ob&&this.findEndpoints(i)}this.projectBezier(i)}}}return e},b.prototype.findEndpoints=function(c){var d,e=c.source()[0],f=c.target()[0],g=(e._private.position,f._private.position,c._private.style["target-arrow-shape"].value),h=c._private.style["source-arrow-shape"].value,i=f._private.style["border-width"].pxValue,j=e._private.style["border-width"].pxValue,k=c._private.rscratch;if("self"==c._private.rscratch.edgeType){var l=[k.cp2cx,k.cp2cy];d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),l[0],l[1],i/2);var m=a.math.shortenIntersection(d,l,b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,l,b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1];
var l=[k.cp2ax,k.cp2ay];d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),l[0],l[1],j/2);var o=a.math.shortenIntersection(d,l,b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,l,b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if("straight"==k.edgeType){d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),e.position().x,e.position().y,i/2),k.noArrowPlacement=0==d.length?!0:!1;var m=a.math.shortenIntersection(d,[e.position().x,e.position().y],b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,[e.position().x,e.position().y],b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1],d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),f.position().x,f.position().y,j/2),k.noArrowPlacement=0==d.length?!0:!1;var o=a.math.shortenIntersection(d,[f.position().x,f.position().y],b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,[f.position().x,f.position().y],b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if("bezier"==k.edgeType){var l=[k.cp2x,k.cp2y];d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),l[0],l[1],i/2);var m=a.math.shortenIntersection(d,l,b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,l,b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1],d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),l[0],l[1],j/2);var o=a.math.shortenIntersection(d,l,b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,l,b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if(k.isArcEdge)return},b.prototype.findEdges=function(a){for(var b=this.getCachedEdges(),c={},d=[],e=0;e<a.length;e++)c[a[e]._private.data.id]=a[e];for(var e=0;e<b.length;e++)(c[b[e]._private.data.source]||c[b[e]._private.data.target])&&d.push(b[e]);return d},b.prototype.getArrowWidth=function(a){return Math.max(Math.pow(13.37*a,.9),29)},b.prototype.getArrowHeight=function(a){return Math.max(Math.pow(13.37*a,.9),29)}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawEdge=function(a,b,c){if(b.visible()&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var d=b._private.rscratch;if(!d.badBezier){var e,f;if(e=b.source()[0],f=b.target()[0],"visible"==b._private.style.visibility.value&&"element"==b._private.style.display.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&"visible"==f._private.style.visibility.value&&"element"==f._private.style.display.value){var g=b._private.style["overlay-padding"].pxValue,h=b._private.style["overlay-opacity"].value,i=b._private.style["overlay-color"].value;if(c?(a.strokeStyle="rgba( "+i[0]+", "+i[1]+", "+i[2]+", "+h+" )",a.lineCap="round","self"==b._private.rscratch.edgeType&&(a.lineCap="butt")):(a.strokeStyle="rgba("+b._private.style["line-color"].value[0]+","+b._private.style["line-color"].value[1]+","+b._private.style["line-color"].value[2]+","+b._private.style.opacity.value+")",a.lineCap="butt"),!(b._private.style.width.pxValue<=0)){var j=b._private.style.width.pxValue+(c?2*g:0),k=c?"solid":b._private.style["line-style"].value;if(a.lineWidth=j,this.findEndpoints(b),"self"==b._private.rscratch.edgeType){var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.cp2ax,l.cp2ay,l.selfEdgeMidX,l.selfEdgeMidY],k,j),this.drawStyledEdge(b,a,[l.selfEdgeMidX,l.selfEdgeMidY,l.cp2cx,l.cp2cy,l.endX,l.endY],k,j)}else if("straight"==b._private.rscratch.edgeType){var m=f._private.position.x-e._private.position.x,n=f._private.position.y-e._private.position.y,o=b._private.rscratch.endX-b._private.rscratch.startX,p=b._private.rscratch.endY-b._private.rscratch.startY;if(0>m*o+n*p)b._private.rscratch.straightEdgeTooShort=!0;else{var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.endX,l.endY],k,j),b._private.rscratch.straightEdgeTooShort=!1}}else{var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.cp2x,l.cp2y,l.endX,l.endY],k,j)}b._private.rscratch.noArrowPlacement!==!0&&void 0!==b._private.rscratch.startX&&this.drawArrowheads(a,b,c)}}}}};var c=function(a,b){var c=Math.sqrt(Math.pow(a[4]-a[0],2)+Math.pow(a[5]-a[1],2));c+=Math.sqrt(Math.pow((a[4]+a[0])/2-a[2],2)+Math.pow((a[5]+a[1])/2-a[3],2));var d,e=Math.ceil(c/b);if(!(e>0))return null;d=new Array(2*e);for(var f=0;e>f;f++){var g=f/e;d[2*f]=a[0]*(1-g)*(1-g)+2*a[2]*(1-g)*g+a[4]*g*g,d[2*f+1]=a[1]*(1-g)*(1-g)+2*a[3]*(1-g)*g+a[5]*g*g}return d},d=function(a,b){var c,d=Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),e=Math.ceil(d/b);if(!(e>0))return null;c=new Array(2*e);for(var f=[a[2]-a[0],a[3]-a[1]],g=0;e>g;g++){var h=g/e;c[2*g]=f[0]*h+a[0],c[2*g+1]=f[1]*h+a[1]}return c};b.prototype.drawStyledEdge=function(a,b,e,f,g){var h=this.data.cy,i=h.zoom();if("solid"==f)b.beginPath(),b.moveTo(e[0],e[1]),6==e.length?b.quadraticCurveTo(e[2],e[3],e[4],e[5]):b.lineTo(e[2],e[3]),b.stroke();else if("dotted"==f){var j;if(j=6==e.length?c(e,16,!0):d(e,16,!0),!j)return;var k=Math.max(1.6*g,3.4)*i,l=2*k,m=2*k;l=Math.max(l,1),m=Math.max(m,1);var n=this.createBuffer(l,m),o=n[1];o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,l,m),o.fillStyle=b.strokeStyle,o.beginPath(),o.arc(l/2,m/2,.5*k,0,2*Math.PI,!1),o.fill(),b.beginPath();for(var p=0;p<j.length/2;p++)b.drawImage(n[0],j[2*p]-l/2/i,j[2*p+1]-m/2/i,l/i,m/i)}else if("dashed"==f){var j;if(j=6==e.length?c(e,14,!0):d(e,14,!0),!j)return;var l=2*g*i,m=7.8*i;l=Math.max(l,1),m=Math.max(m,1);var n=this.createBuffer(l,m),o=n[1];o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,l,m),b.strokeStyle&&(o.strokeStyle=b.strokeStyle),o.lineWidth=g*h.zoom(),o.beginPath(),o.moveTo(l/2,.2*m),o.lineTo(l/2,.8*m),o.stroke();var q,r,s=!1;4==e.length?(q=[e[2]-e[0],e[3]-j[1]],r=Math.acos((0*q[0]+-1*q[1])/Math.sqrt(q[0]*q[0]+q[1]*q[1])),q[0]<0&&(r=-r+2*Math.PI)):6==e.length&&(s=!0);for(var p=0;p<j.length/2;p++){var t=p/Math.max(j.length/2-1,1);s&&(q=[2*(1-t)*(e[2]-e[0])+2*t*(e[4]-e[2]),2*(1-t)*(e[3]-e[1])+2*t*(e[5]-e[3])],r=Math.acos((0*q[0]+-1*q[1])/Math.sqrt(q[0]*q[0]+q[1]*q[1])),q[0]<0&&(r=-r+2*Math.PI)),b.translate(j[2*p],j[2*p+1]),b.rotate(r),b.translate(-l/2/i,-m/2/i),b.drawImage(n[0],0,0,l/i,m/i),b.translate(l/2/i,m/2/i),b.rotate(-r),b.translate(-j[2*p],-j[2*p+1])}}else this.drawStyledEdge(a,b,e,"solid",g)},b.prototype.drawArrowheads=function(a,b,c){if(!c){var d,e,f=b._private.rscratch.arrowStartX,g=b._private.rscratch.arrowStartY,h=b.source().position();if(d=f-h.x,e=g-h.y,!(isNaN(f)||isNaN(g)||isNaN(d)||isNaN(e))){var i=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.lineWidth=b._private.style.width.pxValue,a.fillStyle="white",this.drawArrowShape(a,b._private.style["source-arrow-shape"].value,f,g,d,e),a.globalCompositeOperation=i,a.fillStyle="rgba("+b._private.style["source-arrow-color"].value[0]+","+b._private.style["source-arrow-color"].value[1]+","+b._private.style["source-arrow-color"].value[2]+","+b._private.style.opacity.value+")",this.drawArrowShape(a,b._private.style["source-arrow-shape"].value,f,g,d,e)}var j=b._private.rscratch.arrowEndX,k=b._private.rscratch.arrowEndY,l=b.target().position();if(d=j-l.x,e=k-l.y,!(isNaN(j)||isNaN(k)||isNaN(d)||isNaN(e))){var i=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.lineWidth=b._private.style.width.pxValue,a.fillStyle="white",this.drawArrowShape(a,b._private.style["target-arrow-shape"].value,j,k,d,e),a.globalCompositeOperation=i,a.fillStyle="rgba("+b._private.style["target-arrow-color"].value[0]+","+b._private.style["target-arrow-color"].value[1]+","+b._private.style["target-arrow-color"].value[2]+","+b._private.style.opacity.value+")",this.drawArrowShape(a,b._private.style["target-arrow-shape"].value,j,k,d,e)}}},b.prototype.drawArrowShape=function(a,c,d,e,f,g){var h=Math.asin(g/Math.sqrt(f*f+g*g));0>f?h+=Math.PI/2:h=-(Math.PI/2+h),a.translate(d,e),a.moveTo(0,0),a.rotate(-h);var i=this.getArrowWidth(a.lineWidth);a.scale(i,i),a.beginPath(),b.arrowShapes[c].draw(a),a.closePath(),a.fill(),a.scale(1/i,1/i),a.rotate(h),a.translate(-d,-e)}}(cytoscape),function(a){var b=a("renderer","canvas"),c={},d=9e3;b.prototype.getCachedImage=function(a,b){if(c[a]&&c[a].image)return c[a].keepTime=d,c[a].image;var e=c[a];return void 0==e&&(c[a]=new Object,c[a].image=new Image,c[a].image.onload=b,c[a].image.src=a,c[a].keepTime=d,e=c[a]),e.image},b.prototype.swapCachedImage=function(a){if(c[a]){if(c[a].image&&c[a].image.complete){var b=c[a].image,d=document.createElement("canvas");return d.width=b.width,d.height=b.height,d.getContext("2d").drawImage(b,0,0),c[a].image=d,c[a].swappedWithCanvas=!0,d}return null}return null},b.prototype.updateImageCaches=function(){for(var a in c)c[a].keepTime<=0?(void 0!=c[a].image&&(c[a].image.src=void 0,c[a].image=void 0),c[a]=void 0):c[a]-=1},b.prototype.drawImage=function(a,b,c,d,e,f,g){g.widthScale=.5,g.heightScale=.5,g.rotate=f;canvas.drawImage(g,b,c)},b.prototype.drawInscribedImage=function(a,c,d){var e=this,f=(this.data.cy._private.zoom,d._private.position.x),g=d._private.position.y,h=this.getNodeWidth(d),i=this.getNodeHeight(d);a.save(),b.nodeShapes[e.getNodeShape(d)].drawPath(a,f,g,h,i),a.clip();var j=[c.width,c.height];a.drawImage(c,f-j[0]/2,g-j[1]/2,j[0],j[1]),a.restore(),d._private.style["border-width"].value>0&&a.stroke()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawEdgeText=function(a,b){if(b.visible()&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var c=b._private.style["font-size"].pxValue*b.cy().zoom(),d=b._private.style["min-zoomed-font-size"].pxValue;if(!(d>c)){a.textAlign="center",a.textBaseline="middle",this.recalculateEdgeLabelProjection(b);var e=b._private.rscratch;this.drawText(a,b,e.labelX,e.labelY)}}},b.prototype.drawNodeText=function(a,b){if(b.visible()){var c=b._private.style["font-size"].pxValue*b.cy().zoom(),d=b._private.style["min-zoomed-font-size"].pxValue;if(!(d>c)){this.recalculateNodeLabelProjection(b);var e=b._private.style["text-halign"].strValue,f=b._private.style["text-valign"].strValue,g=b._private.rscratch;switch(e){case"left":a.textAlign="right";break;case"right":a.textAlign="left";break;case"center":default:a.textAlign="center"}switch(f){case"top":a.textBaseline="bottom";break;case"bottom":a.textBaseline="top";break;case"center":default:a.textBaseline="middle"}this.drawText(a,b,g.labelX,g.labelY)}}},b.prototype.setupTextStyle=function(a,b){var c=b.effectiveOpacity(),d=b._private.style,e=d["font-style"].strValue,f=d["font-size"].pxValue+"px",g=d["font-family"].strValue,h=(d["font-variant"].strValue,d["font-weight"].strValue);a.font=e+" "+h+" "+f+" "+g;var i=String(d.content.value),j=d["text-transform"].value;return"none"==j||("uppercase"==j?i=i.toUpperCase():"lowercase"==j&&(i=i.toLowerCase())),a.lineJoin="round",a.fillStyle="rgba("+d.color.value[0]+","+d.color.value[1]+","+d.color.value[2]+","+d["text-opacity"].value*d.opacity.value*c+")",a.strokeStyle="rgba("+d["text-outline-color"].value[0]+","+d["text-outline-color"].value[1]+","+d["text-outline-color"].value[2]+","+d["text-opacity"].value*d.opacity.value*c+")",i},b.prototype.drawText=function(a,b,c,d){var e=b._private.style,f=b.effectiveOpacity();if(0!==f){var g=this.setupTextStyle(a,b);if(void 0!=g&&!isNaN(c)&&!isNaN(d)){var h=2*e["text-outline-width"].value;h>0&&(a.lineWidth=h,a.strokeText(g,c,d)),a.fillText(""+g,c,d)}}}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawNode=function(a,c,d){var e,f;if(c.visible()){var g=c.effectiveOpacity();if(0!==g)if(e=this.getNodeWidth(c),f=this.getNodeHeight(c),a.lineWidth=c._private.style["border-width"].pxValue,void 0!==d&&d){var h=c._private.style["overlay-padding"].pxValue,i=c._private.style["overlay-opacity"].value,j=c._private.style["overlay-color"].value;i>0&&(a.fillStyle="rgba( "+j[0]+", "+j[1]+", "+j[2]+", "+i+" )",b.nodeShapes.roundrectangle.draw(a,c._private.position.x,c._private.position.y,e+2*h,f+2*h))}else{a.fillStyle="rgba("+c._private.style["background-color"].value[0]+","+c._private.style["background-color"].value[1]+","+c._private.style["background-color"].value[2]+","+c._private.style["background-opacity"].value*c._private.style.opacity.value*g+")",a.strokeStyle="rgba("+c._private.style["border-color"].value[0]+","+c._private.style["border-color"].value[1]+","+c._private.style["border-color"].value[2]+","+c._private.style["border-opacity"].value*c._private.style.opacity.value*g+")",a.lineJoin="miter";var k=c._private.style["background-image"].value[2]||c._private.style["background-image"].value[1];if(void 0!=k){var l=this,m=this.getCachedImage(k,function(){l.data.canvasNeedsRedraw[b.NODE]=!0,l.data.canvasNeedsRedraw[b.DRAG]=!0,l.swapCachedImage(k),l.redraw()});0==m.complete?(b.nodeShapes[l.getNodeShape(c)].drawPath(a,c._private.position.x,c._private.position.y,e,f),a.stroke(),a.fillStyle="#555555",a.fill()):this.drawInscribedImage(a,m,c)}else b.nodeShapes[this.getNodeShape(c)].draw(a,c._private.position.x,c._private.position.y,e,f);this.drawPie(a,c),c._private.style["border-width"].pxValue>0&&(b.nodeShapes[this.getNodeShape(c)].drawPath(a,c._private.position.x,c._private.position.y,e,f),a.stroke())}}},b.prototype.hasPie=function(b){b=b[0];for(var c=1;c<=a.style.pieBackgroundN;c++){var d=b._private.style["pie-"+c+"-background-size"].value;if(d>0)return!0}return!1},b.prototype.drawPie=function(c,d){if(d=d[0],this.hasPie(d)){var e=this.getNodeWidth(d),f=this.getNodeHeight(d),g=d._private.position.x,h=d._private.position.y,i=Math.min(e,f)/2,j=0;c.save(),b.nodeShapes[this.getNodeShape(d)].drawPath(c,g,h,e,f),c.clip();for(var k=1;k<=a.style.pieBackgroundN;k++){{var l=d._private.style["pie-"+k+"-background-size"].value,m=d._private.style["pie-"+k+"-background-color"],n=l/100,o=1.5*Math.PI+2*Math.PI*j,p=2*Math.PI*n,q=o+p;g+i*Math.cos(o),h+i*Math.sin(o)}0===l||j>=1||j+n>1||(c.beginPath(),c.moveTo(g,h),c.arc(g,h,i,o,q),c.closePath(),c.fillStyle="rgb("+m.value[0]+","+m.value[1]+","+m.value[2]+")",c.fill(),j+=n)}c.restore()}}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.getPixelRatio=function(){var a=this.data.canvases[0],b=a.getContext("2d"),c=b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1,d="undefined"!=typeof InstallTrigger;return d?1:(window.devicePixelRatio||1)/c},b.prototype.matchCanvasSize=function(a){var c,d=this.data,e=a.clientWidth,f=a.clientHeight,g=e,h=f,i=this.getPixelRatio();g*=i,h*=i;var j=d.canvasContainer;j.style.width=e+"px",j.style.height=f+"px";for(var k=0;k<b.CANVAS_LAYERS;k++)c=d.canvases[k],(c.width!==g||c.height!==h)&&(c.width=g,c.height=h,c.style.width=e+"px",c.style.height=f+"px");for(var k=0;k<b.BUFFER_COUNT;k++)c=d.bufferCanvases[k],(c.width!==g||c.height!==h)&&(c.width=g,c.height=h)},b.prototype.renderTo=function(a,b,c){this.redraw({forcedContext:a,forcedZoom:b,forcedPan:c,drawAllLayers:!0})},b.prototype.redraw=function(a){function c(){function a(a){a.setTransform(1,0,0,1,0,0),!d&&a.clearRect(0,0,a.canvas.width,a.canvas.height),e||(a.translate(p.x,p.y),a.scale(n,n)),g&&a.translate(g.x,g.y),f&&a.scale(f,f)}function c(a,b){for(var c=[],d=[],e=0;e<a.length;e++)f=a[e],f.isNode()?d.push(f):f.isEdge()&&(h.drawEdge(b,f),c.push(f));for(var e=0;e<c.length;e++)f=c[e],h.drawEdgeText(b,f),h.drawEdge(b,f,!0);for(var e=0;e<d.length;e++){var f=d[e];h.drawNode(b,f),h.drawNodeText(b,f),h.drawNode(b,f,!0)}}var l=(h.getCachedNodes(),h.getCachedEdges());d||h.matchCanvasSize(k.container);var m=j.zoom(),n=void 0!==f?f:m,o=j.pan(),p={x:o.x,y:o.y};g&&(p=g),n*=i,p.x*=i,p.y*=i;var q,s,t,u;if(k.canvasNeedsRedraw[b.DRAG]||k.canvasNeedsRedraw[b.NODE]||e){h.hideEdgesOnViewport&&(h.pinching||h.hoverData.dragging||h.data.wheel||h.swipePanning)||h.findEdgeControlPoints(l),q=h.getCachedZSortedEles(),s=[],t=[];for(var v=0;v<q.length;v++)u=q[v],u._private.rscratch.inDragLayer?s.push(u):t.push(u)}if(k.canvasNeedsRedraw[b.NODE]||e){var w=d||k.canvases[b.NODE].getContext("2d");a(w),c(t,w),e||(k.canvasNeedsRedraw[b.NODE]=!1)}if(k.canvasNeedsRedraw[b.DRAG]||e){var w=d||k.canvases[b.DRAG].getContext("2d");a(w),c(s,w),e||(k.canvasNeedsRedraw[b.DRAG]=!1)}if(k.canvasNeedsRedraw[b.SELECT_BOX]&&!e){var w=d||k.canvases[b.SELECT_BOX].getContext("2d");a(w);var x=j.style()._private.coreStyle;if(1==k.select[4]){var m=k.cy.zoom(),y=x["selection-box-border-width"].value/m;w.lineWidth=y,w.fillStyle="rgba("+x["selection-box-color"].value[0]+","+x["selection-box-color"].value[1]+","+x["selection-box-color"].value[2]+","+x["selection-box-opacity"].value+")",w.fillRect(k.select[0],k.select[1],k.select[2]-k.select[0],k.select[3]-k.select[1]),y>0&&(w.strokeStyle="rgba("+x["selection-box-border-color"].value[0]+","+x["selection-box-border-color"].value[1]+","+x["selection-box-border-color"].value[2]+","+x["selection-box-opacity"].value+")",w.strokeRect(k.select[0],k.select[1],k.select[2]-k.select[0],k.select[3]-k.select[1]))}if(k.bgActivePosistion){var m=k.cy.zoom(),z=k.bgActivePosistion;w.fillStyle="rgba("+x["active-bg-color"].value[0]+","+x["active-bg-color"].value[1]+","+x["active-bg-color"].value[2]+","+x["active-bg-opacity"].value+")",w.beginPath(),w.arc(z.x,z.y,x["active-bg-size"].pxValue/m,0,2*Math.PI),w.fill()}e||(k.canvasNeedsRedraw[b.SELECT_BOX]=!1)}var A=+new Date;void 0===h.averageRedrawTime&&(h.averageRedrawTime=A-r),h.averageRedrawTime=h.averageRedrawTime/2+(A-r)/2}a=a||{};var d=a.forcedContext,e=a.drawAllLayers,f=a.forcedZoom,g=a.forcedPan,h=this,i=this.getPixelRatio(),j=h.data.cy,k=h.data;clearTimeout(this.redrawTimeout),void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var l=1e3/60,m=1e3,n=this.averageRedrawTime;n=Math.max(l,n),n=Math.min(n,m),void 0===this.lastDrawTime&&(this.lastDrawTime=0);var o=+new Date,p=o-this.lastDrawTime,q=p>=n;if(!d){if(!q)return clearTimeout(this.redrawTimeout),void(this.redrawTimeout=setTimeout(function(){h.redraw()},n));this.lastDrawTime=o}var r=o;d?c():setTimeout(c,0),d||h.initrender||(h.initrender=!0,j.trigger("initrender"))}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawPolygonPath=function(a,b,c,d,e,f){a.translate(b,c),a.scale(d/2,e/2),a.beginPath(),a.moveTo(f[0],f[1]);for(var g=1;g<f.length/2;g++)a.lineTo(f[2*g],f[2*g+1]);a.closePath(),a.scale(2/d,2/e),a.translate(-b,-c)},b.prototype.drawPolygon=function(a,b,c,d,e,f){this.drawPolygonPath(a,b,c,d,e,f),a.fill()},b.prototype.drawRoundRectanglePath=function(b,c,d,e,f){var g=e/2,h=f/2,i=a.math.getRoundRectangleRadius(e,f);b.translate(c,d),b.beginPath(),b.moveTo(0,-h),b.arcTo(g,-h,g,0,i),b.arcTo(g,h,0,h,i),b.arcTo(-g,h,-g,0,i),b.arcTo(-g,-h,0,-h,i),b.lineTo(0,-h),b.closePath(),b.translate(-c,-d)},b.prototype.drawRoundRectangle=function(a,b,c,d,e,f){this.drawRoundRectanglePath(a,b,c,d,e,f),a.fill()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.createBuffer=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,[c,c.getContext("2d")]},b.prototype.png=function(a){var b=this.data,c=b.cy,d=c.boundingBox(),e=a.full?Math.ceil(d.w):this.data.container.clientWidth,f=a.full?Math.ceil(d.h):this.data.container.clientHeight,g=document.createElement("canvas");g.width=e,g.height=f,g.style.width=e+"px",g.style.height=f+"px";var h=g.getContext("2d");return e>0&&f>0&&(h.clearRect(0,0,e,f),a.bg&&(h.fillStyle=a.bg,h.rect(0,0,e,f),h.fill()),h.globalCompositeOperation="source-over",this.redraw(a.full?{forcedContext:h,drawAllLayers:!0,forcedZoom:1,forcedPan:{x:-d.x1,y:-d.y1}}:{forcedContext:h,drawAllLayers:!0})),g.toDataURL("image/png")}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.registerBinding=function(a,b,c,d){this.bindings.push({target:a,event:b,handler:c,useCapture:d}),a.addEventListener(b,c,d)},b.prototype.load=function(){var c=this,d=function(a,b,c){if(!b)for(var d=a.parents(),e=0;e<d.size();e++)if(d[e]._private.selected)return;for(var f=a.descendants(),e=0;e<f.size();e++)if(b||!f[e]._private.selected){f[e]._private.rscratch.inDragLayer=!0,c.push(f[e]);for(var g=0;g<f[e]._private.edges.length;g++)f[e]._private.edges[g]._private.rscratch.inDragLayer=!0}},e=function(a,b){a._private.grabbed=!0,a._private.rscratch.inDragLayer=!0,b.push(a);for(var c=0;c<a._private.edges.length;c++)a._private.edges[c]._private.rscratch.inDragLayer=!0},f=function(a,b){for(var c=a;c.parent().nonempty();)c=c.parent()[0];if(c!=a||!b)for(var d=c.descendants().add(c),e=0;e<d.size();e++){d[e]._private.rscratch.inDragLayer=b;for(var f=0;f<d[e]._private.edges.length;f++)d[e]._private.edges[f]._private.rscratch.inDragLayer=b}};b.prototype.nodeIsDraggable=function(a){return 0!=a._private.style.opacity.value&&"visible"==a._private.style.visibility.value&&"element"==a._private.style.display.value&&!a._private.locked&&a._private.grabbable?!0:!1},c.registerBinding(window,"resize",function(){c.data.canvasNeedsRedraw[b.NODE]=!0,c.matchCanvasSize(c.data.container),c.redraw()},!0),c.registerBinding(c.data.container,"contextmenu",function(a){a.preventDefault()});var g=function(){return 0!==c.data.select[4]};c.registerBinding(c.data.container,"mousedown",function(g){g.preventDefault(),c.hoverData.capture=!0,c.hoverData.which=g.which;var h=c.data.cy,i=c.projectIntoViewport(g.pageX,g.pageY),j=c.data.select,k=c.findNearestElement(i[0],i[1],!0),l=(c.hoverData.down,c.dragData.possibleDragElements),m=new a.Event("grab");if(3==g.which)c.hoverData.cxtStarted=!0,k&&(k.activate(),k.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.down=k),h.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1;else if(1==g.which){if(k&&k.activate(),null!=k&&c.nodeIsDraggable(k)){if("nodes"==k._private.group&&0==k._private.selected&&(l=c.dragData.possibleDragElements=[],e(k,l),k.trigger(m),("auto"==k._private.style.width.value||"auto"==k._private.style.height.value)&&d(k,!0,l),f(k,!0)),"nodes"==k._private.group&&1==k._private.selected){l=c.dragData.possibleDragElements=[];for(var n=!1,o=h.$("node:selected"),p=0;p<o.length;p++)c.nodeIsDraggable(o[p])&&(e(o[p],l),n||(k.trigger(m),n=!0),("auto"==o[p]._private.style.width.value||"auto"==o[p]._private.style.height.value)&&d(o[p],!1,l),f(o[p],!0))}k.trigger(new a.Event(g,{type:"mousedown",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:i[0],y:i[1]}}))}else null==k&&h.trigger(new a.Event(g,{type:"mousedown",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:i[0],y:i[1]}}));if(c.hoverData.down=k,c.hoverData.downTime=(new Date).getTime(),null==k||k.isEdge()){j[4]=1;var q=Math.max(0,b.panOrBoxSelectDelay-(+new Date-c.hoverData.downTime));clearTimeout(c.bgActiveTimeout),c.bgActiveTimeout=setTimeout(function(){k&&k.unactivate(),c.data.bgActivePosistion={x:i[0],y:i[1]},c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.redraw()},q)}}j[0]=j[2]=i[0],j[1]=j[3]=i[1],c.redraw()},!1),c.registerBinding(window,"mousemove",function(d){var e=!1,f=c.hoverData.capture;if(!f){var g=c.findContainerPageCoords();if(!(d.pageX>g[0]&&d.pageX<g[0]+c.data.container.clientWidth&&d.pageY>g[1]&&d.pageY<g[1]+c.data.container.clientHeight))return}{var h=c.data.cy,i=c.projectIntoViewport(d.pageX,d.pageY),j=c.data.select,k=c.findNearestElement(i[0],i[1],!0),l=c.hoverData.last,m=c.hoverData.down,n=[i[0]-j[2],i[1]-j[3]],o=(c.getCachedNodes(),c.getCachedEdges(),c.dragData.possibleDragElements);d.shiftKey}if(e=!0,null!=k?k.trigger(new a.Event(d,{type:"mousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:i[0],y:i[1]}})):null==k&&h.trigger(new a.Event(d,{type:"mousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:i[0],y:i[1]}})),3===c.hoverData.which){var p=new a.Event(d,{type:"cxtdrag",cyPosition:{x:i[0],y:i[1]}});m?m.trigger(p):h.trigger(p),c.hoverData.cxtDragged=!0}else if(c.hoverData.dragging){if(e=!0,h.panningEnabled()&&h.userPanningEnabled()){var q={x:n[0]*h.zoom(),y:n[1]*h.zoom()};h.panBy(q)}i=c.projectIntoViewport(d.pageX,d.pageY)}else if(1==j[4]&&(null==m||m.isEdge())&&(!h.boxSelectionEnabled()||+new Date-c.hoverData.downTime>=b.panOrBoxSelectDelay)&&Math.abs(j[3]-j[1])+Math.abs(j[2]-j[0])<4&&h.panningEnabled()&&h.userPanningEnabled())c.hoverData.dragging=!0,j[4]=0;else{if(h.boxSelectionEnabled()&&Math.pow(j[2]-j[0],2)+Math.pow(j[3]-j[1],2)>7&&j[4]&&(clearTimeout(c.bgActiveTimeout),c.data.bgActivePosistion=void 0),m&&m.isEdge()&&m.active()&&m.unactivate(),k!=l&&(l&&l.trigger(new a.Event(d,{type:"mouseout",cyPosition:{x:i[0],y:i[1]}})),k&&k.trigger(new a.Event(d,{type:"mouseover",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.last=k),m&&m.isNode()&&c.nodeIsDraggable(m)){c.dragData.didDrag=!0,c.hoverData.draggingEles=!0;var r=[];new a.Collection(h,o).positions(function(a,b){if(b.isNode()&&c.nodeIsDraggable(b)){var d=b.position();return{x:d.x+n[0],y:d.y+n[1]}}}),new a.Collection(h,r).trigger("drag"),j[2]==j[0]&&j[3]==j[1]&&(c.data.canvasNeedsRedraw[b.NODE]=!0),c.data.canvasNeedsRedraw[b.DRAG]=!0}h.boxSelectionEnabled()&&(c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0),e=!0}return j[2]=i[0],j[3]=i[1],c.redraw(),e?(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),!1):void 0},!1),c.registerBinding(window,"mouseup",function(d){var e=c.hoverData.capture;if(e){c.hoverData.capture=!1;var g=c.data.cy,h=c.projectIntoViewport(d.pageX,d.pageY),i=c.data.select,j=c.findNearestElement(h[0],h[1],!0),k=(c.getCachedNodes(),c.getCachedEdges(),c.dragData.possibleDragElements),l=c.hoverData.down,m=d.shiftKey;if(c.data.bgActivePosistion=void 0,clearTimeout(c.bgActiveTimeout),c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,l&&l.unactivate(),3===c.hoverData.which){var n=new a.Event(d,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}});if(l?l.trigger(n):g.trigger(n),!c.hoverData.cxtDragged){var o=new a.Event(d,{type:"cxttap",cyPosition:{x:h[0],y:h[1]}});l?l.trigger(o):g.trigger(o)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else{if(null!=l||c.dragData.didDrag||Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)>7&&i[4]||c.hoverData.dragging||(g.$(":selected").unselect(),k.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0),c.dragData.possibleDragElements=k=[]),null!=j?j.trigger(new a.Event(d,{type:"mouseup",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})):null==j&&g.trigger(new a.Event(d,{type:"mouseup",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)==0&&(null!=j?j.trigger(new a.Event(d,{type:"click",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:h[0],y:h[1]}})):null==j&&g.trigger(new a.Event(d,{type:"click",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:h[0],y:h[1]}}))),j!=l||c.dragData.didDrag){if(j==l&&null!=j&&j._private.grabbed){for(var p=g.$(":grabbed"),q=0;q<p.length;q++){var r=p[q];r._private.grabbed=!1;for(var s=r._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(r,!1)}p.trigger("free")}}else null!=j&&j._private.selectable&&("additive"===g.selectionType()||m?j.selected()?j.unselect():j.select():m||(g.$(":selected").unselect(),j.select()),f(j,!1),c.data.canvasNeedsRedraw[b.NODE]=!0);if(g.boxSelectionEnabled()&&Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)>7&&i[4]){for(var u=[],v=c.getAllInBox(i[0],i[1],i[2],i[3]),q=(new a.Event(d,{type:"select"}),0);q<v.length;q++)v[q]._private.selectable&&(k.push(v[q]),u.push(v[q]));var w=new a.Collection(g,u);"additive"===g.selectionType()?w.select():(m||g.$(":selected").unselect(),w.select()),v.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}if(c.hoverData.dragging=!1,!i[4]){for(var q=0;q<k.length;q++)if("nodes"==k[q]._private.group){k[q]._private.rscratch.inDragLayer=!1;for(var s=k[q]._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(k[q],!1)}else"edges"==k[q]._private.group&&(k[q]._private.rscratch.inDragLayer=!1);l&&l.trigger("free"),c.data.canvasNeedsRedraw[b.DRAG]=!0,c.data.canvasNeedsRedraw[b.NODE]=!0}}i[4]=0,c.hoverData.down=null,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.dragData.didDrag=!1,c.redraw()}},!1);var h=function(a){var b=c.data.cy,d=c.projectIntoViewport(a.pageX,a.pageY),e=[d[0]*b.zoom()+b.pan().x,d[1]*b.zoom()+b.pan().y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||g())return void a.preventDefault();if(b.panningEnabled()&&b.userPanningEnabled()&&b.zoomingEnabled()&&b.userZoomingEnabled()){a.preventDefault();var f=a.wheelDeltaY/1e3||a.wheelDelta/1e3||a.detail/-32||-a.deltaY/500;b.zoom({level:b.zoom()*Math.pow(10,f),renderedPosition:{x:e[0],y:e[1]}})}};c.registerBinding(c.data.container,"wheel",h,!0),c.registerBinding(c.data.container,"mousewheel",h,!0),c.registerBinding(c.data.container,"DOMMouseScroll",h,!0),c.registerBinding(c.data.container,"MozMousePixelScroll",function(){},!1),c.registerBinding(c.data.container,"mouseout",function(b){var d=c.projectIntoViewport(b.pageX,b.pageY);c.data.cy.trigger(new a.Event(b,{type:"mouseout",cyPosition:{x:d[0],y:d[1]}}))},!1),c.registerBinding(c.data.container,"mouseover",function(b){var d=c.projectIntoViewport(b.pageX,b.pageY);c.data.cy.trigger(new a.Event(b,{type:"mouseover",cyPosition:{x:d[0],y:d[1]}}))},!1);var i,j,k,l,m,n,o,p,q,r,s=c.data.container.clientWidth,t=c.data.container.clientHeight,u=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))};c.registerBinding(c.data.container,"touchstart",function(g){clearTimeout(this.threeFingerSelectTimeout),g.target!==c.data.link&&g.preventDefault(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var h=c.data.cy,v=c.getCachedNodes(),w=c.getCachedEdges(),x=c.touchData.now,y=c.touchData.earlier;if(g.touches[0]){var z=c.projectIntoViewport(g.touches[0].pageX,g.touches[0].pageY);x[0]=z[0],x[1]=z[1]}if(g.touches[1]){var z=c.projectIntoViewport(g.touches[1].pageX,g.touches[1].pageY);x[2]=z[0],x[3]=z[1]}if(g.touches[2]){var z=c.projectIntoViewport(g.touches[2].pageX,g.touches[2].pageY);x[4]=z[0],x[5]=z[1]}if(g.touches[1]){var A=function(a){for(var b=0;b<a.length;b++)a[b]._private.grabbed=!1,a[b]._private.rscratch.inDragLayer=!1,a[b].active()&&a[b].unactivate()};A(v),A(w);var B=c.findContainerPageCoords();q=B[1],p=B[0],i=g.touches[0].pageX-p,j=g.touches[0].pageY-q,k=g.touches[1].pageX-p,l=g.touches[1].pageY-q,r=i>=0&&s>=i&&k>=0&&s>=k&&j>=0&&t>=j&&l>=0&&t>=l;var C=h.pan(),D=h.zoom();if(m=u(i,j,k,l),n=[(i+k)/2,(j+l)/2],o=[(n[0]-C.x)/D,(n[1]-C.y)/D],100>m){var E=c.findNearestElement(x[0],x[1],!0),F=c.findNearestElement(x[2],x[3],!0);return E&&E.isNode()?(E.activate().trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=E):F&&F.isNode()?(F.activate().trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=F):(h.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=null),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()
}}if(g.touches[2]);else if(g.touches[1]);else if(g.touches[0]){var G=c.findNearestElement(x[0],x[1],!0);if(null!=G){if(G.activate(),c.touchData.start=G,"nodes"==G._private.group&&c.nodeIsDraggable(G)){var H=c.dragData.touchDragEles=[];if(e(G,H),G.trigger("grab"),G.selected()){H=c.dragData.touchDragEles=[];for(var I=h.$("node:selected"),J=0;J<I.length;J++){var K=I[J];if(c.nodeIsDraggable(K)){H.push(K),K._private.rscratch.inDragLayer=!0;for(var L=K._private.edges,M=0;M<L.length;M++)L[M]._private.rscratch.inDragLayer=!0;("auto"==K._private.style.width.value||"auto"==K._private.style.height.value)&&d(K,!1,H),f(K,!0)}}}else("auto"==G._private.style.width.value||"auto"==G._private.style.height.value)&&d(G,!0,H),f(G,!0)}G.trigger(new a.Event(g,{type:"touchstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"vmousdown",cyPosition:{x:x[0],y:x[1]}}))}null==G&&(h.trigger(new a.Event(g,{type:"touchstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:x[0],y:x[1]}})),c.data.bgActivePosistion={x:z[0],y:z[1]},c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0);for(var N=0;N<x.length;N++)y[N]=x[N],c.touchData.startPosition[N]=x[N];c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date;{setTimeout(function(){0==c.touchData.singleTouchMoved&&+new Date-c.touchData.singleTouchStartTime>250&&(c.touchData.start?c.touchData.start.trigger(new a.Event(g,{type:"taphold",cyPosition:{x:x[0],y:x[1]}})):(c.data.cy.trigger(new a.Event(g,{type:"taphold",cyPosition:{x:x[0],y:x[1]}})),h.$(":selected").unselect()))},1e3)}}c.redraw()},!1),c.registerBinding(window,"touchmove",function(d){var e=c.data.select,f=c.touchData.capture;f&&d.preventDefault();var g=c.data.cy,h=(c.getCachedNodes(),c.getCachedEdges(),c.touchData.now),n=c.touchData.earlier;if(d.touches[0]){var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}if(d.touches[1]){var s=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);h[2]=s[0],h[3]=s[1]}if(d.touches[2]){var s=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);h[4]=s[0],h[5]=s[1]}for(var t=[],v=0;v<h.length;v++)t[v]=h[v]-n[v];if(f&&c.touchData.cxt){var w=d.touches[0].pageX-p,x=d.touches[0].pageY-q,y=d.touches[1].pageX-p,z=d.touches[1].pageY-q,A=u(w,x,y,z),B=A/m;if(B>=1.5||A>=150){c.touchData.cxt=!1,c.touchData.start&&(c.touchData.start.unactivate(),c.touchData.start=null),c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;var C=new a.Event(d,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}});c.touchData.start?c.touchData.start.trigger(C):g.trigger(C)}}if(f&&c.touchData.cxt){var C=new a.Event(d,{type:"cxtdrag",cyPosition:{x:h[0],y:h[1]}});c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.touchData.start?c.touchData.start.trigger(C):g.trigger(C),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0}else if(f&&d.touches[2]&&g.boxSelectionEnabled())c.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,e&&0!==e.length&&void 0!==e[0]?(e[2]=(h[0]+h[2]+h[4])/3,e[3]=(h[1]+h[3]+h[5])/3):(e[0]=(h[0]+h[2]+h[4])/3,e[1]=(h[1]+h[3]+h[5])/3,e[2]=(h[0]+h[2]+h[4])/3+1,e[3]=(h[1]+h[3]+h[5])/3+1),e[4]=1;else if(f&&d.touches[1]&&g.zoomingEnabled()&&g.panningEnabled()&&g.userZoomingEnabled()&&g.userPanningEnabled()){c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;var w=d.touches[0].pageX-p,x=d.touches[0].pageY-q,y=d.touches[1].pageX-p,z=d.touches[1].pageY-q,A=u(w,x,y,z),B=A/m;if(1!=B&&r){var D=w-i,E=x-j,F=y-k,G=z-l,H=(D+F)/2,I=(E+G)/2,J=g.zoom(),K=J*B,L=g.pan(),M=o[0]*J+L.x,N=o[1]*J+L.y,O={x:-K/J*(M-L.x-H)+M,y:-K/J*(N-L.y-I)+N};g._private.zoom=K,g._private.pan=O,g.trigger("pan zoom").notify("viewport"),m=A,i=w,j=x,k=y,l=z,c.pinching=!0}if(d.touches[0]){var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}if(d.touches[1]){var s=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);h[2]=s[0],h[3]=s[1]}if(d.touches[2]){var s=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);h[4]=s[0],h[5]=s[1]}}else if(d.touches[0]){{var P=c.touchData.start;c.touchData.last}if(null!=P&&"nodes"==P._private.group&&c.nodeIsDraggable(P)){var Q=c.dragData.touchDragEles,R=new a.Collection(g,Q).positions(function(a,b){if(c.nodeIsDraggable(b)){c.dragData.didDrag=!0;var d=b.position();return{x:d.x+t[0],y:d.y+t[1]}}});R.trigger("drag"),c.data.canvasNeedsRedraw[b.DRAG]=!0,c.touchData.startPosition[0]==n[0]&&c.touchData.startPosition[1]==n[1]&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}if(null!=P&&(P.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),P.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),P.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}}))),null==P){var S=c.findNearestElement(h[0],h[1],!0);null!=S&&(S.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),S.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),S.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}}))),null==S&&(g.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),g.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),g.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})))}c.touchData.last=S;for(var T=0;T<h.length;T++)h[T]&&c.touchData.startPosition[T]&&Math.abs(h[T]-c.touchData.startPosition[T])>4&&(c.touchData.singleTouchMoved=!0);if(f&&(null==P||P.isEdge())&&g.panningEnabled()&&g.userPanningEnabled()){P&&(P.unactivate(),c.data.bgActivePosistion||(c.data.bgActivePosistion={x:h[0],y:h[1]}),c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0),g.panBy({x:t[0]*g.zoom(),y:t[1]*g.zoom()}),c.swipePanning=!0;var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}}for(var v=0;v<h.length;v++)n[v]=h[v];c.redraw()},!1),c.registerBinding(window,"touchend",function(d){var e=c.touchData.capture;if(e){c.touchData.capture=!1,d.preventDefault();var g=c.data.select;c.swipePanning=!1;var h=c.data.cy,i=(c.getCachedNodes(),c.getCachedEdges(),c.touchData.now),j=c.touchData.earlier,k=c.touchData.start;if(d.touches[0]){var l=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);i[0]=l[0],i[1]=l[1]}if(d.touches[1]){var l=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);i[2]=l[0],i[3]=l[1]}if(d.touches[2]){var l=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);i[4]=l[0],i[5]=l[1]}if(c.touchData.cxt){if(ctxTapend=new a.Event(d,{type:"cxttapend",cyPosition:{x:i[0],y:i[1]}}),k?(k.unactivate(),k.trigger(ctxTapend)):h.trigger(ctxTapend),!c.touchData.cxtDragged){var m=new a.Event(d,{type:"cxttap",cyPosition:{x:i[0],y:i[1]}});k?k.trigger(m):h.trigger(m)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}{+new Date}if(!d.touches[2]&&h.boxSelectionEnabled()){clearTimeout(this.threeFingerSelectTimeout);var n=[],o=c.getAllInBox(g[0],g[1],g[2],g[3]);g[0]=void 0,g[1]=void 0,g[2]=void 0,g[3]=void 0,g[4]=0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;for(var p=(new a.Event("select"),0);p<o.length;p++)o[p]._private.selectable&&n.push(o[p]);var q=new a.Collection(h,n);"single"===h.selectionType()&&h.$(":selected").unselect(),q.select(),o.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}d.touches[1]||(c.pinching=!1);var r=!1;if(null!=k&&(k._private.active=!1,r=!0,k.trigger("unactivate")),d.touches[2])c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;else if(d.touches[1]);else if(d.touches[0]);else if(!d.touches[0]){if(c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,null!=k){1==k._private.grabbed&&(k._private.grabbed=!1,k.trigger("free"),k._private.rscratch.inDragLayer=!1);for(var s=k._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;if(f(k,!1),k.selected())for(var u=h.$("node:selected"),v=0;v<u.length;v++){var w=u[v];w._private.rscratch.inDragLayer=!1;for(var s=w._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(w,!1)}c.data.canvasNeedsRedraw[b.DRAG]=!0,c.data.canvasNeedsRedraw[b.NODE]=!0,k.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}})),c.touchData.start=null}else{var x=c.findNearestElement(i[0],i[1],!0);null!=x&&x.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}})),null==x&&h.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}}))}null!=k&&!c.dragData.didDrag&&k._private.selectable&&Math.sqrt(Math.pow(c.touchData.startPosition[0]-i[0],2)+Math.pow(c.touchData.startPosition[1]-i[1],2))<6&&("single"===h.selectionType()?(h.$(":selected").unselect(),k.select()):k.selected()?k.unselect():k.select(),r=!0,c.data.canvasNeedsRedraw[b.NODE]=!0),0==c.touchData.singleTouchMoved&&(k?k.trigger(new a.Event(d,{type:"tap",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:i[0],y:i[1]}})):h.trigger(new a.Event(d,{type:"tap",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:i[0],y:i[1]}}))),c.touchData.singleTouchMoved=!0}for(var t=0;t<i.length;t++)j[t]=i[t];c.dragData.didDrag=!1,r&&k&&k.updateStyle(!1),c.redraw()}},!1)}}(cytoscape),function(a){var b=a("renderer","canvas"),c=b.prototype,d=b.nodeShapes={};d.ellipse={draw:function(a,b,c,e,f){d.ellipse.drawPath(a,b,c,e,f),a.fill()},drawPath:function(a,b,c,d,e){a.beginPath(),a.translate(b,c),a.scale(d/2,e/2),a.arc(0,0,1,0,2*Math.PI*.999,!1),a.closePath(),a.scale(2/d,2/e),a.translate(-b,-c)},intersectLine:function(b,c,d,e,f,g,h){var i=a.math.intersectLineEllipse(f,g,b,c,d/2+h,e/2+h);return i},intersectBox:function(b,c,d,e,f,g,h,i,j){return a.math.boxIntersectEllipse(b,c,d,e,j,f,g,h,i)},checkPointRough:function(){return!0},checkPoint:function(a,b,c,d,e,f,g){return a-=f,b-=g,a/=d/2+c,b/=e/2+c,Math.pow(a,2)+Math.pow(b,2)<=1}},d.triangle={points:a.math.generateUnitNgonPointsFitToSquare(3,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.triangle.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.triangle.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.triangle.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.triangle.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.triangle.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.triangle.points,h,i,f,g,[0,-1],e)}},d.square={points:a.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.square.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.square.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.square.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.square.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.square.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.square.points,h,i,f,g,[0,-1],e)}},d.rectangle=d.square,d.octogon={},d.roundrectangle={points:a.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(a,b,d,e,f){c.drawRoundRectangle(a,b,d,e,f,10)},drawPath:function(a,b,d,e,f){c.drawRoundRectanglePath(a,b,d,e,f,10)},intersectLine:function(b,c,d,e,f,g,h){return a.math.roundRectangleIntersectLine(f,g,b,c,d,e,h)},intersectBox:function(b,c,d,e,f,g,h,i,j){return a.math.roundRectangleIntersectBox(b,c,d,e,f,g,h,i,j)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.roundrectangle.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){var j=a.math.getRoundRectangleRadius(f,g);if(a.math.pointInsidePolygon(b,c,d.roundrectangle.points,h,i,f,g-2*j,[0,-1],e))return!0;if(a.math.pointInsidePolygon(b,c,d.roundrectangle.points,h,i,f-2*j,g,[0,-1],e))return!0;var k=function(a,b,c,d,e,f,g){return a-=c,b-=d,a/=e/2+g,b/=f/2+g,Math.pow(a,2)+Math.pow(b,2)<=1};return k(b,c,h-f/2+j,i-g/2+j,2*j,2*j,e)?!0:k(b,c,h+f/2-j,i-g/2+j,2*j,2*j,e)?!0:k(b,c,h+f/2-j,i+g/2-j,2*j,2*j,e)?!0:k(b,c,h-f/2+j,i+g/2-j,2*j,2*j,e)?!0:!1}},d.roundrectangle2={roundness:4.99,draw:function(a,b,d){2*roundness>=b||c.drawPolygon(a._private.position.x,a._private.position.y,b,d,nodeSapes.roundrectangle2.points)},intersectLine:function(b,c,e,f,g){return a.math.findPolygonIntersection(b,c,e,f,g,d.square.points)},intersectBox:function(){d.square.points}},d.pentagon={points:a.math.generateUnitNgonPointsFitToSquare(5,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.pentagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.pentagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.pentagon.points,a,b,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.pentagon.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.pentagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.pentagon.points,h,i,f,g,[0,-1],e)}},d.hexagon={points:a.math.generateUnitNgonPointsFitToSquare(6,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.hexagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.hexagon.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.hexagon.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.hexagon.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.hexagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.hexagon.points,h,i,f,g,[0,-1],e)}},d.heptagon={points:a.math.generateUnitNgonPointsFitToSquare(7,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.heptagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.heptagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.heptagon.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.heptagon.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.heptagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.heptagon.points,h,i,f,g,[0,-1],e)}},d.octagon={points:a.math.generateUnitNgonPointsFitToSquare(8,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.octagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.octagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.octagon.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.octagon.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.octagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.octagon.points,h,i,f,g,[0,-1],e)}};var e=new Array(20),f=a.math.generateUnitNgonPoints(5,0),g=a.math.generateUnitNgonPoints(5,Math.PI/5),h=.5*(3-Math.sqrt(5));h*=1.57;for(var i=0;i<g.length/2;i++)g[2*i]*=h,g[2*i+1]*=h;for(var i=0;5>i;i++)e[4*i]=f[2*i],e[4*i+1]=f[2*i+1],e[4*i+2]=g[2*i],e[4*i+3]=g[2*i+1];e=a.math.fitPolygonToSquare(e),d.star5=d.star={points:e,draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.star5.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.star5.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.star5.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.star5.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.star5.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.star5.points,h,i,f,g,[0,-1],e)}}}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={ready:function(){},stop:function(){}};b.prototype.run=function(){var a=this.options,b=a.cy;b.nodes().positions(function(){return{x:0,y:0}}),b.one("layoutready",a.ready),b.trigger("layoutready"),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){var a=this.options;cy.one("layoutstop",a.stop),cy.trigger("layoutstop")},a("layout","null",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={ready:void 0,stop:void 0,fit:!0,padding:30};b.prototype.run=function(){var a=this.options,b=a.cy,c=b.nodes(),d=(b.edges(),b.container()),e=d.clientWidth,f=d.clientHeight;c.positions(function(a,b){return b.locked()?!1:{x:Math.round(Math.random()*e),y:Math.round(Math.random()*f)}}),b.one("layoutready",a.ready),b.trigger("layoutready"),a.fit&&b.fit(a.padding),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","random",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,padding:30,rows:void 0,columns:void 0,position:function(){},ready:void 0,stop:void 0};b.prototype.run=function(){var a=this.options,b=a,c=a.cy,d=c.nodes(),e=(c.edges(),c.container()),f=e.clientWidth,g=e.clientHeight;if(0==g||0==f)d.positions(function(){return{x:0,y:0}});else{var h=d.size(),i=Math.sqrt(h*g/f),j=Math.round(i),k=Math.round(f/g*i),l=function(a){if(void 0==a)return Math.min(j,k);var b=Math.min(j,k);b==j?j=a:k=a},m=function(a){if(void 0==a)return Math.max(j,k);var b=Math.max(j,k);b==j?j=a:k=a};if(null!=b.rows&&null!=b.columns)j=b.rows,k=b.columns;else if(null!=b.rows&&null==b.columns)j=b.rows,k=Math.ceil(h/j);else if(null==b.rows&&null!=b.columns)k=b.columns,j=Math.ceil(h/k);else if(k*j>h){var n=l(),o=m();(n-1)*o>=h?l(n-1):(o-1)*n>=h&&m(o-1)}else for(;h>k*j;){var n=l(),o=m();(o+1)*n>=h?m(o+1):l(n+1)}for(var p=f/k,q=g/j,r=0;r<d.length;r++){var s=d[r],t=s.outerWidth(),u=s.outerHeight();p=Math.max(p,t),q=Math.max(q,u)}for(var v={},w=function(a,b){return v["c-"+a+"-"+b]?!0:!1},x=function(a,b){v["c-"+a+"-"+b]=!0},y=0,z=0,A=function(){z++,z>=k&&(z=0,y++)},B={},r=0;r<d.length;r++){var s=d[r],C=b.position(s);if(C&&(void 0!==C.row||void 0!==C.col)){var D={row:C.row,col:C.col};if(void 0===D.col)for(D.col=0;w(D.row,D.col);)D.col++;else if(void 0===D.row)for(D.row=0;w(D.row,D.col);)D.row++;B[s.id()]=D,x(D.row,D.col)}}d.positions(function(a,b){var c,d;if(b.locked()||b.isFullAutoParent())return!1;var e=B[b.id()];if(e)c=e.col*p+p/2,d=e.row*q+q/2;else{for(;w(y,z);)A();c=z*p+p/2,d=y*q+q/2,x(y,z),A()}return{x:c,y:d}})}a.fit&&c.fit(b.padding),c.one("layoutready",a.ready),c.trigger("layoutready"),c.one("layoutstop",a.stop),c.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","grid",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={fit:!0,ready:void 0,stop:void 0,positions:void 0,zoom:void 0,pan:void 0,padding:30};b.prototype.run=function(){function a(a){return null==b.positions?null:null==b.positions[a._private.data.id]?null:b.positions[a._private.data.id]}{var b=this.options,c=b.cy,d=c.nodes();c.edges(),c.container()}d.positions(function(b,c){var d=a(c);return c.locked()||null==d?!1:d}),null!=b.pan&&c.pan(b.pan),null!=b.zoom&&c.zoom(b.zoom),c.one("layoutready",b.ready),c.trigger("layoutready"),b.fit&&c.fit(b.padding),c.one("layoutstop",b.stop),c.trigger("layoutstop")},a("layout","preset",b),a("core","presetLayout",function(){var a=this,b={},c={};return a.nodes().each(function(a,b){c[b.data("id")]=b.position()}),b.positions=c,b.name="preset",b.zoom=a.zoom(),b.pan=a.pan(),b})}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={liveUpdate:!0,ready:void 0,stop:void 0,maxSimulationTime:4e3,fit:!0,padding:[50,50,50,50],simulationBounds:void 0,ungrabifyWhileSimulating:!0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:1,stableEnergy:function(a){var b=a;return b.max<=.5||b.mean<=.3}};b.prototype.run=function(){function b(a,b){return null==b?void 0:"function"==typeof b?b.apply(a,[a._private.data,{nodes:g.length,edges:h.length,element:a}]):b}function c(a){var b=a.x,c=a.y,d=j,e=k,f=-2,g=2,h=4;return{x:b/d*h+f,y:c/e*h+g}}function d(a){e.fit&&f.fit(),a()}var e=this.options,f=e.cy,g=f.nodes(),h=f.edges(),i=f.container(),j=i.clientWidth,k=i.clientHeight,l=e.simulationBounds;e.simulationBounds?(j=l[2]-l[0],k=l[3]-l[1]):e.simulationBounds=[0,0,j,k];var m=e.simulationBounds;if(m.x1=m[0],m.y1=m[1],m.x2=m[2],m.y2=m[3],f.nodes().size()<=1)return e.fit&&f.reset(),f.nodes().position({x:Math.round((m.x1+m.x2)/2),y:Math.round((m.y1+m.y2)/2)}),f.one("layoutready",e.ready),f.trigger("layoutready"),f.one("layoutstop",e.stop),void f.trigger("layoutstop");var n=this.system=arbor.ParticleSystem(e.repulsion,e.stiffness,e.friction,e.gravity,e.fps,e.dt,e.precision);this.system=n,e.liveUpdate&&e.fit&&f.reset();var o,p=250,q=!1,r=+new Date,s={init:function(){},redraw:function(){var b=n.energy();if(null!=e.stableEnergy&&null!=b&&b.n>0&&e.stableEnergy(b))return void n.stop();clearTimeout(o),o=setTimeout(v,p);var c=[];n.eachNode(function(a,b){var d=(a.name,a.data),e=d.element;null!=e&&(e.locked()||e.grabbed()||(e.silentPosition({x:m.x1+b.x,y:m.y1+b.y}),c.push(e)))});var d=+new Date-r>=16;e.liveUpdate&&c.length>0&&d&&(new a.Collection(f,c).rtrigger("position"),r=+new Date),q||(q=!0,f.one("layoutready",e.ready),f.trigger("layoutready"))}};n.renderer=s,n.screenSize(j,k),n.screenPadding(e.padding[0],e.padding[1],e.padding[2],e.padding[3]),n.screenStep(e.stepSize);var t=function(a){grabbed=this;var b=n.fromScreen(this.position()),c=arbor.Point(b.x,b.y);switch(this.scratch().arbor.p=c,a.type){case"grab":this.scratch().arbor.fixed=!0;break;case"dragstop":this.scratch().arbor.fixed=!1,this.scratch().arbor.tempMass=1e3}};g.bind("grab drag dragstop",t),g.each(function(a,d){if(!this.isFullAutoParent()){var f=this._private.data.id,g=b(this,e.nodeMass),h=this._private.locked;if(!d.isFullAutoParent()){var i=c({x:d.position().x,y:d.position().y});d.locked()||(this.scratch().arbor=n.addNode(f,{element:this,mass:g,fixed:h,x:h?i.x:void 0,y:h?i.y:void 0}))}}}),h.each(function(){var a=(this.id(),this.source().id()),c=this.target().id(),d=b(this,e.edgeLength);this.scratch().arbor=n.addEdge(a,c,{length:d})});var u=g.filter(":grabbable");e.ungrabifyWhileSimulating&&u.ungrabify();var v=function(){function a(){e.liveUpdate||(e.fit&&f.reset(),f.nodes().rtrigger("position")),g.unbind("grab drag dragstop",t),e.ungrabifyWhileSimulating&&u.grabify(),f.one("layoutstop",e.stop),f.trigger("layoutstop")}window.isIE?d(function(){a()}):a()};n.start(),setTimeout(function(){n.stop()},e.maxSimulationTime)},b.prototype.stop=function(){null!=this.system&&system.stop()},a("layout","arbor",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,ready:void 0,stop:void 0,rStepSize:10,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1};b.prototype.run=function(){function a(){var a=0,b=k,c={x:i.x+o*Math.cos(a),y:i.y+o*Math.sin(a)},d={x:i.x+o*Math.cos(b),y:i.y+o*Math.sin(b)},e=Math.sqrt((d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y));return e}for(var b=this.options,c=b,d=b.cy,e=d.nodes().filter(function(){return!this.isFullAutoParent()}),f=(d.edges(),d.container()),g=f.clientWidth,h=f.clientHeight,i={x:g/2,y:h/2},j=c.startAngle,k=2*Math.PI/e.length,l=0,m=0;m<e.length;m++){var n=e[m];l=Math.max(n.outerWidth(),n.outerHeight())}for(var o=g/2-l;a()<l&&!(e.length<2);)o+=c.rStepSize;var m=0;e.positions(function(){var a=o*Math.cos(j),b=o*Math.sin(j),d={x:i.x+a,y:i.y+b};return m++,j=c.counterclockwise?j-k:j+k,d}),b.fit&&d.fit(c.padding),d.one("layoutready",b.ready),d.trigger("layoutready"),d.one("layoutstop",b.stop),d.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","circle",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,ready:void 0,stop:void 0,directed:!0,padding:30,circle:!1,roots:void 0,maximalAdjustments:0};b.prototype.run=function(){var b,c=this.options,d=c,e=c.cy,f=e.nodes(),g=(e.edges(),e.container()),h=g.clientWidth,i=g.clientHeight;if(a.is.elementOrCollection(d.roots))b=d.roots;else if(a.is.array(d.roots)){for(var j=[],k=0;k<d.roots.length;k++){var l=d.roots[k],m=e.getElementById(l);b.push(m)}b=new a.Collection(e,j)}else b=f.roots();var n=[],o={},p={};b.bfs(function(a,b){var c=this[0];n[b]||(n[b]=[]),n[b].push(c),o[c.id()]=!0,p[c.id()]=b},d.directed);for(var q=[],k=0;k<f.length;k++){var m=f[k];o[m.id()]||q.push(m)}for(var r=3*q.length,s=0;0!==q.length&&r>s;){for(var t=q.shift(),u=t.neighborhood().nodes(),v=!1,k=0;k<u.length;k++){var w=p[u[k].id()];if(void 0!==w){n[w].push(t),v=!0;break}}v||q.push(t),s++}for(;0!==q.length;){for(var t=q.shift(),x=t.bfs(),v=!1,k=0;k<x.length;k++){var w=p[x[k].id()];if(void 0!==w){n[w].push(t),v=!0;break}}v||(0===n.length&&n.push([]),n[0].push(t))}var y=function(){for(var a=0;a<n.length;a++)for(var b=n[a],c=0;c<b.length;c++){var d=b[c];d._private.scratch.BreadthFirstLayout={depth:a,index:c}}};y();for(var z=0;z<d.maximalAdjustments;z++){for(var A=function(a){for(var b,c=a.connectedEdges('[target = "'+a.id()+'"]'),d=a._private.scratch.BreadthFirstLayout,e=0,f=0;f<c.length;f++){var g=c[f],h=g.source()[0],i=h._private.scratch.BreadthFirstLayout;d.depth<i.depth&&e<i.depth&&(e=i.depth,b=h)}return b},B=n.length,C=[],k=0;B>k;k++)for(var w=n[k],D=w.length,E=0;D>E;E++){var m=w[E],F=m._private.scratch.BreadthFirstLayout,G=A(m);G&&(F.intEle=G,C.push(m))}for(var k=0;k<C.length;k++){var m=C[k],F=m._private.scratch.BreadthFirstLayout,G=F.intEle,H=G._private.scratch.BreadthFirstLayout;n[F.depth].splice(F.index,1);for(var I=H.depth+1;I>n.length-1;)n.push([]);n[I].push(m),F.depth=I,F.index=n[I].length-1}y()}for(var J=0,k=0;k<f.length;k++){var K=f[k].outerWidth(),L=f[k].outerHeight();J=Math.max(J,K,L)}J*=1.75;for(var M={},N=function(a){if(M[a.id()])return M[a.id()];for(var b=a._private.scratch.BreadthFirstLayout.depth,c=a.neighborhood().nodes(),d=0,e=0,f=0;f<c.length;f++){var g=c[f],h=(g.edgesWith(a),g._private.scratch.BreadthFirstLayout.index),i=g._private.scratch.BreadthFirstLayout.depth,j=n[i].length;(b>i||0===b)&&(d+=h/j,e++)}return e=Math.max(1,e),d/=e,0===e&&(d=void 0),M[a.id()]=d,d},O=0;3>O;O++){for(var k=0;k<n.length;k++){var w=k;n[k]=n[k].sort(function(a,b){var c=N(a),d=N(b);return c-d})}y()}var P={x:h/2,y:i/2};f.positions(function(){var a=this[0],b=a._private.scratch.BreadthFirstLayout,c=b.depth,e=b.index,f=Math.max(h/(n[c].length+1),J),g=Math.max(i/(n.length+1),J),j=Math.min(h/2/n.length,i/2/n.length);if(j=Math.max(j,J),d.circle){var k=j*c+j-(n.length>0&&n[0].length<=3?j/2:0),l=2*Math.PI/n[c].length*e;return 0===c&&1===n[0].length&&(k=1),{x:P.x+k*Math.cos(l),y:P.y+k*Math.sin(l)}}return{x:(e+1)*f,y:(c+1)*g}}),c.fit&&e.fit(d.padding),e.one("layoutready",c.ready),e.trigger("layoutready"),e.one("layoutstop",c.stop),e.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","breadthfirst",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},d,b)}var c,d={ready:function(){},stop:function(){},refresh:0,fit:!0,padding:30,randomize:!0,debug:!1,nodeRepulsion:1e4,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};b.prototype.run=function(){var a=this.options,b=a.cy;c=1==a.debug?!0:!1;var d=new Date,f=e(b,a);c&&h(f),1==a.randomize&&(i(f,b),0<a.refresh&&j(f,b,a)),s(f,b,a);for(var g=0;g<a.numIter;g++)if(k(f,b,a,g),0<a.refresh&&0==g%a.refresh&&j(f,b,a),f.temperature=f.temperature*a.coolingFactor,v("New temperature: "+f.temperature),f.temperature<a.minTemp){v("Temperature drop below minimum threshold. Stopping computation in step "+g);break}j(f,b,a),1==a.fit&&b.fit(a.padding);var l=new Date;console.info("Layout took "+(l-d)+" ms"),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){var a=this.options;cy.one("layoutstop",a.stop),cy.trigger("layoutstop")};var e=function(a,b){for(var c={layoutNodes:[],idToIndex:{},nodeSize:a.nodes().size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.edges().size(),temperature:b.initialTemp},d=a.nodes(),e=0;e<c.nodeSize;e++){var g={};g.id=d[e].data("id"),g.parentId=d[e].data("parent"),g.children=[],g.positionX=d[e].position("x"),g.positionY=d[e].position("y"),g.offsetX=0,g.offsetY=0,g.height=d[e].height(),g.width=d[e].width(),g.maxX=g.positionX+g.width/2,g.minX=g.positionX-g.width/2,g.maxY=g.positionY+g.height/2,g.minY=g.positionY-g.height/2,g.padLeft=d[e]._private.style["padding-left"].pxValue,g.padRight=d[e]._private.style["padding-right"].pxValue,g.padTop=d[e]._private.style["padding-top"].pxValue,g.padBottom=d[e]._private.style["padding-bottom"].pxValue,c.layoutNodes.push(g),c.idToIndex[g.id]=e}for(var h=[],i=0,j=-1,k=[],e=0;e<c.nodeSize;e++){var l=c.layoutNodes[e],m=l.parentId;void 0!=m?c.layoutNodes[c.idToIndex[m]].children.push(l.id):(h[++j]=l.id,k.push(l.id))}for(c.graphSet.push(k);j>=i;){var n=h[i++],o=c.idToIndex[n],p=c.layoutNodes[o],q=p.children;if(q.length>0){c.graphSet.push(q);for(var e=0;e<q.length;e++)h[++j]=q[e]}}for(var e=0;e<c.graphSet.length;e++)for(var r=c.graphSet[e],s=0;s<r.length;s++){var t=c.idToIndex[r[s]];c.indexToGraph[t]=e}for(var u=a.edges(),e=0;e<c.edgeSize;e++){var w=u[e],x={};x.id=w.data("id"),x.sourceId=w.data("source"),x.targetId=w.data("target");var y=b.idealEdgeLength,z=c.idToIndex[x.sourceId],A=c.idToIndex[x.targetId],B=c.indexToGraph[z],C=c.indexToGraph[A];if(B!=C){for(var D=f(x.sourceId,x.targetId,c),E=c.graphSet[D],F=0,g=c.layoutNodes[z];-1==$.inArray(g.id,E);)g=c.layoutNodes[c.idToIndex[g.parentId]],F++;for(g=c.layoutNodes[A];-1==$.inArray(g.id,E);)g=c.layoutNodes[c.idToIndex[g.parentId]],F++;v("LCA of nodes "+x.sourceId+" and "+x.targetId+". Index: "+D+" Contents: "+E.toString()+". Depth: "+F),y*=F*b.nestingFactor}x.idealLength=y,c.layoutEdges.push(x)}return c},f=function(a,b,c){var d=g(a,b,0,c);return 2>d.count?0:d.graph},g=function(a,b,c,d){var e=d.graphSet[c];if(-1<$.inArray(a,e)&&-1<$.inArray(b,e))return{count:2,graph:c};for(var f=0,h=0;h<e.length;h++){var i=e[h],j=d.idToIndex[i],k=d.layoutNodes[j].children;if(0!=k.length){var l=d.indexToGraph[d.idToIndex[k[0]]],m=g(a,b,l,d);if(0!=m.count){if(1!=m.count)return m;if(f++,2==f)break}}}return{count:f,graph:c}},h=function(a){if(c){console.debug("layoutNodes:");for(var b=0;b<a.nodeSize;b++){var d=a.layoutNodes[b],e="\nindex: "+b+"\nId: "+d.id+"\nChildren: "+d.children.toString()+"\nparentId: "+d.parentId+"\npositionX: "+d.positionX+"\npositionY: "+d.positionY+"\nOffsetX: "+d.offsetX+"\nOffsetY: "+d.offsetY+"\npadLeft: "+d.padLeft+"\npadRight: "+d.padRight+"\npadTop: "+d.padTop+"\npadBottom: "+d.padBottom;console.debug(e)}console.debug("idToIndex");for(var b in a.idToIndex)console.debug("Id: "+b+"\nIndex: "+a.idToIndex[b]);console.debug("Graph Set");for(var f=a.graphSet,b=0;b<f.length;b++)console.debug("Set : "+b+": "+f[b].toString());for(var e="IndexToGraph",b=0;b<a.indexToGraph.length;b++)e+="\nIndex : "+b+" Graph: "+a.indexToGraph[b];console.debug(e),e="Layout Edges";for(var b=0;b<a.layoutEdges.length;b++){var g=a.layoutEdges[b];e+="\nEdge Index: "+b+" ID: "+g.id+" SouceID: "+g.sourceId+" TargetId: "+g.targetId+" Ideal Length: "+g.idealLength
}console.debug(e),e="nodeSize: "+a.nodeSize,e+="\nedgeSize: "+a.edgeSize,e+="\ntemperature: "+a.temperature,console.debug(e)}},i=function(a,b){for(var c=b.container(),d=c.clientWidth,e=c.clientHeight,f=0;f<a.nodeSize;f++){var g=a.layoutNodes[f];g.positionX=Math.random()*d,g.positionY=Math.random()*e}},j=function(a,b,c){var d=b.container(),e=(d.clientWidth,d.clientHeight,"Refreshing positions");v(e),b.nodes().positions(function(b,c){var d=a.layoutNodes[a.idToIndex[c.data("id")]];return e="Node: "+d.id+". Refreshed position: ("+d.positionX+", "+d.positionY+").",v(e),{x:d.positionX,y:d.positionY}}),1!=a.ready&&(e="Triggering layoutready",v(e),a.ready=!0,b.one("layoutready",c.ready),b.trigger("layoutready"))},k=function(a,b,c,d){var e="\n\n###############################";e+="\nSTEP: "+d,e+="\n###############################\n",v(e),l(a,b,c),p(a,b,c),q(a,b,c),r(a,b,c),s(a,b,c)},l=function(a,b,c){var d="calculateNodeForces";v(d);for(var e=0;e<a.graphSet.length;e++){var f=a.graphSet[e],g=f.length;d="Set: "+f.toString(),v(d);for(var h=0;g>h;h++)for(var i=a.layoutNodes[a.idToIndex[f[h]]],j=h+1;g>j;j++){var k=a.layoutNodes[a.idToIndex[f[j]]];m(i,k,a,b,c)}}},m=function(a,b,c,d,e){var f="Node repulsion. Node1: "+a.id+" Node2: "+b.id,g=b.positionX-a.positionX,h=b.positionY-a.positionY;if(f+="\ndirectionX: "+g+", directionY: "+h,0==g&&0==h)return void(f+="\nNodes have the same position.");var i=o(a,b,g,h);if(i>0){f+="\nNodes DO overlap.",f+="\nOverlap: "+i;var j=e.nodeOverlap*i,k=Math.sqrt(g*g+h*h);f+="\nDistance: "+k;var l=j*g/k,m=j*h/k}else{f+="\nNodes do NOT overlap.";var p=n(a,g,h),q=n(b,-1*g,-1*h),r=q.x-p.x,s=q.y-p.y,t=r*r+s*s,k=Math.sqrt(t);f+="\nDistance: "+k;var j=e.nodeRepulsion/t,l=j*r/k,m=j*s/k}a.offsetX-=l,a.offsetY-=m,b.offsetX+=l,b.offsetY+=m,f+="\nForceX: "+l+" ForceY: "+m,v(f)},n=function(a,b,c){var d=a.positionX,e=a.positionY,f=a.height,g=a.width,h=c/b,i=f/g,j="Computing clipping point of node "+a.id+" . Height:  "+f+", Width: "+g+"\nDirection "+b+", "+c,k={};do{if(0==b&&c>0){k.x=d,j+="\nUp direction",k.y=e+f/2;break}if(0==b&&0>c){k.x=d,k.y=e+f/2,j+="\nDown direction";break}if(b>0&&h>=-1*i&&i>=h){k.x=d+g/2,k.y=e+g*c/2/b,j+="\nRightborder";break}if(0>b&&h>=-1*i&&i>=h){k.x=d-g/2,k.y=e-g*c/2/b,j+="\nLeftborder";break}if(c>0&&(-1*i>=h||h>=i)){k.x=d+f*b/2/c,k.y=e+f/2,j+="\nTop border";break}if(0>c&&(-1*i>=h||h>=i)){k.x=d-f*b/2/c,k.y=e-f/2,j+="\nBottom border";break}}while(!1);return j+="\nClipping point found at "+k.x+", "+k.y,v(j),k},o=function(a,b,c,d){if(c>0)var e=a.maxX-b.minX;else var e=b.maxX-a.minX;if(d>0)var f=a.maxY-b.minY;else var f=b.maxY-a.minY;return e>=0&&f>=0?Math.sqrt(e*e+f*f):0},p=function(a,b,c){for(var d=0;d<a.edgeSize;d++){var e=a.layoutEdges[d],f=a.idToIndex[e.sourceId],g=a.layoutNodes[f],h=a.idToIndex[e.targetId],i=a.layoutNodes[h],j=i.positionX-g.positionX,k=i.positionY-g.positionY;if(0==j&&0==k)return;var l=n(g,j,k),m=n(i,-1*j,-1*k),o=m.x-l.x,p=m.y-l.y,q=Math.sqrt(o*o+p*p),r=Math.pow(e.idealLength-q,2)/c.edgeElasticity;if(0!=q)var s=r*o/q,t=r*p/q;else var s=0,t=0;g.offsetX+=s,g.offsetY+=t,i.offsetX-=s,i.offsetY-=t;var u="Edge force between nodes "+g.id+" and "+i.id;u+="\nDistance: "+q+" Force: ("+s+", "+t+")",v(u)}},q=function(a,b,c){var d="calculateGravityForces";v(d);for(var e=0;e<a.graphSet.length;e++){var f=a.graphSet[e],g=f.length;if(d="Set: "+f.toString(),v(d),0==e)var h=b.container(),i=h.clientHeight/2,j=h.clientWidth/2;else var k=a.layoutNodes[a.idToIndex[f[0]]],l=a.layoutNodes[a.idToIndex[k.parentId]],i=l.positionX,j=l.positionY;d="Center found at: "+i+", "+j,v(d);for(var m=0;g>m;m++){var n=a.layoutNodes[a.idToIndex[f[m]]];d="Node: "+n.id;var o=i-n.positionX,p=j-n.positionY,q=Math.sqrt(o*o+p*p);if(q>1){var r=c.gravity*o/q,s=c.gravity*p/q;n.offsetX+=r,n.offsetY+=s,d+=": Applied force: "+r+", "+s}else d+=": skypped since it's too close to center";v(d)}}},r=function(a){var b=[],c=0,d=-1;for(v("propagateForces"),b.push.apply(b,a.graphSet[0]),d+=a.graphSet[0].length;d>=c;){var e=b[c++],f=a.idToIndex[e],g=a.layoutNodes[f],h=g.children;if(0<h.length){var i=g.offsetX,j=g.offsetY,k="Propagating offset from parent node : "+g.id+". OffsetX: "+i+". OffsetY: "+j;k+="\n Children: "+h.toString(),v(k);for(var l=0;l<h.length;l++){var m=a.layoutNodes[a.idToIndex[h[l]]];m.offsetX+=i,m.offsetY+=j,b[++d]=h[l]}g.offsetX=0,g.offsetY=0}}},s=function(a){var b="Updating positions";v(b);for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(v("Resetting boundaries of compound node: "+d.id),d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0)}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];if(0<d.children.length)v("Skipping position update of node: "+d.id);else{b="Node: "+d.id+" Previous position: ("+d.positionX+", "+d.positionY+").";var e=t(d.offsetX,d.offsetY,a.temperature);d.positionX+=e.x,d.positionY+=e.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,b+=" New Position: ("+d.positionX+", "+d.positionY+").",v(b),u(d,a)}}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,b="Updating position, size of compound node "+d.id,b+="\nPositionX: "+d.positionX+", PositionY: "+d.positionY,b+="\nWidth: "+d.width+", Height: "+d.height,v(b))}},t=function(a,b,c){var d="Limiting force: ("+a+", "+b+"). Max: "+c,e=Math.sqrt(a*a+b*b);if(e>c)var f={x:c*a/e,y:c*b/e};else var f={x:a,y:b};return d+=".\nResult: ("+f.x+", "+f.y+")",v(d),f},u=function(a,b){var c="Propagating new position/size of node "+a.id,d=a.parentId;if(void 0==d)return c+=". No parent node.",void v(c);var e=b.layoutNodes[b.idToIndex[d]],f=!1;return(void 0==e.maxX||a.maxX+e.padRight>e.maxX)&&(e.maxX=a.maxX+e.padRight,f=!0,c+="\nNew maxX for parent node "+e.id+": "+e.maxX),(void 0==e.minX||a.minX-e.padLeft<e.minX)&&(e.minX=a.minX-e.padLeft,f=!0,c+="\nNew minX for parent node "+e.id+": "+e.minX),(void 0==e.maxY||a.maxY+e.padBottom>e.maxY)&&(e.maxY=a.maxY+e.padBottom,f=!0,c+="\nNew maxY for parent node "+e.id+": "+e.maxY),(void 0==e.minY||a.minY-e.padTop<e.minY)&&(e.minY=a.minY-e.padTop,f=!0,c+="\nNew minY for parent node "+e.id+": "+e.minY),f?(v(c),u(e,b)):(c+=". No changes in boundaries/position of parent node "+e.id,void v(c))},v=function(a){c&&console.debug(a)};a("layout","cose",b)}(cytoscape);var cytoscape;!function(a){var b=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};b.init=function(a){return void 0===a&&(a={}),b.is.plainObject(a)?new b.Core(a):b.is.string(a)?b.extension.apply(b.extension,arguments):void 0},b.fn={},"undefined"!=typeof exports&&(exports=module.exports=cytoscape),a&&(a.cytoscape=cytoscape)}("undefined"==typeof window?null:window),function(a,b){a.is={string:function(a){return null!=a&&"string"==typeof a},fn:function(a){return null!=a&&"function"==typeof a},array:function(a){return null!=a&&a instanceof Array},plainObject:function(b){return null!=b&&typeof b==typeof{}&&!a.is.array(b)&&b.constructor===Object},number:function(a){return null!=a&&"number"==typeof a&&!isNaN(a)},integer:function(b){return a.is.number(b)&&Math.floor(b)===b},color:function(a){return null!=a&&"string"==typeof a&&""!==$.Color(a).toString()},bool:function(a){return null!=a&&typeof a==typeof!0},elementOrCollection:function(b){return a.is.element(b)||a.is.collection(b)},element:function(b){return b instanceof a.Element&&b._private.single},collection:function(b){return b instanceof a.Collection&&!b._private.single},core:function(b){return b instanceof a.Core},style:function(b){return b instanceof a.Style},stylesheet:function(b){return b instanceof a.Stylesheet},event:function(b){return b instanceof a.Event},emptyString:function(b){return b?a.is.string(b)&&(""===b||b.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(b){return b&&a.is.string(b)&&""!==b&&!b.match(/^\s+$/)?!0:!1},domElement:function(a){return"undefined"==typeof HTMLElement?!1:a instanceof HTMLElement},touch:function(){return b&&("ontouchstart"in b||b.DocumentTouch&&document instanceof DocumentTouch)}}}(cytoscape,"undefined"==typeof window?null:window),function(a){a.util={extend:function(){var b,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||a.is.fn(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(b=arguments[i]))for(c in b)d=h[c],e=b[c],h!==e&&(k&&e&&(a.is.plainObject(e)||(f=a.is.array(e)))?(f?(f=!1,g=d&&a.is.array(d)?d:[]):g=d&&a.is.plainObject(d)?d:{},h[c]=a.util.extend(k,g,e)):void 0!==e&&(h[c]=e));return h},error:function(a){if(!console)throw a;if(console.error)console.error(a);else{if(!console.log)throw a;console.log(a)}},clone:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},copy:function(b){return null==b?b:a.is.array(b)?b.slice():a.is.plainObject(b)?a.util.clone(b):b},mapEmpty:function(a){var b=!0;if(null!=a)for(var c in a){b=!1;break}return b},pushMap:function(b){var c=a.util.getMap(b);null==c?a.util.setMap($.extend({},b,{value:[b.value]})):c.push(b.value)},setMap:function(b){for(var c,d=b.map,e=b.keys,f=e.length,g=0;f>g;g++){var c=e[g];a.is.plainObject(c)&&a.util.error("Tried to set map with object key"),g<e.length-1?(null==d[c]&&(d[c]={}),d=d[c]):d[c]=b.value}},getMap:function(b){for(var c=b.map,d=b.keys,e=d.length,f=0;e>f;f++){var g=d[f];if(a.is.plainObject(g)&&a.util.error("Tried to get map with object key"),c=c[g],null==c)return c}return c},deleteMap:function(b){for(var c=b.map,d=b.keys,e=d.length,f=b.keepChildren,g=0;e>g;g++){var h=d[g];a.is.plainObject(h)&&a.util.error("Tried to delete map with object key");var i=g===b.keys.length-1;if(i)if(f)for(var j in c)f[j]||delete c[j];else delete c[h];else c=c[h]}},capitalize:function(b){return a.is.emptyString(b)?b:b.charAt(0).toUpperCase()+b.substring(1)},camel2dash:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.toLowerCase(),f=d!==e;f?(b.push("-"),b.push(e)):b.push(d)}var g=b.length===a.length;return g?a:b.join("")},dash2camel:function(a){for(var b=[],c=!1,d=0;d<a.length;d++){var e=a[d],f="-"===e;f?c=!0:(b.push(c?e.toUpperCase():e),c=!1)}return b.join("")},trim:function(a){var b,c;for(b=0;b<a.length&&" "===a[b];b++);for(c=a.length-1;c>b&&" "===a[c];c--);return a.substring(b,c+1)},hex2tuple:function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var b,c,d,e=4===a.length,f=16;return e?(b=parseInt(a[1]+a[1],f),c=parseInt(a[2]+a[2],f),d=parseInt(a[3]+a[3],f)):(b=parseInt(a[1]+a[2],f),c=parseInt(a[3]+a[4],f),d=parseInt(a[5]+a[6],f)),[b,c,d]}},hsl2tuple:function(b){function c(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var d,e,f,g,h,i,j,k,l=(a.util.regex.number,new RegExp("^"+a.util.regex.hsla+"$").exec(b));if(l){if(e=parseInt(l[1]),0>e?e=(360- -1*e%360)%360:e>360&&(e%=360),e/=360,f=parseFloat(l[2]),0>f||f>100)return;if(f/=100,g=parseFloat(l[3]),0>g||g>100)return;if(g/=100,h=l[4],void 0!==h&&(h=parseFloat(h),0>h||h>1))return;if(0===f)i=j=k=Math.round(255*g);else{var m=.5>g?g*(1+f):g+f-g*f,n=2*g-m;i=Math.round(255*c(n,m,e+1/3)),j=Math.round(255*c(n,m,e)),k=Math.round(255*c(n,m,e-1/3))}d=[i,j,k,h]}return d},rgb2tuple:function(b){var c,d=(a.util.regex.number,new RegExp("^"+a.util.regex.rgba+"$").exec(b));if(d){c=[];for(var e=[],f=1;3>=f;f++){var g=d[f];if("%"===g[g.length-1]&&(e[f]=!0),g=parseFloat(g),e[f]&&(g=g/100*255),0>g||g>255)return;c.push(Math.floor(g))}var h=e[1]||e[2]||e[3],i=e[1]&&e[2]&&e[3];if(h&&!i)return;var j=d[4];if(void 0!==j){if(j=parseFloat(j),0>j||j>1)return;c.push(j)}}return c},colorname2tuple:function(b){return a.util.colors[b.toLowerCase()]},color2tuple:function(b){return a.util.colorname2tuple(b)||a.util.hex2tuple(b)||a.util.rgb2tuple(b)||a.util.hsl2tuple(b)},tuple2hex:function(a){function b(a){var b=a.toString(16);return 1===b.length&&(b="0"+b),b}var c=a[0],d=a[1],e=a[2];return"#"+b(c)+b(d)+b(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},a.util.regex={},a.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",a.util.regex.rgba="rgb[a]?\\(("+a.util.regex.number+"[%]?)\\s*,\\s*("+a.util.regex.number+"[%]?)\\s*,\\s*("+a.util.regex.number+"[%]?)(?:\\s*,\\s*("+a.util.regex.number+"))?\\)",a.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+a.util.regex.number+"[%]?)\\s*,\\s*(?:"+a.util.regex.number+"[%]?)\\s*,\\s*(?:"+a.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+a.util.regex.number+"))?\\)",a.util.regex.hsla="hsl[a]?\\(("+a.util.regex.number+")\\s*,\\s*("+a.util.regex.number+"[%])\\s*,\\s*("+a.util.regex.number+"[%])(?:\\s*,\\s*("+a.util.regex.number+"))?\\)",a.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+a.util.regex.number+")\\s*,\\s*(?:"+a.util.regex.number+"[%])\\s*,\\s*(?:"+a.util.regex.number+"[%])(?:\\s*,\\s*(?:"+a.util.regex.number+"))?\\)",a.util.regex.hex3="\\#[0-9a-fA-F]{3}",a.util.regex.hex6="\\#[0-9a-fA-F]{6}"}(cytoscape),function(a){a.math={},a.math.signum=function(a){return a>0?1:0>a?-1:0},a.math.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},a.math.qbezierAt=function(a,b,c,d){return(1-d)*(1-d)*a+2*(1-d)*d*b+d*d*c},a.math.qbezierPtAt=function(b,c,d,e){return{x:a.math.qbezierAt(b.x,c.x,d.x,e),y:a.math.qbezierAt(b.y,c.y,d.y,e)}},a.math.roundRectangleIntersectLine=function(a,b,c,d,e,f,g){var h,i=this.getRoundRectangleRadius(e,f),j=e/2,k=f/2,l=c-j+i-g,m=d-k-g,n=c+j-i+g,o=m;if(h=this.finiteLinesIntersect(a,b,c,d,l,m,n,o,!1),h.length>0)return h;var p=c+j+g,q=d-k+i-g,r=p,s=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,p,q,r,s,!1),h.length>0)return h;var t=c-j+i-g,u=d+k+g,v=c+j-i+g,w=u;if(h=this.finiteLinesIntersect(a,b,c,d,t,u,v,w,!1),h.length>0)return h;var x=c-j-g,y=d-k+i-g,z=x,A=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,x,y,z,A,!1),h.length>0)return h;var B,C=c-j+i,D=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,C,D,i+g),B.length>0&&B[0]<=C&&B[1]<=D)return[B[0],B[1]];var E=c+j-i,F=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,E,F,i+g),B.length>0&&B[0]>=E&&B[1]<=F)return[B[0],B[1]];var G=c+j-i,H=d+k-i;if(B=this.intersectLineCircle(a,b,c,d,G,H,i+g),B.length>0&&B[0]>=G&&B[1]>=H)return[B[0],B[1]];var I=c-j+i,J=d+k-i;return B=this.intersectLineCircle(a,b,c,d,I,J,i+g),B.length>0&&B[0]<=I&&B[1]>=J?[B[0],B[1]]:[]},a.math.roundRectangleIntersectBox=function(a,b,c,d,e,f,g,h,i){var j=this.getRoundRectangleRadius(e,f),k=g-e/2-i,l=h-f/2+j-i,m=g+e/2+i,n=h+f/2-j+i,o=g-e/2+j-i,p=h-f/2-i,q=g+e/2-j+i,r=h+f/2+i,s=Math.min(a,c),t=Math.max(a,c),u=Math.min(b,d),v=Math.max(b,d);return k>t?!1:s>m?!1:p>v?!1:u>r?!1:k>=s&&t>=k&&l>=u&&v>=l?!0:m>=s&&t>=m&&l>=u&&v>=l?!0:m>=s&&t>=m&&n>=u&&v>=n?!0:k>=s&&t>=k&&n>=u&&v>=n?!0:s>=k&&m>=s&&u>=l&&n>=u?!0:t>=k&&m>=t&&u>=l&&n>=u?!0:t>=k&&m>=t&&v>=l&&n>=v?!0:s>=k&&m>=s&&v>=l&&n>=v?!0:o>=s&&t>=o&&p>=u&&v>=p?!0:q>=s&&t>=q&&p>=u&&v>=p?!0:q>=s&&t>=q&&r>=u&&v>=r?!0:o>=s&&t>=o&&r>=u&&v>=r?!0:s>=o&&q>=s&&u>=p&&r>=u?!0:t>=o&&q>=t&&u>=p&&r>=u?!0:t>=o&&q>=t&&v>=p&&r>=v?!0:s>=o&&q>=s&&v>=p&&r>=v?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,o+i,l+i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,q-i,l+i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,q-i,n-i)?!0:this.boxIntersectEllipse(s,u,t,v,i,2*j,2*j,o+i,n-i)?!0:!1},a.math.checkInBoundingCircle=function(a,b,c,d,e,f,g,h){return a=(a-g)/(e+d),b=(b-h)/(f+d),c>=a*a+b*b},a.math.checkInBoundingBox=function(a,b,c,d,e,f,g,h){for(var i=c[0],j=c[1],k=c[0],l=c[1],m=1;m<c.length/2;m++)c[2*m]<i?i=c[2*m]:c[2*m]>k&&(k=c[2*m]),c[2*m+1]<j?j=c[2*m+1]:c[2*m+1]>l&&(l=c[2*m+1]);return a-=g,b-=h,a/=e,b/=f,i>a?!1:a>k?!1:j>b?!1:b>l?!1:!0},a.math.boxInBezierVicinity=function(a,b,c,d,e,f,g,h,i,j,k){var l=.25*e+.5*g+.25*i,m=.25*f+.5*h+.25*j,n=Math.min(a,c)-k,o=Math.min(b,d)-k,p=Math.max(a,c)+k,q=Math.max(b,d)+k;if(e>=n&&p>=e&&f>=o&&q>=f)return 1;if(i>=n&&p>=i&&j>=o&&q>=j)return 1;if(l>=n&&p>=l&&m>=o&&q>=m)return 1;if(g>=n&&p>=g&&h>=o&&q>=h)return 1;var r=Math.min(e,l,i),s=Math.min(f,m,j),t=Math.max(e,l,i),u=Math.max(f,m,j);return r>p||n>t||s>q||o>u?0:1},a.math.checkBezierInBox=function(b,c,d,e,f,g,h,i,j,k){function l(l){var m=a.math.qbezierAt(f,h,j,l),n=a.math.qbezierAt(g,i,k,l);return m>=b&&d>=m&&n>=c&&e>=n}for(var m=0;1>=m;m+=.25)if(!l(m))return!1;return!0},a.math.checkStraightEdgeInBox=function(a,b,c,d,e,f,g,h){return e>=a&&c>=e&&g>=a&&c>=g&&f>=b&&d>=f&&h>=b&&d>=h},a.math.checkStraightEdgeCrossesBox=function(a,b,c,d,e,f,g,h,i){var j,k,l=Math.min(a,c)-i,m=Math.min(b,d)-i,n=Math.max(a,c)+i,o=Math.max(b,d)+i,p=g-e,q=e,r=h-f,s=f;if(Math.abs(p)<1e-4)return e>=l&&n>=e&&Math.min(f,h)<=m&&Math.max(f,h)>=o;var t=(l-q)/p;if(t>0&&1>=t&&(j=r*t+s,j>=m&&o>=j))return!0;var u=(n-q)/p;if(u>0&&1>=u&&(j=r*u+s,j>=m&&o>=j))return!0;var v=(m-s)/r;if(v>0&&1>=v&&(k=p*v+q,k>=l&&n>=k))return!0;var w=(o-s)/r;return w>0&&1>=w&&(k=p*w+q,k>=l&&n>=k)?!0:!1},a.math.checkBezierCrossesBox=function(a,b,c,d,e,f,g,h,i,j,k){var l=Math.min(a,c)-k,m=Math.min(b,d)-k,n=Math.max(a,c)+k,o=Math.max(b,d)+k;if(e>=l&&n>=e&&f>=m&&o>=f)return!0;if(i>=l&&n>=i&&j>=m&&o>=j)return!0;var p=e-2*g+i,q=-2*e+2*g,r=e,s=[];if(Math.abs(p)<1e-4){var t=(l-e)/q,u=(n-e)/q;s.push(t,u)}else{var v,w,x=q*q-4*p*(r-l);if(x>0){var y=Math.sqrt(x);v=(-q+y)/(2*p),w=(-q-y)/(2*p),s.push(v,w)}var z,A,B=q*q-4*p*(r-n);if(B>0){var y=Math.sqrt(B);z=(-q+y)/(2*p),A=(-q-y)/(2*p),s.push(z,A)}}s.sort(function(a,b){return a-b});var C=f-2*h+j,D=-2*f+2*h,E=f,F=[];if(Math.abs(C)<1e-4){var G=(m-f)/D,H=(o-f)/D;F.push(G,H)}else{var I,J,K=D*D-4*C*(E-m);if(K>0){var y=Math.sqrt(K);I=(-D+y)/(2*C),J=(-D-y)/(2*C),F.push(I,J)}var L,M,N=D*D-4*C*(E-o);if(N>0){var y=Math.sqrt(N);L=(-D+y)/(2*C),M=(-D-y)/(2*C),F.push(L,M)}}F.sort(function(a,b){return a-b});for(var O=0;O<s.length;O+=2)for(var P=1;P<F.length;P+=2)if(s[O]<F[P]&&F[P]>=0&&s[O]<=1&&s[O+1]>F[P-1]&&F[P-1]<=1&&s[O+1]>=0)return!0;return!1},a.math.inLineVicinity=function(a,b,c,d,e,f,g){var h=g,i=Math.min(c,e),j=Math.max(c,e),k=Math.min(d,f),l=Math.max(d,f);return a>=i-h&&j+h>=a&&b>=k-h&&l+h>=b},a.math.inBezierVicinity=function(a,b,c,d,e,f,g,h){var i={x1:Math.min(c,g,e),x2:Math.max(c,g,e),y1:Math.min(d,h,f),y2:Math.max(d,h,f)};return a<i.x1||a>i.x2||b<i.y1||b>i.y2?!1:!0;var i},a.math.solveCubic=function(a,b,c,d,e){b/=a,c/=a,d/=a;var f,g,h,i,j,k,l,m;return g=(3*c-b*b)/9,h=-(27*d)+b*(9*c-2*b*b),h/=54,f=g*g*g+h*h,e[1]=0,l=b/3,f>0?(j=h+Math.sqrt(f),j=0>j?-Math.pow(-j,1/3):Math.pow(j,1/3),k=h-Math.sqrt(f),k=0>k?-Math.pow(-k,1/3):Math.pow(k,1/3),e[0]=-l+j+k,l+=(j+k)/2,e[4]=e[2]=-l,l=Math.sqrt(3)*(-k+j)/2,e[3]=l,void(e[5]=-l)):(e[5]=e[3]=0,0==f?(m=0>h?-Math.pow(-h,1/3):Math.pow(h,1/3),e[0]=-l+2*m,void(e[4]=e[2]=-(m+l))):(g=-g,i=g*g*g,i=Math.acos(h/Math.sqrt(i)),m=2*Math.sqrt(g),e[0]=-l+m*Math.cos(i/3),e[2]=-l+m*Math.cos((i+2*Math.PI)/3),void(e[4]=-l+m*Math.cos((i+4*Math.PI)/3))))},a.math.sqDistanceToQuadraticBezier=function(a,b,c,d,e,f,g,h){var i=1*c*c-4*c*e+2*c*g+4*e*e-4*e*g+g*g+d*d-4*d*f+2*d*h+4*f*f-4*f*h+h*h,j=9*c*e-3*c*c-3*c*g-6*e*e+3*e*g+9*d*f-3*d*d-3*d*h-6*f*f+3*f*h,k=3*c*c-6*c*e+c*g-c*a+2*e*e+2*e*a-g*a+3*d*d-6*d*f+d*h-d*b+2*f*f+2*f*b-h*b,l=1*c*e-c*c+c*a-e*a+d*f-d*d+d*b-f*b,m=[];this.solveCubic(i,j,k,l,m);for(var n=1e-7,o=[],p=0;6>p;p+=2)Math.abs(m[p+1])<n&&m[p]>=0&&m[p]<=1&&o.push(m[p]);o.push(1),o.push(0);for(var q,r,s,t,u=-1,v=0;v<o.length;v++)r=Math.pow(1-o[v],2)*c+2*(1-o[v])*o[v]*e+o[v]*o[v]*g,s=Math.pow(1-o[v],2)*d+2*(1-o[v])*o[v]*f+o[v]*o[v]*h,t=Math.pow(r-a,2)+Math.pow(s-b,2),u>=0?u>t&&(u=t,q=o[v]):(u=t,q=o[v]);return u},a.math.sqDistanceToFiniteLine=function(a,b,c,d,e,f){var g=[a-c,b-d],h=[e-c,f-d],i=h[0]*h[0]+h[1]*h[1],j=g[0]*g[0]+g[1]*g[1],k=g[0]*h[0]+g[1]*h[1],l=k*k/i;return 0>k?j:l>i?(a-e)*(a-e)+(b-f)*(b-f):j-l},a.math.pointInsidePolygon=function(a,b,c,d,e,f,g,h,i){var j=new Array(c.length),k=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1]));h[0]<0?k+=Math.PI/2:k=-k-Math.PI/2;for(var l=Math.cos(-k),m=Math.sin(-k),n=0;n<j.length/2;n++)j[2*n]=f/2*(c[2*n]*l-c[2*n+1]*m),j[2*n+1]=g/2*(c[2*n+1]*l+c[2*n]*m),j[2*n]+=d,j[2*n+1]+=e;var o;if(i>0){var p=this.expandPolygon(j,-i);o=this.joinLines(p)}else o=j;for(var q,r,s,t,u,v=0,w=0,n=0;n<o.length/2;n++)if(q=o[2*n],r=o[2*n+1],n+1<o.length/2?(s=o[2*(n+1)],t=o[2*(n+1)+1]):(s=o[2*(n+1-o.length/2)],t=o[2*(n+1-o.length/2)+1]),q==a&&s==a);else{if(!(q>=a&&a>=s||a>=q&&s>=a))continue;u=(a-q)/(s-q)*(t-r)+r,u>b&&v++,b>u&&w++}return v%2==0?!1:!0},a.math.joinLines=function(a){for(var b,c,d,e,f,g,h,i,j=new Array(a.length/2),k=0;k<a.length/4;k++){b=a[4*k],c=a[4*k+1],d=a[4*k+2],e=a[4*k+3],k<a.length/4-1?(f=a[4*(k+1)],g=a[4*(k+1)+1],h=a[4*(k+1)+2],i=a[4*(k+1)+3]):(f=a[0],g=a[1],h=a[2],i=a[3]);var l=this.finiteLinesIntersect(b,c,d,e,f,g,h,i,!0);j[2*k]=l[0],j[2*k+1]=l[1]}return j},a.math.expandPolygon=function(a,b){for(var c,d,e,f,g=new Array(2*a.length),h=0;h<a.length/2;h++){c=a[2*h],d=a[2*h+1],h<a.length/2-1?(e=a[2*(h+1)],f=a[2*(h+1)+1]):(e=a[0],f=a[1]);var i=f-d,j=-(e-c),k=Math.sqrt(i*i+j*j),l=i/k,m=j/k;g[4*h]=c+l*b,g[4*h+1]=d+m*b,g[4*h+2]=e+l*b,g[4*h+3]=f+m*b}return g},a.math.intersectLineEllipse=function(a,b,c,d,e,f){var g=c-a,h=d-b;g/=e,h/=f;var i=Math.sqrt(g*g+h*h),j=i-1;if(0>j)return[];var k=j/i;return[(c-a)*k+a,(d-b)*k+b]},a.math.dotProduct=function(a,b){if(2!=a.length||2!=b.length)throw"dot product: arguments are not vectors";return a[0]*b[0]+a[1]*b[1]},a.math.intersectLineCircle=function(a,b,c,d,e,f,g){var h=[c-a,d-b],i=[e,f],j=[a-e,b-f],k=h[0]*h[0]+h[1]*h[1],l=2*(j[0]*h[0]+j[1]*h[1]),i=j[0]*j[0]+j[1]*j[1]-g*g,m=l*l-4*k*i;if(0>m)return[];var n=(-l+Math.sqrt(m))/(2*k),o=(-l-Math.sqrt(m))/(2*k),p=Math.min(n,o),q=Math.max(n,o),r=[];if(p>=0&&1>=p&&r.push(p),q>=0&&1>=q&&r.push(q),0==r.length)return[];var s=r[0]*h[0]+a,t=r[0]*h[1]+b;if(r.length>1){if(r[0]==r[1])return[s,t];var u=r[1]*h[0]+a,v=r[1]*h[1]+b;return[s,t,u,v]}return[s,t]},a.math.findCircleNearPoint=function(a,b,c,d,e){var f=d-a,g=e-b,h=Math.sqrt(f*f+g*g),i=f/h,j=g/h;return[a+i*c,b+j*c]},a.math.findMaxSqDistanceToOrigin=function(a){for(var b,c=1e-6,d=0;d<a.length/2;d++)b=a[2*d]*a[2*d]+a[2*d+1]*a[2*d+1],b>c&&(c=b);return c},a.math.finiteLinesIntersect=function(a,b,c,d,e,f,g,h,i){var j=(g-e)*(b-f)-(h-f)*(a-e),k=(c-a)*(b-f)-(d-b)*(a-e),l=(h-f)*(c-a)-(g-e)*(d-b);if(0!=l){var m=j/l,n=k/l;return m>=0&&1>=m&&n>=0&&1>=n?[a+m*(c-a),b+m*(d-b)]:i?[a+m*(c-a),b+m*(d-b)]:[]}return 0==j||0==k?[a,c,g].sort()[1]==g?[g,h]:[a,c,e].sort()[1]==e?[e,f]:[e,g,c].sort()[1]==c?[c,d]:[]:[]},a.math.boxIntersectEllipse=function(a,b,c,d,e,f,g,h,i){if(a>c){var j=a;a=c,c=j}if(b>d){var k=b;b=d,d=k}var l=[h-f/2-e,i],m=[h+f/2+e,i],n=[h,i-g/2-e],o=[h,i+g/2+e];return c<l[0]?!1:a>m[0]?!1:b>o[1]?!1:d<n[1]?!1:a<=m[0]&&m[0]<=c&&b<=m[1]&&m[1]<=d?!0:a<=l[0]&&l[0]<=c&&b<=l[1]&&l[1]<=d?!0:a<=n[0]&&n[0]<=c&&b<=n[1]&&n[1]<=d?!0:a<=o[0]&&o[0]<=c&&b<=o[1]&&o[1]<=d?!0:(a=(a-h)/(f/2+e),c=(c-h)/(f/2+e),b=(b-i)/(g/2+e),d=(d-i)/(g/2+e),1>=a*a+b*b?!0:1>=c*c+b*b?!0:1>=c*c+d*d?!0:1>=a*a+d*d?!0:!1)},a.math.boxIntersectPolygon=function(b,c,d,e,f,g,h,i,j,k,l){if(b>d){var m=b;b=d,d=m}if(c>e){var n=c;c=e,e=n}var o=new Array(f.length),p=Math.asin(k[1]/Math.sqrt(k[0]*k[0]+k[1]*k[1]));k[0]<0?p+=Math.PI/2:p=-p-Math.PI/2;for(var q=Math.cos(-p),r=Math.sin(-p),s=0;s<o.length/2;s++)o[2*s]=g/2*(f[2*s]*q-f[2*s+1]*r),o[2*s+1]=h/2*(f[2*s+1]*q+f[2*s]*r),o[2*s]+=i,o[2*s+1]+=j;for(var t=o[0],u=o[0],v=o[1],w=o[1],s=1;s<o.length/2;s++)o[2*s]>u&&(u=o[2*s]),o[2*s]<t&&(t=o[2*s]),o[2*s+1]>w&&(w=o[2*s+1]),o[2*s+1]<v&&(v=o[2*s+1]);if(t-l>d)return!1;if(b>u+l)return!1;if(v-l>e)return!1;if(c>w+l)return!1;var x;if(l>0){var y=a.math.expandPolygon(o,-l);x=a.math.joinLines(y)}else x=o;for(var s=0;s<o.length/2;s++)if(b<=o[2*s]&&o[2*s]<=d&&c<=o[2*s+1]&&o[2*s+1]<=e)return!0;for(var s=0;s<x.length/2;s++){var z,A,B=x[2*s],C=x[2*s+1];if(s<x.length/2-1?(z=x[2*(s+1)],A=x[2*(s+1)+1]):(z=x[0],A=x[1]),a.math.finiteLinesIntersect(B,C,z,A,b,c,d,c,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,b,e,d,e,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,b,c,b,e,!1).length>0)return!0;if(a.math.finiteLinesIntersect(B,C,z,A,d,c,d,e,!1).length>0)return!0}return!1},a.math.polygonIntersectLine=function(b,c,d,e,f,g,h,i){for(var j,k=[],l=new Array(d.length),m=0;m<l.length/2;m++)l[2*m]=d[2*m]*g+e,l[2*m+1]=d[2*m+1]*h+f;var n;if(i>0){var o=a.math.expandPolygon(l,-i);n=a.math.joinLines(o)}else n=l;for(var p,q,r,s,m=0;m<n.length/2;m++)p=n[2*m],q=n[2*m+1],m<n.length/2-1?(r=n[2*(m+1)],s=n[2*(m+1)+1]):(r=n[0],s=n[1]),j=this.finiteLinesIntersect(b,c,e,f,p,q,r,s),0!=j.length&&k.push(j[0],j[1]);return k},a.math.shortenIntersection=function(a,b,c){var d=[a[0]-b[0],a[1]-b[1]],e=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=(e-c)/e;return 0>f&&(f=1e-5),[b[0]+f*d[0],b[1]+f*d[1]]},a.math.generateUnitNgonPointsFitToSquare=function(b,c){var d=a.math.generateUnitNgonPoints(b,c);return d=a.math.fitPolygonToSquare(d)},a.math.fitPolygonToSquare=function(a){for(var b,c,d=a.length/2,e=1/0,f=1/0,g=-1/0,h=-1/0,i=0;d>i;i++)b=a[2*i],c=a[2*i+1],e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);for(var j=2/(g-e),k=2/(h-f),i=0;d>i;i++)b=a[2*i]=a[2*i]*j,c=a[2*i+1]=a[2*i+1]*k,e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);if(-1>f)for(var i=0;d>i;i++)c=a[2*i+1]=a[2*i+1]+(-1-f);return a},a.math.generateUnitNgonPoints=function(a,b){var c=1/a*2*Math.PI,d=a%2==0?Math.PI/2+c/2:Math.PI/2;d+=b;for(var e,f,g,h=new Array(2*a),i=0;a>i;i++)e=i*c+d,f=h[2*i]=Math.cos(e),g=h[2*i+1]=Math.sin(-e);return h},a.math.getRoundRectangleRadius=function(a,b){return Math.min(a/2,b/2,10)}}(cytoscape),function(a){a.instances=[],a.instanceCounter=0,a.lastInstanceTime,a.registerInstance=function(b,c){var d;a.is.core(b)?d=b:a.is.domElement(b)&&(c=b);var e=a.getRegistrationForInstance(b,c);if(e)return e.cy?a.util.error("Tried to register on a pre-existing registration"):(e.cy=b,e.domElement=c),e;var f,g=+new Date;a.lastInstanceTime&&a.lastInstanceTime!==g?++a.instanceCounter:a.instanceCounter=0,a.lastInstanceTime=g,f=a.instanceCounter;var h="cy-"+g+"-"+f,i={id:h,cy:d,domElement:c,readies:[]};return a.instances.push(i),a.instances[h]=i,i},a.removeRegistrationForInstance=function(b,c){var d;if(a.is.core(b)?d=b:a.is.domElement(b)&&(c=b),a.is.core(d)){var e=d._private.instanceId;delete a.instances[e],a.instances.splice(e,1)}else if(a.is.domElement(c))for(var f=0;f<a.instances.length;f++){var g=a.instances[f];g.domElement===c&&(delete a.instances[g.id],a.instances.splice(f,1),f--)}},a.getRegistrationForInstance=function(b,c){var d;if(a.is.core(b)?b.registered()&&(d=b):a.is.domElement(b)&&(c=b),a.is.core(d)){var e=d._private.instanceId;return a.instances[e]}if(a.is.domElement(c))for(var f=a.instances.length-1;f>=0;f--){var g=a.instances[f];if(g.domElement===c)return g}}}(cytoscape),function(a){function b(b,c,d){var e={};switch(e[c]=d,b){case"core":case"collection":a.fn[b](e)}return a.util.setMap({map:f,keys:[b,c],value:d})}function c(b,c){return a.util.getMap({map:f,keys:[b,c]})}function d(b,c,d,e,f){return a.util.setMap({map:g,keys:[b,c,d,e],value:f})}function e(b,c,d,e){return a.util.getMap({map:g,keys:[b,c,d,e]})}var f={};a.extensions=f;var g={};a.modules=g,a.extension=function(){return 2==arguments.length?c.apply(this,arguments):3==arguments.length?b.apply(this,arguments):4==arguments.length?e.apply(this,arguments):5==arguments.length?d.apply(this,arguments):void $.error("Invalid extension access syntax")}}(cytoscape),function(a,b){a&&(a.fn.cytoscape=function(c){var d=a(this);if("get"===c){var e=b.getRegistrationForInstance(d[0]);return e.cy}if(!b.is.fn(c)){if(b.is.plainObject(c))return d.each(function(){var b=a.extend({},c,{container:a(this)[0]});cytoscape(b)});for(var f=d[0],g=[],h=[],i=1;i<arguments.length;i++)h[i-1]=arguments[i];return d.each(function(){var a=b.getRegistrationForInstance(f),d=a.cy,e=c;if(d&&b.is.fn(d[e])){var i=d[e].apply(d,h);g.push(i)}}),1===g.length?g=g[0]:0==g.length&&(g=a(this)),g}var j=c,f=d[0],e=b.getRegistrationForInstance(f);e||(e=b.registerInstance(f)),e&&e.cy&&e.cy.ready()?e.cy.trigger("ready",[],j):e.readies.push(j)},a.cytoscape=cytoscape,null==a.fn.cy&&null==a.cy&&(a.fn.cy=a.fn.cytoscape,a.cy=a.cytoscape))}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(a){function b(){return!1}function c(){return!0}a.Event=function(d,e){return this instanceof a.Event?(d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.getPreventDefault&&d.getPreventDefault()?c:b):this.type=d,e&&a.util.extend(this,e),void(this.timeStamp=d&&d.timeStamp||+new Date)):new a.Event(d,e)},a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=c;var a=this.originalEvent;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=c;var a=this.originalEvent;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()},isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b}
}(cytoscape),function(a){a.define={data:function(b){var c={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateMappers:!1,onSet:function(){},canSet:function(){return!0}};return b=a.util.extend({},c,b),function(c,d){var e=b,f=this,g=void 0!==f.length,h=g?f:[f],i=g?f[0]:f;if(a.is.string(c)){if(e.allowGetting&&void 0===d){var j;return i&&(j=i._private[e.field][c]),j}if(e.allowSetting&&void 0!==d){var k=!e.immutableKeys[c];if(k){for(var l=0,m=h.length;m>l;l++)e.canSet(h[l])&&(h[l]._private[e.field][c]=d);e.updateMappers&&f.updateMappers(),e.onSet(f),e.settingTriggersEvent&&f[e.triggerFnName](e.settingEvent)}}}else if(e.allowSetting&&a.is.plainObject(c)){var n,o,p=c;for(n in p){o=p[n];var k=!e.immutableKeys[n];if(k)for(var l=0,m=h.length;m>l;l++)e.canSet(h[l])&&(h[l]._private[e.field][n]=o)}e.updateMappers&&f.updateMappers(),e.onSet(f),e.settingTriggersEvent&&f[e.triggerFnName](e.settingEvent)}else if(e.allowBinding&&a.is.fn(c)){var q=c;f.bind(e.bindingEvent,q)}else if(e.allowGetting&&void 0===c){var j;return i&&(j=i._private[e.field]),j}return f}},batchData:function(b){var c={field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{},updateMappers:!1},d=b=a.util.extend({},c,b);return function(b){var c=this,e=void 0!==c.length,f=e?c:c._private.elements;if(0===f.length)return c;for(var g=e?f[0]._private.cy:c,h=0;h<f.length;h++){var i=f[h],j=i._private.data.id,k=b[j];if(void 0!==k&&null!==k){var l,m,n=k;for(l in n){m=n[l];var o=!d.immutableKeys[l];o&&(i._private[d.field][l]=m)}}}var p=new a.Collection(g,f);return d.updateMappers&&p.updateMappers(),p[d.triggerFnName](d.event),c}},removeData:function(b){var c={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return b=a.util.extend({},c,b),function(c){var d=b,e=this,f=void 0!==e.length,g=f?e:[e];if(f?e[0]:e,a.is.string(c)){for(var h=c.split(/\s+/),i=h.length,j=0;i>j;j++){var k=h[j];if(!a.is.emptyString(k)){var l=!d.immutableKeys[k];if(l)for(var m=0,n=g.length;n>m;m++)delete g[m]._private[d.field][k]}}d.triggerEvent&&e[d.triggerFnName](d.event)}else if(void 0===c){for(var m=0,n=g.length;n>m;m++){var o=g[m]._private[d.field];for(var k in o){var p=!d.immutableKeys[k];p&&delete o[k]}}d.triggerEvent&&e[d.triggerFnName](d.event)}return e}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(b){var c={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return b=a.util.extend({},c,b),function(c,d,e,f){var g=this,h=void 0!==g.length,i=h?g:[g],j=(h?g[0]:g,a.is.string(c)),k=b;if(a.is.plainObject(d)?(f=e,e=d,d=void 0):(a.is.fn(d)||d===!1)&&(f=d,e=void 0,d=void 0),(a.is.fn(e)||e===!1)&&(f=e,e=void 0),!a.is.fn(f)&&f!==!1&&j)return g;if(j){var l={};l[c]=f,c=l}for(var m in c)if(f=c[m],f===!1&&(f=a.define.event.falseCallback),a.is.fn(f)){m=m.split(/\s+/);for(var n=0;n<m.length;n++){var o=m[n];if(!a.is.emptyString(o)){var p=o.match(a.define.event.regex);if(p)for(var q=p[1],r=p[2]?p[2]:void 0,s={callback:f,data:e,delegated:d?!0:!1,selector:d,type:q,namespace:r,unbindSelfOnTrigger:k.unbindSelfOnTrigger,unbindAllBindersOnTrigger:k.unbindAllBindersOnTrigger,binders:i},t=0;t<i.length;t++)i[t]._private.listeners.push(s)}}}return g}},off:function(b){var c={};return b=a.util.extend({},c,b),function(b,c,d){var e=this,f=void 0!==e.length,g=f?e:[e],h=(f?e[0]:e,a.is.string(b));if(0===arguments.length){for(var i=0;i<g.length;i++)g[i]._private.listeners=[];return e}if((a.is.fn(c)||c===!1)&&(d=c,c=void 0),h){var j={};j[b]=d,b=j}for(var k in b){d=b[k],d===!1&&(d=a.define.event.falseCallback),k=k.split(/\s+/);for(var l=0;l<k.length;l++){var m=k[l];if(!a.is.emptyString(m)){var n=m.match(a.define.event.optionalTypeRegex);if(n)for(var o=n[1]?n[1]:void 0,p=n[2]?n[2]:void 0,i=0;i<g.length;i++)for(var q=g[i]._private.listeners,r=0;r<q.length;r++){var s=q[r],t=!p||p===s.namespace,u=!o||s.type===o,v=!d||d===s.callback,w=t&&u&&v;w&&(q.splice(r,1),r--)}}}}return e}},trigger:function(b){var c={};return b=a.util.extend({},c,b),function(b,c,d){var e=this,f=void 0!==e.length,g=f?e:[e],h=(f?e[0]:e,a.is.string(b)),i=a.is.plainObject(b),j=a.is.event(b),k=this._private.cy||this;if(h){var l=b.split(/\s+/);b=[];for(var m=0;m<l.length;m++){var n=l[m];if(!a.is.emptyString(n)){var o=n.match(a.define.event.regex),p=o[1],q=o[2]?o[2]:void 0;b.push({type:p,namespace:q})}}}else if(i){var r=b;b=[r]}c?a.is.array(c)||(c=[c]):c=[];for(var m=0;m<b.length;m++)for(var s=b[m],t=0;t<g.length;t++){var n,u=g[t],v=u._private.listeners,w=a.is.element(u),x=w;if(j?(n=s,n.cyTarget=n.cyTarget||u,n.cy=n.cy||k,n.namespace=n.namespace||s.namespace):n=new a.Event(s,{cyTarget:u,cy:k,namespace:s.namespace}),n.cyPosition){var y=n.cyPosition,z=k.zoom(),A=k.pan();n.cyRenderedPosition={x:y.x*z+A.x,y:y.y*z+A.y}}d&&(v=[{namespace:n.namespace,type:n.type,callback:d}]);for(var B=0;B<v.length;B++){var C=v[B],D=!C.namespace||C.namespace===n.namespace,E=C.type===n.type,F=C.delegated?u!==n.cyTarget&&a.is.element(n.cyTarget)&&n.cyTarget.is(C.selector):!0,G=D&&E&&F;if(G){var H=[n];if(H=H.concat(c),n.data=C.data?C.data:void 0,(C.unbindSelfOnTrigger||C.unbindAllBindersOnTrigger)&&(v.splice(B,1),B--),C.unbindAllBindersOnTrigger)for(var I=C.binders,J=0;J<I.length;J++){var K=I[J];if(K&&K!==u)for(var L=K._private.listeners,M=0;M<L.length;M++){var N=L[M];N===C&&(L.splice(M,1),M--)}}var O=C.delegated?n.cyTarget:u,P=C.callback.apply(O,H);(P===!1||n.isPropagationStopped())&&(x=!1,P===!1&&(n.stopPropagation(),n.preventDefault()))}}if(x){var Q=u.parent(),R=0!==Q.length;R?(Q=Q[0],Q.trigger(n)):k.trigger(n)}}return e}}}}(cytoscape),function($$){$$.fn.selector=function(a){for(var b in a){var c=a[b];$$.Selector.prototype[b]=c}},$$.Selector=function(a,b){if(!(this instanceof $$.Selector))return new $$.Selector(a,b);void 0===b&&void 0!==a&&(b=a,a=void 0);var c=this;c._private={selectorText:null,invalid:!0};var d=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!b||$$.is.string(b)&&b.match(/^\s*$/))null==a?c.length=0:(c[0]=d(),c[0].group=a,c.length=1);else if($$.is.element(b)){var e=new $$.Collection(c.cy(),[b]);c[0]=d(),c[0].collection=e,c.length=1}else if($$.is.collection(b))c[0]=d(),c[0].collection=b,c.length=1;else if($$.is.fn(b))c[0]=d(),c[0].filter=b,c.length=1;else{if(!$$.is.string(b))return void $$.util.error("A selector must be created from a string; found "+b);for(var f="[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",g="(?:[\\w-]|(?:\\\\"+f+"))+",h="=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",i="\\?|\\!|\\^",j='"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",k=$$.util.regex.number,l=j+"|"+k,m="degree|indegree|outdegree",n="\\s*,\\s*",o=g,p="\\s+",q="\\s+>\\s+",r="\\$",s=g,t=function(a){return a.replace(new RegExp("\\\\("+f+")","g"),function(a,b){return b})},u=h.split("|"),v=0;v<u.length;v++){var w=u[v];h+="|@"+w}var x=null,y={group:{query:!0,regex:"(node|edge|\\*)",populate:function(a){this.group="*"==a?a:a+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:parent|:child|:active|:inactive|:touch)",populate:function(a){this.colonSelectors.push(a)}},id:{query:!0,regex:"\\#("+s+")",populate:function(a){this.ids.push(t(a))}},className:{query:!0,regex:"\\.("+o+")",populate:function(a){this.classes.push(t(a))}},dataExists:{query:!0,regex:"\\[\\s*("+g+")\\s*\\]",populate:function(a){this.data.push({field:t(a)})}},dataCompare:{query:!0,regex:"\\[\\s*("+g+")\\s*("+h+")\\s*("+l+")\\s*\\]",populate:function(a,b,c){this.data.push({field:t(a),operator:b,value:c})}},dataBool:{query:!0,regex:"\\[\\s*("+i+")\\s*("+g+")\\s*\\]",populate:function(a,b){this.data.push({field:t(b),operator:a})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+m+")\\s*("+h+")\\s*("+k+")\\s*\\]\\]",populate:function(a,b,c){this.meta.push({field:t(a),operator:b,value:c})}},nextQuery:{separator:!0,regex:n,populate:function(){c[++v]=d(),x=null}},child:{separator:!0,regex:q,populate:function(){var a=d();a.parent=this,a.subject=x,c[v]=a}},descendant:{separator:!0,regex:p,populate:function(){var a=d();a.ancestor=this,a.subject=x,c[v]=a}},subject:{modifier:!0,regex:r,populate:function(){return null!=x&&this.subject!=this?($$.util.error("Redefinition of subject in selector `"+b+"`"),!1):(x=this,void(this.subject=this))}}},z=0;for(var A in y)y[z]=y[A],y[z].name=A,z++;y.length=z,c._private.selectorText=b;var B=b,v=0,C=function(a){for(var b,c,d,e=0;e<y.length;e++){var f=y[e],g=f.name;if(!$$.is.fn(a)||a(g,f)){var h=B.match(new RegExp("^"+f.regex));if(null!=h){c=h,b=f,d=g;var i=h[0];B=B.substring(i.length);break}}}return{expr:b,match:c,name:d}},D=function(){var a=B.match(/^\s+/);if(a){var b=a[0];B=B.substring(b.length)}};for(c[0]=d(),D();;){var E=C();if(null==E.expr)return void $$.util.error("The selector `"+b+"`is invalid");for(var F=[],z=1;z<E.match.length;z++)F.push(E.match[z]);var G=E.expr.populate.apply(c[v],F);if(G===!1)return;if(B.match(/^\s*$/))break}for(c.length=v+1,z=0;z<c.length;z++){var H=c[z];if(null!=H.subject){for(;H.subject!=H;)if(null!=H.parent){var I=H.parent,q=H;q.parent=null,I.child=q,H=I}else{if(null==H.ancestor){$$.util.error("When adjusting references for the selector `"+H+"`, neither parent nor ancestor was found");break}var J=H.ancestor,p=H;p.ancestor=null,J.descendant=p,H=J}c[z]=H.subject}}if(null!=a)for(var z=0;z<c.length;z++){if(null!=c[z].group&&c[z].group!=a)return void $$.util.error("Group `"+c[z].group+"` conflicts with implicit group `"+a+"` in selector `"+b+"`");c[z].group=a}}c._private.invalid=!1},$$.selfn=$$.Selector.prototype,$$.selfn.size=function(){return this.length},$$.selfn.eq=function(a){return this[a]},$$.selfn.find=function(){},$$.selfn.filter=function(collection,addLiveFunction){var self=this,cy=collection.cy();if(self._private.invalid)return new $$.Collection(cy);var queryMatches=function(query,element){if(null!=query.group&&"*"!=query.group&&query.group!=element._private.group)return!1;for(var allColonSelectorsMatch=!0,k=0;k<query.colonSelectors.length;k++){var sel=query.colonSelectors[k],renderer=cy.renderer();switch(sel){case":selected":allColonSelectorsMatch=element.selected();break;case":unselected":allColonSelectorsMatch=!element.selected();break;case":selectable":allColonSelectorsMatch=element.selectable();break;case":unselectable":allColonSelectorsMatch=!element.selectable();break;case":locked":allColonSelectorsMatch=element.locked();break;case":unlocked":allColonSelectorsMatch=!element.locked();break;case":visible":allColonSelectorsMatch=element.visible();break;case":hidden":allColonSelectorsMatch=!element.visible();break;case":transparent":allColonSelectorsMatch=!element.transparent();break;case":grabbed":allColonSelectorsMatch=element.grabbed();break;case":free":allColonSelectorsMatch=!element.grabbed();break;case":removed":allColonSelectorsMatch=element.removed();break;case":inside":allColonSelectorsMatch=!element.removed();break;case":grabbable":allColonSelectorsMatch=element.grabbable();break;case":ungrabbable":allColonSelectorsMatch=!element.grabbable();break;case":animated":allColonSelectorsMatch=element.animated();break;case":unanimated":allColonSelectorsMatch=!element.animated();break;case":parent":allColonSelectorsMatch=element.children().nonempty();break;case":child":allColonSelectorsMatch=element.parent().nonempty();break;case":active":allColonSelectorsMatch=element.active();break;case":inactive":allColonSelectorsMatch=!element.active();break;case":touch":allColonSelectorsMatch=window&&document&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}if(!allColonSelectorsMatch)break}if(!allColonSelectorsMatch)return!1;for(var allIdsMatch=!0,k=0;k<query.ids.length;k++){var id=query.ids[k],actualId=element._private.data.id;if(allIdsMatch=allIdsMatch&&id==actualId,!allIdsMatch)break}if(!allIdsMatch)return!1;for(var allClassesMatch=!0,k=0;k<query.classes.length;k++){var cls=query.classes[k];if(allClassesMatch=allClassesMatch&&element.hasClass(cls),!allClassesMatch)break}if(!allClassesMatch)return!1;var operandsMatch=function(params){for(var allDataMatches=!0,k=0;k<query[params.name].length;k++){var data=query[params.name][k],operator=data.operator,value=data.value,field=data.field,matches;if(null!=operator&&null!=value){var fieldStr=""+params.fieldValue(field),valStr=""+eval(value),caseInsensitive=!1;switch("@"==operator.charAt(0)&&(fieldStr=fieldStr.toLowerCase(),valStr=valStr.toLowerCase(),operator=operator.substring(1),caseInsensitive=!0),"="==operator&&(operator="=="),operator){case"*=":matches=fieldStr.search(valStr)>=0;break;case"$=":matches=null!=new RegExp(valStr+"$").exec(fieldStr);break;case"^=":matches=null!=new RegExp("^"+valStr).exec(fieldStr);break;default:if(caseInsensitive){var expr="fieldStr "+operator+" valStr";matches=eval(expr)}else{var expr=params.fieldRef(field)+" "+operator+" "+value;matches=eval(expr)}}}else if(null!=operator)switch(operator){case"?":matches=params.fieldTruthy(field);break;case"!":matches=!params.fieldTruthy(field);break;case"^":matches=params.fieldUndefined(field)}else matches=!params.fieldUndefined(field);if(!matches){allDataMatches=!1;break}}return allDataMatches},allDataMatches=operandsMatch({name:"data",fieldValue:function(a){return element._private.data[a]},fieldRef:function(a){return"element._private.data."+a},fieldUndefined:function(a){return void 0===element._private.data[a]},fieldTruthy:function(a){return element._private.data[a]?!0:!1}});if(!allDataMatches)return!1;var allMetaMatches=operandsMatch({name:"meta",fieldValue:function(a){return element[a]()},fieldRef:function(a){return"element."+a+"()"},fieldUndefined:function(a){return void 0==element[a]()},fieldTruthy:function(a){return element[a]()?!0:!1}});if(!allMetaMatches)return!1;if(null!=query.collection){var matchesAny=null!=query.collection._private.ids[element.id()];if(!matchesAny)return!1}if(null!=query.filter&&0==element.collection().filter(query.filter).size())return!1;var confirmRelations=function(a,b){if(null!=a){var c=!1;b=b();for(var d=0;d<b.size();d++)if(queryMatches(a,b.eq(d))){c=!0;break}return c}return!0};return confirmRelations(query.parent,function(){return element.parent()})?confirmRelations(query.ancestor,function(){return element.parents()})?confirmRelations(query.child,function(){return element.children()})?confirmRelations(query.descendant,function(){return element.descendants()})?!0:!1:!1:!1:!1},selectorFunction=function(a,b){for(var c=0;c<self.length;c++){var d=self[c];if(queryMatches(d,b))return!0}return!1};null==self._private.selectorText&&(selectorFunction=function(){return!0});var filteredCollection=collection.filter(selectorFunction);return filteredCollection},$$.selfn.toString=$$.selfn.selector=function(){for(var a="",b=function(a){return $$.is.string(a)?a:""},c=function(a){var e="",f=b(a.group);e+=f.substring(0,f.length-1);for(var g=0;g<a.data.length;g++){var h=a.data[g];e+="["+h.field+b(h.operator)+b(h.value)+"]"}for(var g=0;g<a.meta.length;g++){var i=a.meta[g];e+="{"+i.field+b(i.operator)+b(i.value)+"}"}for(var g=0;g<a.colonSelectors.length;g++){var j=a.colonSelectors[d];e+=j}for(var g=0;g<a.ids.length;g++){var j="#"+a.ids[d];e+=j}for(var g=0;g<a.classes.length;g++){var j="."+a.classes[d];e+=j}return null!=a.parent&&(e=c(a.parent)+" > "+e),null!=a.ancestor&&(e=c(a.ancestor)+" "+e),null!=a.child&&(e+=" > "+c(a.child)),null!=a.descendant&&(e+=" "+c(a.descendant)),e},d=0;d<this.length;d++){var e=this[d];a+=c(e),this.length>1&&d<this.length-1&&(a+=", ")}return a}}(cytoscape),function(a,b){var c=a.is.touch();a.Style=function(b){return this instanceof a.Style?a.is.core(b)?(this._private={cy:b,coreStyle:{}},this.length=0,void this.addDefaultStylesheet()):void a.util.error("A style must have a core reference"):new a.Style(b)},a.style=a.Style,a.styfn=a.Style.prototype,a.fn.style=function(b){for(var c in b){var d=b[c];a.Style.prototype=d}},a.stylesheet=a.Stylesheet=function(){return this instanceof a.Stylesheet?void(this.length=0):new a.Stylesheet},a.Stylesheet.prototype.selector=function(a){var b=this.length++;return this[b]={selector:a,properties:[]},this},a.Stylesheet.prototype.css=function(b,c){var d=this.length-1;if(a.is.string(b))this[d].properties.push({name:b,value:c});else if(a.is.plainObject(b))for(var e=b,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],h=e[g.name];if(void 0===h&&(h=e[a.util.dash2camel(g.name)]),void 0!==h){var b=g.name,c=h;this[d].properties.push({name:b,value:c})}}return this},a.style.applyFromString=function(b,c){function d(){i=i.length>f.length?i.substr(f.length):""}function e(){g=g.length>h.length?g.substr(h.length):""}var f,g,h,i=""+c;for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){var j=i.match(/^\s*$/);if(j)break;var k=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!k){a.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}f=k[0];var l=k[1],m=new a.Selector(l);if(m._private.invalid)a.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),d();else{var n=k[2],o=!1;g=n;for(var p=[];;){var j=g.match(/^\s*$/);if(j)break;var q=g.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!q){a.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+n),o=!0;break}h=q[0];var r=q[1],s=q[2],t=a.style.properties[r];if(t){var u=b.parse(r,s);u?(p.push({name:r,val:s}),e()):(a.util.error("Skipping property: Invalid property definition in: "+h),e())}else a.util.error("Skipping property: Invalid property name in: "+h),e()}if(o){d();break}b.selector(l);for(var v=0;v<p.length;v++){var t=p[v];b.css(t.name,t.val)}d()}}return b},a.style.fromString=function(b,c){var d=new a.Style(b);return a.style.applyFromString(d,c),d},a.styfn.fromString=function(b){var c=this;return c.resetToDefault(),a.style.applyFromString(c,b),c},a.style.applyFromJson=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.selector,f=d.css;a.selector(e);for(var g in f){var h=f[g];a.css(g,h)}}return a},a.style.fromJson=function(b,c){var d=new a.Style(b);return a.style.applyFromJson(d,c),d},a.styfn.fromJson=function(b){var c=this;return c.resetToDefault(),a.style.applyFromJson(c,b),c},a.styfn.json=function(){for(var a=[],b=0;b<this.length;b++){for(var c=this[b],d=c.selector,e=c.properties,f={},g=0;g<e.length;g++){var h=e[g];f[h.name]=h.strValue}a.push({selector:d?d.toString():"core",css:f})}return a},a.Stylesheet.prototype.generateStyle=function(b){for(var c=new a.Style(b),d=0;d<this.length;d++){var e=this[d],f=e.selector,g=e.properties;c.selector(f);for(var h=0;h<g.length;h++){var i=g[h];c.css(i.name,i.value)}}return c},a.Stylesheet.prototype.assignToStyle=function(a,b){a.clear(),(b||void 0===b)&&a.addDefaultStylesheet();for(var c=0;c<this.length;c++){var d=this[c],e=d.selector,f=d.properties;a.selector(e);for(var g=0;g<f.length;g++){var h=f[g];a.css(h.name,h.value)}}},function(){var b=a.util.regex.number,c=a.util.regex.rgbaNoBackRefs,d=a.util.regex.hslaNoBackRefs,e=a.util.regex.hex3,f=a.util.regex.hex6,g=function(a){return"^"+a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},h=function(a){return"^"+a+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+b+")\\s*\\,\\s*("+b+")\\s*,\\s*("+b+"|\\w+|"+c+"|"+d+"|"+e+"|"+f+")\\s*\\,\\s*("+b+"|\\w+|"+c+"|"+d+"|"+e+"|"+f+")\\)$"};a.style.types={percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},size:{number:!0,min:0,enums:["auto"]},bgSize:{number:!0,min:0,allowPercent:!0},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},curveStyle:{enums:["bundled","bezier"]},fontFamily:{regex:"^([\\w- ]+(?:\\s*,\\s*[\\w- ]+)*)$"},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","capitalize","uppercase","lowercase"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star"]},arrowShape:{enums:["tee","triangle","square","circle","diamond","none"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},positionx:{enums:["left","center","right"],number:!0,allowPercent:!0},positiony:{enums:["top","center","bottom"],number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},cursor:{enums:["auto","crosshair","default","e-resize","n-resize","ne-resize","nw-resize","pointer","progress","s-resize","sw-resize","text","w-resize","wait","grab","grabbing"]},text:{string:!0},data:{mapping:!0,regex:g("data")},layoutData:{mapping:!0,regex:g("layoutData")},mapData:{mapping:!0,regex:h("mapData")},mapLayoutData:{mapping:!0,regex:h("mapLayoutData")},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"}};var i=a.style.types;a.style.properties=[{name:"cursor",type:i.cursor},{name:"text-valign",type:i.valign},{name:"text-halign",type:i.halign},{name:"color",type:i.color},{name:"content",type:i.text},{name:"text-outline-color",type:i.color},{name:"text-outline-width",type:i.size},{name:"text-outline-opacity",type:i.zeroOneNumber},{name:"text-opacity",type:i.zeroOneNumber},{name:"text-decoration",type:i.textDecoration},{name:"text-transform",type:i.textTransform},{name:"font-family",type:i.fontFamily},{name:"font-style",type:i.fontStyle},{name:"font-variant",type:i.fontVariant},{name:"font-weight",type:i.fontWeight},{name:"font-size",type:i.size},{name:"min-zoomed-font-size",type:i.size},{name:"display",type:i.display},{name:"visibility",type:i.visibility},{name:"opacity",type:i.zeroOneNumber},{name:"z-index",type:i.nonNegativeInt},{name:"overlay-padding",type:i.size},{name:"overlay-color",type:i.color},{name:"overlay-opacity",type:i.zeroOneNumber},{name:"background-color",type:i.color},{name:"background-opacity",type:i.zeroOneNumber},{name:"background-image",type:i.url},{name:"background-position-x",type:i.positionx},{name:"background-position-y",type:i.positiony},{name:"background-repeat",type:i.bgRepeat},{name:"background-size-x",type:i.bgSize},{name:"background-size-y",type:i.bgSize},{name:"pie-1-background-color",type:i.color},{name:"pie-2-background-color",type:i.color},{name:"pie-3-background-color",type:i.color},{name:"pie-4-background-color",type:i.color},{name:"pie-5-background-color",type:i.color},{name:"pie-6-background-color",type:i.color},{name:"pie-7-background-color",type:i.color},{name:"pie-8-background-color",type:i.color},{name:"pie-9-background-color",type:i.color},{name:"pie-10-background-color",type:i.color},{name:"pie-11-background-color",type:i.color},{name:"pie-12-background-color",type:i.color},{name:"pie-13-background-color",type:i.color},{name:"pie-14-background-color",type:i.color},{name:"pie-15-background-color",type:i.color},{name:"pie-16-background-color",type:i.color},{name:"pie-1-background-size",type:i.percent},{name:"pie-2-background-size",type:i.percent},{name:"pie-3-background-size",type:i.percent},{name:"pie-4-background-size",type:i.percent},{name:"pie-5-background-size",type:i.percent},{name:"pie-6-background-size",type:i.percent},{name:"pie-7-background-size",type:i.percent},{name:"pie-8-background-size",type:i.percent},{name:"pie-9-background-size",type:i.percent},{name:"pie-10-background-size",type:i.percent},{name:"pie-11-background-size",type:i.percent},{name:"pie-12-background-size",type:i.percent},{name:"pie-13-background-size",type:i.percent},{name:"pie-14-background-size",type:i.percent},{name:"pie-15-background-size",type:i.percent},{name:"pie-16-background-size",type:i.percent},{name:"border-color",type:i.color},{name:"border-opacity",type:i.zeroOneNumber},{name:"border-width",type:i.size},{name:"border-style",type:i.lineStyle},{name:"height",type:i.size},{name:"width",type:i.size},{name:"padding-left",type:i.size},{name:"padding-right",type:i.size},{name:"padding-top",type:i.size},{name:"padding-bottom",type:i.size},{name:"shape",type:i.nodeShape},{name:"source-arrow-shape",type:i.arrowShape},{name:"target-arrow-shape",type:i.arrowShape},{name:"source-arrow-color",type:i.color},{name:"target-arrow-color",type:i.color},{name:"line-style",type:i.lineStyle},{name:"line-color",type:i.color},{name:"control-point-step-size",type:i.size},{name:"curve-style",type:i.curveStyle},{name:"selection-box-color",type:i.color},{name:"selection-box-opacity",type:i.zeroOneNumber},{name:"selection-box-border-color",type:i.color},{name:"selection-box-border-width",type:i.size},{name:"panning-cursor",type:i.cursor},{name:"active-bg-color",type:i.color},{name:"active-bg-opacity",type:i.zeroOneNumber},{name:"active-bg-size",type:i.size}];for(var j=a.style.properties,k=0;k<j.length;k++){var l=j[k];j[l.name]=l}a.style.pieBackgroundN=16}(),a.styfn.addDefaultStylesheet=function(){var a="Helvetica",b="normal",d="normal",e="normal",f="#000",g="none",h=16;this.selector("node, edge").css({cursor:"default","text-valign":"top","text-halign":"center",color:f,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":g,"font-family":a,"font-style":b,"font-variant":d,"font-weight":e,"font-size":h,"min-zoomed-font-size":0,visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"background-color":"#888","background-opacity":1,"background-image":"none","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,shape:"ellipse","pie-1-background-color":"black","pie-1-background-size":"0%","pie-2-background-color":"black","pie-2-background-size":"0%","pie-3-background-color":"black","pie-3-background-size":"0%","pie-4-background-color":"black","pie-4-background-size":"0%","pie-5-background-color":"black","pie-5-background-size":"0%","pie-6-background-color":"black","pie-6-background-size":"0%","pie-7-background-color":"black","pie-7-background-size":"0%","pie-8-background-color":"black","pie-8-background-size":"0%","pie-9-background-color":"black","pie-9-background-size":"0%","pie-10-background-color":"black","pie-10-background-size":"0%","pie-11-background-color":"black","pie-11-background-size":"0%","pie-12-background-color":"black","pie-12-background-size":"0%","pie-13-background-color":"black","pie-13-background-size":"0%","pie-14-background-color":"black","pie-14-background-size":"0%","pie-15-background-color":"black","pie-15-background-size":"0%","pie-16-background-color":"black","pie-16-background-size":"0%","source-arrow-shape":"none","target-arrow-shape":"none","source-arrow-color":"#bbb","target-arrow-color":"#bbb","line-style":"solid","line-color":"#bbb","control-point-step-size":40,"curve-style":"bezier"}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"panning-cursor":"grabbing","active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":c?40:15})},a.styfn.clear=function(){this._private.newStyle=!0;for(var a=0;a<this.length;a++)delete this[a];return this.length=0,this},a.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},a.styfn.core=function(){return this._private.coreStyle},a.styfn.parse=function(b,c,d){b=a.util.camel2dash(b);var e=a.style.properties[b],f=c;if(!e)return null;if(void 0===c||null===c)return null;var g=a.is.string(c);g&&(c=a.util.trim(c));var h=e.type;if(!h)return null;if(d&&(""===c||null===c))return{name:b,value:c,bypass:!0,deleteBypass:!0};var i,j,k,l;if(g){if((i=new RegExp(a.style.types.data.regex).exec(c))||(k=new RegExp(a.style.types.layoutData.regex).exec(c))){var m=void 0!==k;return i=i||k,{name:b,value:i,strValue:c,mapped:m?a.style.types.layoutData:a.style.types.data,field:i[1],bypass:d}}if((j=new RegExp(a.style.types.mapData.regex).exec(c))||(l=new RegExp(a.style.types.mapLayoutData.regex).exec(c))){var m=void 0!==l;if(j=j||l,!h.color&&!h.number)return!1;var n=this.parse(b,j[4]);if(!n||n.mapped)return!1;var o=this.parse(b,j[5]);if(!o||o.mapped)return!1;if(n.value===o.value)return!1;if(h.color){var p=n.value,q=o.value,r=!(p[0]!==q[0]||p[1]!==q[1]||p[2]!==q[2]||p[3]!==q[3]&&(null!=p[3]&&1!==p[3]||null!=q[3]&&1!==q[3]));if(r)return!1}return{name:b,value:j,strValue:c,mapped:m?a.style.types.mapLayoutData:a.style.types.mapData,field:j[1],fieldMin:parseFloat(j[2]),fieldMax:parseFloat(j[3]),valueMin:n.value,valueMax:o.value,bypass:d}}}if(h.number){var s,t="px";if(h.units&&(s=h.units),!h.unitless)if(g){var u="px|em"+(h.allowPercent?"|\\%":"");s&&(u=s);var v=c.match("^("+a.util.regex.number+")("+u+")?$");v&&(c=v[1],s=v[2]||t)}else s||(s=t);if(c=parseFloat(c),isNaN(c)&&void 0===h.enums)return null;if(isNaN(c)&&void 0!==h.enums){c=f;for(var w=0;w<h.enums.length;w++){var x=h.enums[w];if(x===c)return{name:b,value:c,strValue:c,bypass:d}}return null}if(h.integer&&!a.is.integer(c))return null;if(void 0!==h.min&&c<h.min||void 0!==h.max&&c>h.max)return null;var y={name:b,value:c,strValue:""+c+(s?s:""),units:s,bypass:d,pxValue:h.unitless||"%"===s?void 0:"px"!==s&&s?this.getEmSizeInPixels()*c:c};return y}if(h.color){var z=a.util.color2tuple(c);return{name:b,value:z,strValue:c,bypass:d}}if(!h.enums){if(h.regex){var A=new RegExp(h.regex),B=A.exec(c);return B?{name:b,value:B,strValue:c,bypass:d}:null}return h.string?{name:b,value:c,strValue:c,bypass:d}:null}for(var w=0;w<h.enums.length;w++){var x=h.enums[w];if(x===c)return{name:b,value:c,strValue:c,bypass:d}}},a.styfn.getEmSizeInPixels=function(){var a=this._private.cy,c=a.container();if(b&&c&&b.getComputedStyle){var d=b.getComputedStyle(c).getPropertyValue("font-size"),e=parseFloat(d);return e}return 1},a.styfn.containerCss=function(a){var c=this._private.cy,d=c.container();return b&&d&&b.getComputedStyle?b.getComputedStyle(d).getPropertyValue(a):void 0},a.styfn.containerProperty=function(a){var b=this.containerCss(a),c=this.parse(a,b);return c},a.styfn.containerPropertyAsString=function(a){var b=this.containerProperty(a);return b?b.strValue:void 0},a.styfn.selector=function(b){var c="core"===b?null:new a.Selector(b),d=this.length++;return this[d]={selector:c,properties:[]},this},a.styfn.css=function(){var b=arguments;switch(b.length){case 1:for(var c=b[0],d=0;d<a.style.properties.length;d++){var e=a.style.properties[d],f=c[e.name];void 0===f&&(f=c[a.util.dash2camel(e.name)]),void 0!==f&&this.cssRule(e.name,f)}break;case 2:this.cssRule(b[0],b[1])}return this},a.styfn.cssRule=function(a,b){var c=this.parse(a,b);if(c){var d=this.length-1;this[d].properties.push(c);var e=!this[d].selector;e&&(this._private.coreStyle[c.name]=c)}return this},a.styfn.applyParsedProperty=function(b,c,d){c=a.util.clone(c);var e,f,g=c,h=b._private.style,i=a.style.properties[g.name].type,j=g.bypass,k=h[g.name],l=k&&k.bypass;if(("height"===c.name||"width"===c.name)&&"auto"===c.value&&b.isNode()&&!b.isParent())return!1;if(j&&g.deleteBypass){var m=h[g.name];return m?m.bypass&&m.bypassed?(h[g.name]=m.bypassed,!0):!1:!0}switch(g.mapped){case a.style.types.mapData:case a.style.types.mapLayoutData:for(var n=g.mapped===a.style.types.mapLayoutData,o=g.field.split("."),e=n?b._private.layoutData:b._private.data,p=0;p<o.length&&e;p++){var q=o[p];
e=e[q]}if(!a.is.number(e))return!1;var r=(e-g.fieldMin)/(g.fieldMax-g.fieldMin);if(i.color){var s=g.valueMin[0],t=g.valueMax[0],u=g.valueMin[1],v=g.valueMax[1],w=g.valueMin[2],x=g.valueMax[2],y=null==g.valueMin[3]?1:g.valueMin[3],z=null==g.valueMax[3]?1:g.valueMax[3],A=[Math.round(s+(t-s)*r),Math.round(u+(v-u)*r),Math.round(w+(x-w)*r),Math.round(y+(z-y)*r)];f={bypass:g.bypass,name:g.name,value:A,strValue:["rgba(",A[0],", ",A[1],", ",A[2],", ",A[3],")"].join("")}}else{if(!i.number)return!1;var B=g.valueMin+(g.valueMax-g.valueMin)*r;f=this.parse(g.name,B,g.bypass)}f||(f=this.parse(g.name,k.strValue,g.bypass)),f.mapping=g,g=f;break;case a.style.types.data:case a.style.types.layoutData:for(var n=g.mapped===a.style.types.layoutData,o=g.field.split("."),e=n?b._private.layoutData:b._private.data,p=0;p<o.length&&e;p++){var q=o[p];e=e[q]}f=this.parse(g.name,e,g.bypass),f||(f=this.parse(g.name,k.strValue,g.bypass)),f.mapping=g,g=f;break;case void 0:break;default:return!1}if(j)g.bypassed=l?k.bypassed:k,h[g.name]=g;else{var C;l?(C=k.bypassed,k.bypassed=g):(C=h[g.name],h[g.name]=g),C&&C.mapping&&g.mapping&&C.context===d&&(C=C.prev),C&&C!==g&&(g.prev=C)}return g.context=d,!0},a.styfn.rollBackContext=function(a,b){for(var c=0;c<b.properties.length;c++){var d=b.properties[c],e=a._private.style[d.name];e.bypassed&&(e=e.bypassed);for(var f,g=!0,h=0;e.prev;){var i=e.prev;e.context===b&&(g?a._private.style[d.name]=i:f&&(f.prev=i)),f=e,e=i,g=!1,h++}}},a.styfn.apply=function(a){for(var b=this,c=0;c<a.length;c++){var d=a[c];b._private.newStyle&&(d._private.styleCxts=[],d._private.style={});for(var e=0;e<this.length;e++){var f=this[e],g=f.selector&&f.selector.filter(d).length>0,h=f.properties;if(g){for(var i=0;i<h.length;i++){var j=h[i],k=!d._private.styleCxts[e],l=d._private.style[j.name],m=l&&l.context===f,n=j.mapped&&m;(k||n)&&this.applyParsedProperty(d,j,f)}d._private.styleCxts[e]=f}else d._private.styleCxts[e]&&this.rollBackContext(d,f),delete d._private.styleCxts[e]}}b._private.newStyle=!1},a.styfn.update=function(){var a=this._private.cy,b=a.elements();b.updateStyle()},a.styfn.getRenderedStyle=function(b){var b=b[0];if(b){for(var c={},d=b._private.style,e=this._private.cy,f=e.zoom(),g=0;g<a.style.properties.length;g++){var h=a.style.properties[g],i=d[h.name];if(i){var j=i.unitless?i.strValue:i.pxValue*f+"px";c[h.name]=j,c[a.util.dash2camel(h.name)]=j}}return c}},a.styfn.getRawStyle=function(b){var b=b[0];if(b){for(var c={},d=b._private.style,e=0;e<a.style.properties.length;e++){var f=a.style.properties[e],g=d[f.name];g&&(c[f.name]=g.strValue,c[a.util.dash2camel(f.name)]=g.strValue)}return c}},a.styfn.getValueStyle=function(b){var c,d;if(a.is.element(b)?(c={},d=b._private.style):(c={},d=b),d)for(var e=0;e<a.style.properties.length;e++){var f=a.style.properties[e],g=d[f.name]||d[a.util.dash2camel(f.name)];if(void 0===g||a.is.plainObject(g)||(g=this.parse(f.name,g)),g){var h=void 0===g.value?g:g.value;c[f.name]=h,c[a.util.dash2camel(f.name)]=h}}return c},a.styfn.updateMappers=function(b){for(var c=0;c<b.length;c++)for(var d=b[c],e=d._private.style,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],h=e[g.name];if(h&&h.mapping){var i=h.mapping;this.applyParsedProperty(d,i)}}},a.styfn.applyBypass=function(b,c,d){var e=[];if("*"===c||"**"===c){if(void 0!==d)for(var f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],c=g.name,h=this.parse(c,d,!0);h&&e.push(h)}}else if(a.is.string(c)){var h=this.parse(c,d,!0);h&&e.push(h)}else{if(!a.is.plainObject(c))return!1;for(var i=c,f=0;f<a.style.properties.length;f++){var g=a.style.properties[f],c=g.name,d=i[c];if(void 0===d&&(d=i[a.util.dash2camel(c)]),void 0!==d){var h=this.parse(c,d,!0);h&&e.push(h)}}}if(0===e.length)return!1;for(var j=!1,f=0;f<b.length;f++)for(var k=b[f],l=0;l<e.length;l++){var g=e[l];j=this.applyParsedProperty(k,g)||j}return j},a.styfn.removeAllBypasses=function(b){for(var c=0;c<a.style.properties.length;c++)for(var d=a.style.properties[c],e=d.name,f="",g=this.parse(e,f,!0),h=0;h<b.length;h++){var i=b[h];this.applyParsedProperty(i,g)}}}(cytoscape,"undefined"==typeof window?null:window),function(a,b){var c=a.is.touch(),d={hideEdgesOnViewport:!1},e=a.util.copy(d);a.defaults=function(b){d=a.util.extend({},e,b)},a.fn.core=function(b){for(var c in b){var d=b[c];a.Core.prototype[c]=d}},a.Core=function(e){if(!(this instanceof a.Core))return new a.Core(e);var f=this;e=a.util.extend({},d,e);var g=e.container,h=a.getRegistrationForInstance(f,g);h&&h.cy&&(h.domElement.innerHTML="",h.cy.notify({type:"destroy"}),a.removeRegistrationForInstance(h.cy,h.domElement)),h=a.registerInstance(f,g);var i=h.readies,j=e;j.layout=a.util.extend({name:b&&g?"grid":"null"},j.layout),j.renderer=a.util.extend({name:b&&g?"canvas":"null"},j.renderer);var k=this._private={ready:!1,initrender:!1,instanceId:h.id,options:j,elements:[],id2index:{},listeners:[],aniEles:[],scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:void 0===j.zoomingEnabled?!0:j.zoomingEnabled,userZoomingEnabled:void 0===j.userZoomingEnabled?!0:j.userZoomingEnabled,panningEnabled:void 0===j.panningEnabled?!0:j.panningEnabled,userPanningEnabled:void 0===j.userPanningEnabled?!0:j.userPanningEnabled,boxSelectionEnabled:void 0===j.boxSelectionEnabled?!0:j.boxSelectionEnabled,zoom:a.is.number(j.zoom)?j.zoom:1,pan:{x:a.is.plainObject(j.pan)&&a.is.number(j.pan.x)?j.pan.x:0,y:a.is.plainObject(j.pan)&&a.is.number(j.pan.y)?j.pan.y:0},hasCompoundNodes:!1},l=j.selectionType;k.selectionType=void 0===l||"additive"!==l&&"single"!==l?c?"additive":"single":l,a.is.number(j.minZoom)&&a.is.number(j.maxZoom)&&j.minZoom<j.maxZoom?(k.minZoom=j.minZoom,k.maxZoom=j.maxZoom):a.is.number(j.minZoom)&&void 0===j.maxZoom?k.minZoom=j.minZoom:a.is.number(j.maxZoom)&&void 0===j.minZoom&&(k.maxZoom=j.maxZoom),k.style=a.is.stylesheet(j.style)?j.style.generateStyle(this):a.is.array(j.style)?a.style.fromJson(this,j.style):a.is.string(j.style)?a.style.fromString(this,j.style):new a.Style(f),f.initRenderer(a.util.extend({hideEdgesOnViewport:j.hideEdgesOnViewport},j.renderer)),j.initrender&&(f.on("initrender",j.initrender),f.on("initrender",function(){f._private.initrender=!0})),f.load(j.elements,function(){f.startAnimationLoop(),f._private.ready=!0,a.is.fn(j.ready)&&f.bind("ready",j.ready);for(var b=0;b<i.length;b++){var c=i[b];f.bind("ready",c)}h.readies=[],f.trigger("ready")},j.done)},a.corefn=a.Core.prototype,a.fn.core({ready:function(){return this._private.ready},initrender:function(){return this._private.initrender},registered:function(){return this._private&&null!=this._private.instanceId?!0:!1},registeredId:function(){return this._private.instanceId},getElementById:function(b){var c=this._private.id2index[b];return void 0!==c?this._private.elements[c]:new a.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},addToPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var e=a[d],f=e._private.data.id,g=c[f],h=void 0!==g;h||(g=b.length,b.push(e),c[f]=g,e._private.index=g)}return this},removeFromPool:function(a){for(var b=this._private.elements,c=this._private.id2index,d=0;d<a.length;d++){var e=a[d],f=e._private.data.id,g=c[f],h=void 0!==g;if(h){delete this._private.id2index[f],b.splice(g,1);for(var i=g;i<b.length;i++){var j=b[i]._private.data.id;c[j]--}}}},container:function(){return this._private.options.container},options:function(){return a.util.copy(this._private.options)},json:function(){var a={},b=this;return a.elements={},b.elements().each(function(b,c){var d=c.group();a.elements[d]||(a.elements[d]=[]),a.elements[d].push(c.json())}),a.style=b.style().json(),a.scratch=b.scratch(),a.zoomingEnabled=b._private.zoomingEnabled,a.userZoomingEnabled=b._private.userZoomingEnabled,a.zoom=b._private.zoom,a.minZoom=b._private.minZoom,a.maxZoom=b._private.maxZoom,a.panningEnabled=b._private.panningEnabled,a.userPanningEnabled=b._private.userPanningEnabled,a.pan=b._private.pan,a.boxSelectionEnabled=b._private.boxSelectionEnabled,a.layout=b._private.options.layout,a.renderer=b._private.options.renderer,a.hideEdgesOnViewport=b._private.options.hideEdgesOnViewport,a}})}(cytoscape,"undefined"==typeof window?null:window),function(a,b){function c(a){var b=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?c:a;setTimeout(b,9,a)}a.fn.core({add:function(b){var c,d=this;if(a.is.elementOrCollection(b)){var e=b;if(e._private.cy===d)c=e.restore();else{for(var f=[],g=0;g<e.length;g++){var h=e[g];f.push(h.json())}c=new a.Collection(d,f)}}else if(a.is.array(b)){var f=b;c=new a.Collection(d,f)}else if(a.is.plainObject(b)&&(a.is.array(b.nodes)||a.is.array(b.edges))){for(var i=b,f=[],j=["nodes","edges"],g=0,k=j.length;k>g;g++){var l=j[g],m=i[l];if(a.is.array(m))for(var n=0,o=m.length;o>n;n++){var p=m[n],q=a.util.extend({},p,{group:l});f.push(q)}}c=new a.Collection(d,f)}else{var p=b;c=new a.Element(d,p).collection()}return c},remove:function(b){if(a.is.elementOrCollection(b))b=b;else if(a.is.string(b)){var c=b;b=this.$(c)}return b.remove()},load:function(d,e,f){function g(){h.one("layoutready",function(a){h.notifications(!0),h.trigger(a),h.notify({type:"load",collection:h.elements()}),h.one("load",e),h.trigger("load")}).one("layoutstop",function(){h.one("done",f),h.trigger("done")}),h.layout(h._private.options.layout)}var h=this,i=h.elements();return i.length>0&&i.remove(),h.notifications(!1),null!=d&&(a.is.plainObject(d)||a.is.array(d))&&h.add(d),b?c(g):g(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(a){a.fn.core({addToAnimationPool:function(a){for(var b=this,c=b._private.aniEles,d=[],e=0;e<c.length;e++){var f=c[e]._private.data.id;d[f]=!0}for(var e=0;e<a.length;e++){var g=a[e],f=g._private.data.id;d[f]||c.push(g)}},startAnimationLoop:function(){function b(){function a(){k(function(a){c(a),b()},l)}i?setTimeout(function(){a()},h):a()}function c(b){b=+new Date;for(var c=g._private.aniEles,e=0;e<c.length;e++){var f=c[e],h=f._private.animation.current,i=f._private.animation.queue;if(0===h.length){var j=i,k=j.length>0?j.shift():null;null!=k&&(k.callTime=+new Date,h.push(k))}for(var l=[],m=0;m<h.length;m++){var n=h[m];d(f,n,b),h[m].done&&(l.push(n),h.splice(m,1),m--)}for(var m=0;m<l.length;m++){var n=l[m],o=n.params.complete;a.is.fn(o)&&o.apply(f,[b])}}c.length>0&&g.notify({type:"draw",collection:c});for(var m=0;m<c.length;m++){var f=c[m],i=f._private.animation.queue,h=f._private.animation.current,p=h.length>0||i.length>0;p||(c.splice(m,1),m--)}}function d(b,c,d){var h,i=g._private.style,j=c.properties,k=c.params,l=c.callTime;if(h=0===c.duration?1:Math.min(1,(d-l)/c.duration),0>h?h=0:h>1&&(h=1),null==j.delay){var m=c.startPosition,n=j.position,o=b._private.position;if(n&&(e(m.x,n.x)&&(o.x=f(m.x,n.x,h)),e(m.y,n.y)&&(o.y=f(m.y,n.y,h))),j.css)for(var p=a.style.properties,q=0;q<p.length;q++){var r=p[q].name,s=j.css[r];if(void 0!==s){var t=c.startStyle[r],u=f(t,s,h);i.applyBypass(b,r,u)}}}return a.is.fn(k.step)&&k.step.apply(b,[d]),h>=1&&(c.done=!0),h}function e(b,c){return null==b||null==c?!1:a.is.number(b)&&a.is.number(c)?!0:b&&c?!0:!1}function f(b,c,d){if(0>d?d=0:d>1&&(d=1),a.is.number(b)&&a.is.number(c))return b+(c-b)*d;if(a.is.number(b[0])&&a.is.number(c[0])){var e=b,f=c,g=function(a,b){var c=b-a,e=a;return Math.round(d*c+e)},h=g(e[0],f[0]),i=g(e[1],f[1]),j=g(e[2],f[2]);return"rgb("+h+", "+i+", "+j+")"}return void 0}var g=this,h=1e3/60,i=!1,j=!0;g._private.aniEles=[];var k="undefined"==typeof window?function(){}:window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;null!=k&&j||(k=function(a){window.setTimeout(function(){a(+new Date)},h)});var l=g.container();b()}})}(cytoscape),function(a){a.fn.core({data:a.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:a.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),batchData:a.define.batchData({field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),scratch:a.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:a.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(a){a.fn.core({on:a.define.on(),one:a.define.on({unbindSelfOnTrigger:!0}),once:a.define.on({unbindAllBindersOnTrigger:!0}),off:a.define.off(),trigger:a.define.trigger()}),a.corefn.bind=a.corefn.on,a.corefn.unbind=a.corefn.off}(cytoscape),function(a){a.fn.core({png:function(a){var b=this._private.renderer;return a=a||{},b.png(a)}})}(cytoscape),function(a){a.fn.core({layout:function(a){var b=this;return this._private.layoutRunning?this:(null==a&&(a=this._private.options.layout),this.initLayout(a),b.trigger("layoutstart"),this._private.layoutRunning=!0,this.one("layoutstop",function(){b._private.layoutRunning=!1}),this._private.layout.run(),this)},initLayout:function(b){if(null==b)return void a.util.error("Layout options must be specified to run a layout");if(null==b.name)return void a.util.error("A `name` must be specified to run a layout");var c=b.name,d=a.extension("layout",c);return null==d?void a.util.error("Can not apply layout: No such layout `%s` found; did you include its JS file?",c):(this._private.layout=new d(a.util.extend({},b,{renderer:this._private.renderer,cy:this})),void(this._private.options.layout=b))}})}(cytoscape),function(a){a.fn.core({notify:function(b){if(this._private.notificationsEnabled){var c=this.renderer(),d=this;if(a.is.element(b.collection)){var e=b.collection;b.collection=new a.Collection(d,[e])}else if(a.is.array(b.collection)){var f=b.collection;b.collection=new a.Collection(d,f)}c.notify(b)}},notifications:function(a){var b=this._private;return void 0===a?b.notificationsEnabled:void(b.notificationsEnabled=a?!0:!1)},noNotifications:function(a){this.notifications(!1),a(),this.notifications(!0)}})}(cytoscape),function(a){a.fn.core({renderTo:function(a,b,c){var d=this._private.renderer;return d.renderTo(a,b,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},initRenderer:function(b){var c=this,d=a.extension("renderer",b.name);return null==d?void a.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",b.name):void(this._private.renderer=new d(a.util.extend({},b,{cy:c,style:c._private.style})))},recalculateRenderedStyle:function(){var a=this.renderer();a.recalculateRenderedStyle&&a.recalculateRenderedStyle()}})}(cytoscape),function(a){a.fn.core({collection:function(b){return a.is.string(b)?this.$(b):a.is.elementOrCollection(b)?b.collection():new a.Collection(this)},nodes:function(a){var b=this.$("node");return a?b.filter(a):b},edges:function(a){var b=this.$("edge");return a?b.filter(a):b},$:function(b){var c=new a.Collection(this,this._private.elements);return b?c.filter(b):c}}),a.corefn.elements=a.corefn.filter=a.corefn.$}(cytoscape),function(a){a.fn.core({style:function(){return this._private.style}})}(cytoscape),function(a){a.fn.core({panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=a?!0:!1,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:(this._private.userPanningEnabled=a?!0:!1,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=a?!0:!1,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=a?!0:!1,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=a?!0:!1,this)},pan:function(){var b,c,d,e,f,g=arguments,h=this._private.pan;switch(g.length){case 0:return h;case 1:if(!this._private.panningEnabled)return this;if(a.is.string(g[0]))return b=g[0],h[b];a.is.plainObject(g[0])&&(d=g[0],e=d.x,f=d.y,a.is.number(e)&&(h.x=e),a.is.number(f)&&(h.y=f),this.trigger("pan"));break;case 2:if(!this._private.panningEnabled)return this;b=g[0],c=g[1],"x"!==b&&"y"!==b||!a.is.number(c)||(h[b]=c),this.trigger("pan")}return this.notify({type:"viewport"}),this},panBy:function(){var b,c,d,e,f,g=arguments,h=this._private.pan;if(!this._private.panningEnabled)return this;switch(g.length){case 1:a.is.plainObject(g[0])&&(d=g[0],e=d.x,f=d.y,a.is.number(e)&&(h.x+=e),a.is.number(f)&&(h.y+=f),this.trigger("pan"));break;case 2:b=g[0],c=g[1],"x"!==b&&"y"!==b||!a.is.number(c)||(h[b]+=c),this.trigger("pan")}return this.notify({type:"viewport"}),this},fit:function(b,c){if(a.is.number(b)&&void 0===c&&(c=b,b=void 0),!this._private.panningEnabled||!this._private.zoomingEnabled)return this;if(a.is.string(b)){var d=b;b=this.$(d)}else a.is.elementOrCollection(b)||(b=this.elements());var e,f=b.boundingBox(),g=this.style(),h=parseFloat(g.containerCss("width")),i=parseFloat(g.containerCss("height"));return c=a.is.number(c)?c:0,!isNaN(h)&&!isNaN(i)&&b.length>0&&(e=this._private.zoom=Math.min((h-2*c)/f.w,(i-2*c)/f.h),e=e>this._private.maxZoom?this._private.maxZoom:e,e=e<this._private.minZoom?this._private.minZoom:e,this._private.pan={x:(h-e*(f.x1+f.x2))/2,y:(i-e*(f.y1+f.y2))/2},this.trigger("pan zoom"),this.notify({type:"viewport"})),this},minZoom:function(b){return void 0===b?this._private.minZoom:(a.is.number(b)&&(this._private.minZoom=b),this)},maxZoom:function(b){return void 0===b?this._private.maxZoom:(a.is.number(b)&&(this._private.maxZoom=b),this)},zoom:function(b){var c,d;if(void 0===b)return this._private.zoom;if(a.is.number(b))d=b;else if(a.is.plainObject(b)){if(d=b.level,b.position){var e=b.position,f=this._private.pan,g=this._private.zoom;c={x:e.x*g+f.x,y:e.y*g+f.y}}else b.renderedPosition&&(c=b.renderedPosition);if(c&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!a.is.number(d)||c&&(!a.is.number(c.x)||!a.is.number(c.y)))return this;if(d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d,c){var h=this._private.pan,i=this._private.zoom,j=d,k={x:-j/i*(c.x-h.x)+c.x,y:-j/i*(c.y-h.y)+c.y};this._private.zoom=d,this._private.pan=k;var l=h.x!==k.x||h.y!==k.y;this.trigger("zoom"+(l?" pan":""))}else this._private.zoom=d,this.trigger("zoom");return this.notify({type:"viewport"}),this},boundingBox:function(a){var b=this.$(a);return b.boundingBox()},renderedBoundingBox:function(a){var b=this.$(a);return b.renderedBoundingBox()},center:function(b){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;if(a.is.string(b)){var c=b;b=cy.elements(c)}else a.is.elementOrCollection(b)||(b=cy.elements());var d=b.boundingBox(),e=this.style(),f=parseFloat(e.containerCss("width")),g=parseFloat(e.containerCss("height")),h=this._private.zoom;return this.pan({x:(f-h*(d.x1+d.x2))/2,y:(g-h*(d.y1+d.y2))/2}),this.trigger("pan"),this.notify({type:"viewport"}),this},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.pan({x:0,y:0}),this._private.maxZoom>1&&this._private.minZoom<1&&this.zoom(1),this.notify({type:"viewport"}),this):this}})}(cytoscape),function(a){a.fn.collection=a.fn.eles=function(b){for(var c in b){var d=b[c];a.Collection.prototype[c]=d}};var b={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(b,c,d){var e=a.is.element(c)?c._private:c,f=e.group,g=null!=d?d:this.prefix[f]+this.id[f];if(b.getElementById(g).empty())this.id[f]++;else for(;!b.getElementById(g).empty();)g=this.prefix[f]+ ++this.id[f];return g}};a.Element=function(b,c,d){if(!(this instanceof a.Element))return new a.Element(b,c,d);var e=this;if(d=void 0===d||d?!0:!1,void 0===b||void 0===c||!a.is.core(b))return void a.util.error("An element must have a core reference and parameters set");if("nodes"!==c.group&&"edges"!==c.group)return void a.util.error("An element must be of type `nodes` or `edges`; you specified `"+c.group+"`");if(this.length=1,this[0]=this,this._private={cy:b,single:!0,data:c.data||{},layoutData:{},position:c.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:c.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:c.selected?!0:!1,selectable:void 0===c.selectable?!0:c.selectable?!0:!1,locked:c.locked?!0:!1,grabbed:!1,grabbable:void 0===c.grabbable?!0:c.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:{},edges:[],children:[]},c.renderedPosition){var f=c.renderedPosition,g=b.pan(),h=b.zoom();this._private.position={x:(f.x-g.x)/h,y:(f.y-g.y)/h}}if(a.is.string(c.classes))for(var i=c.classes.split(/\s+/),j=0,k=i.length;k>j;j++){var l=i[j];l&&""!==l&&(e._private.classes[l]=!0)}c.css&&b.style().applyBypass(this,c.css),(void 0===d||d)&&this.restore()},a.Collection=function(c,d){if(!(this instanceof a.Collection))return new a.Collection(c,d);if(void 0===c||!a.is.core(c))return void a.util.error("A collection must have a reference to the core");var e={},f=[],g=!1;if(d){if(d.length>0&&a.is.plainObject(d[0])&&!a.is.element(d[0])){g=!0;for(var h=[],i={},j=0,k=d.length;k>j;j++){var l=d[j];null==l.data&&(l.data={});var m=l.data;if(null==m.id)m.id=b.generate(c,l);else if(0!=c.getElementById(m.id).length||i[m.id])continue;var n=new a.Element(c,l,!1);h.push(n),i[m.id]=!0}d=h}}else d=[];for(var j=0,k=d.length;k>j;j++){var o=d[j];if(o){var p=o._private.data.id;e[p]||(e[p]=o,f.push(o))}}for(var j=0,k=f.length;k>j;j++)this[j]=f[j];this.length=f.length,this._private={cy:c,ids:e},g&&this.restore()},a.elefn=a.elesfn=a.Element.prototype=a.Collection.prototype,a.elesfn.cy=function(){return this._private.cy},a.elesfn.element=function(){return this[0]},a.elesfn.collection=function(){return a.is.collection(this)?this:new a.Collection(this._private.cy,[this])},a.elesfn.json=function(){var b=this.element();if(null==b)return void 0;var c=b._private,d=a.util.copy({data:c.data,position:c.position,group:c.group,bypass:c.bypass,removed:c.removed,selected:c.selected,selectable:c.selectable,locked:c.locked,grabbed:c.grabbed,grabbable:c.grabbable,classes:""}),e=[];for(var f in c.classes)e.push(f);for(var g=0;g<e.length;g++){var f=e[g];d.classes+=f+(g<e.length-1?" ":"")}return d},a.elesfn.jsons=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b],d=c.json();a.push(d)}return a},a.elesfn.restore=function(c){var d=this,e=[],f=d.cy();void 0===c&&(c=!0);for(var g=[],h=[],i=[],j=0,k=0,l=0,m=d.length;m>l;l++){var n=d[l];n.isNode()?(h.push(n),j++):(i.push(n),k++)}g=h.concat(i);for(var l=0,m=g.length;m>l;l++){var n=g[l];if(n.removed()){var o=n._private,p=o.data;if(void 0===p.id)p.id=b.generate(f,n);else{if(a.is.emptyString(p.id)||!a.is.string(p.id)){a.util.error("Can not create element with invalid string ID `"+p.id+"`");continue}if(0!=f.getElementById(p.id).length){a.util.error("Can not create second element with ID `"+p.id+"`");continue}}if(p.id,n.isEdge()){for(var q=n,r=["source","target"],s=r.length,t=!1,u=0;s>u;u++){var v=r[u],w=p[v];null==w||""===w?(a.util.error("Can not create edge `"+p.id+"` with unspecified "+v),t=!0):f.getElementById(w).empty()&&(a.util.error("Can not create edge `"+p.id+"` with nonexistant "+v+" `"+w+"`"),t=!0)}if(t)continue;var x=f.getElementById(p.source),y=f.getElementById(p.target);x._private.edges.push(q),y._private.edges.push(q)}o.ids={},o.ids[p.id]=n,o.removed=!1,f.addToPool(n),e.push(n)}}for(var l=0;j>l;l++){var z=g[l],p=z._private.data,A=(p.id,z._private.data.parent),B=null!=A;if(B){var C=f.getElementById(A);if(C.empty())delete p.parent;else{for(var D=!1,E=C;!E.empty();){if(z.same(E)){D=!0,delete p.parent;break}E=E.parent()}D||(C[0]._private.children.push(z),f._private.hasCompoundNodes=!0)}}}if(e=new a.Collection(f,e),e.length>0){var F=e.add(e.connectedNodes()).add(e.parent());F.updateStyle(c),c?e.rtrigger("add"):e.trigger("add")}return d},a.elesfn.removed=function(){var a=this[0];return a&&a._private.removed},a.elesfn.inside=function(){var a=this[0];return a&&!a._private.removed},a.elesfn.remove=function(b){function c(a){for(var b=a._private.edges,c=0;c<b.length;c++)e(b[c])}function d(a){for(var b=a._private.children,c=0;c<b.length;c++)e(b[c])}function e(a){var b=k[a.id()];b||(k[a.id()]=!0,a.isNode()?(j.push(a),c(a),d(a)):j.unshift(a))}function f(a,b){for(var c=a._private.edges,d=0;d<c.length;d++){var e=c[d];if(b===e){c.splice(d,1);break}}}function g(a,b){b=b[0],a=a[0];for(var c=a._private.children,d=0;d<c.length;d++)if(c[d][0]===b[0]){c.splice(d,1);break}}var h=this,i=[],j=[],k={},l=h._private.cy;void 0===b&&(b=!0);for(var m=0,n=h.length;n>m;m++){var o=h[m];e(o)}for(var m=0;m<j.length;m++){var o=j[m];if(o._private.removed=!0,l.removeFromPool(o),i.push(o),o.isEdge()){var p=o.source()[0],q=o.target()[0];f(p,o),f(q,o)}else{var r=o.parent();0!==r.length&&g(r,o)}}var s=l._private.elements;l._private.hasCompoundNodes=!1;for(var m=0;m<s.length;m++){var o=s[m];if(o.isParent()){l._private.hasCompoundNodes=!0;break}}var t=new a.Collection(this.cy(),i);t.size()>0&&(b&&this.cy().notify({type:"remove",collection:t}),t.trigger("remove"));for(var u={},m=0;m<j.length;m++){var o=j[m],v="nodes"===o._private.group,w=o._private.data.parent;if(v&&void 0!==w&&!u[w]){u[w]=!0;var r=l.getElementById(w);r&&0!==r.length&&!r._private.removed&&0===r.children().length&&r.updateStyle()}}return this}}(cytoscape),function(a){a.fn.eles({animated:function(){var a=this[0];return a?a._private.animation.current.length>0:void 0},clearQueue:function(){for(var a=0;a<this.length;a++){var b=this[a];b._private.animation.queue=[]}return this},delay:function(a,b){return this.animate({delay:a},{duration:a,complete:b}),this},animate:function(a,b){var c,d=+new Date,e=this._private.cy,f=e.style();switch(void 0===b&&(b={}),void 0===b.duration&&(b.duration=400),b.duration){case"slow":b.duration=600;break;case"fast":b.duration=200}if(null==a||null==a.position&&null==a.renderedPosition&&null==a.css&&null==a.delay)return this;if(a.css&&(a.css=f.getValueStyle(a.css)),a.renderedPosition){var g=a.renderedPosition,h=e.pan(),i=e.zoom();a.position={x:(g.x-h.x)/i,y:(g.y-h.y)/i}}for(var j=0;j<this.length;j++){var k=this[j],l=k._private.position,m={x:l.x,y:l.y},n=f.getValueStyle(k);c=k.animated()&&(void 0===b.queue||b.queue)?k._private.animation.queue:k._private.animation.current,c.push({properties:a,duration:b.duration,params:b,callTime:d,startPosition:m,startStyle:n})}return e.addToAnimationPool(this),this},stop:function(a,b){for(var c=0;c<this.length;c++){for(var d=this[c],e=d._private.animation.current,f=0;f<e.length;f++){var g=e[f];b&&(g.duration=0)}a&&(d._private.animation.queue=[])}return this.cy().notify({collection:this,type:"draw"}),this}})}(cytoscape),function(a){a.fn.eles({addClass:function(b){b=b.split(/\s+/);for(var c=this,d=[],e=0;e<b.length;e++){var f=b[e];if(!a.is.emptyString(f))for(var g=0;g<c.length;g++){var h=c[g],i=h._private.classes[f];h._private.classes[f]=!0,i||d.push(h)}}return d.length>0&&new a.Collection(this._private.cy,d).updateStyle(),c.trigger("class"),c},hasClass:function(a){var b=this[0];return null!=b&&b._private.classes[a]?!0:!1},toggleClass:function(b,c){for(var d=b.split(/\s+/),e=this,f=[],g=0,h=e.length;h>g;g++)for(var i=e[g],j=0;j<d.length;j++){var k=d[j];if(!a.is.emptyString(k)){var l=i._private.classes[k],m=c||void 0===c&&!l;m?(i._private.classes[k]=!0,l||f.push(i)):(i._private.classes[k]=!1,l&&f.push(i))}}return f.length>0&&new a.Collection(this._private.cy,f).updateStyle(),e.trigger("class"),e},removeClass:function(b){b=b.split(/\s+/);for(var c=this,d=[],e=0;e<c.length;e++)for(var f=c[e],g=0;g<b.length;g++){var h=b[g];if(h&&""!==h){var i=f._private.classes[h];delete f._private.classes[h],i&&d.push(f)}}return d.length>0&&new a.Collection(c._private.cy,d).updateStyle(),c.trigger("class"),c}})}(cytoscape),function(a){a.fn.eles({allAre:function(a){return this.filter(a).length===this.length},is:function(a){return this.filter(a).length>0},same:function(a){return a=this.cy().collection(a),this.length!==a.length?!1:this.intersect(a).length===this.length},anySame:function(a){return a=this.cy().collection(a),this.intersect(a).length>0},allAreNeighbors:function(a){return a=this.cy().collection(a),this.neighborhood().intersect(a).length===a.length}})}(cytoscape),function(a){var b=1,c=0;a.fn.eles({data:a.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),removeData:a.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),batchData:a.define.batchData({field:"data",event:"data",triggerFnName:"trigger",immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateMappers:!0}),scratch:a.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:a.define.removeData({field:"scratch",triggerEvent:!1}),rscratch:a.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:a.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var a=this[0];return a?a._private.data.id:void 0},position:a.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){var b=a.updateCompoundBounds();b.rtrigger("position")},canSet:function(a){return!a.locked()}}),silentPosition:a.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){a.updateCompoundBounds()},canSet:function(a){return!a.locked()}}),positions:function(b){if(a.is.plainObject(b))this.position(b);else if(a.is.fn(b)){for(var c=b,d=0;d<this.length;d++){var e=this[d],b=c.apply(e,[d,e]);if(b&&!e.locked()){var f=e._private.position;f.x=b.x,f.y=b.y}}var g=this.updateCompoundBounds();this.add(g).rtrigger("position")}return this},updateCompoundBounds:function(){function b(a){var b=a.children(),c=a._private.style,e=b.boundingBox({includeLabels:!1,includeEdges:!1}),f={top:c["padding-top"].pxValue,bottom:c["padding-bottom"].pxValue,left:c["padding-left"].pxValue,right:c["padding-right"].pxValue},g=a._private.position,h=!1;"auto"===c.width.value&&(a._private.autoWidth=e.w+f.left+f.right,g.x=(e.x1+e.x2-f.left+f.right)/2,h=!0),"auto"===c.height.value&&(a._private.autoHeight=e.h+f.top+f.bottom,g.y=(e.y1+e.y2-f.top+f.bottom)/2,h=!0),h&&d.push(a)}var c=this.cy();if(!c.hasCompoundNodes())return c.collection();for(var d=[],e=this.parent();e.nonempty();){for(var f=0;f<e.length;f++){var g=e[f];b(g)}e=e.parent()}return new a.Collection(c,d)},renderedPosition:function(b,c){var d=this[0],e=this.cy(),f=e.zoom(),g=e.pan(),h=a.is.plainObject(b)?b:void 0,i=void 0!==h||void 0!==c&&a.is.string(b);if(d&&d.isNode()){if(!i){var j=d._private.position;return h={x:j.x*f+g.x,y:j.y*f+g.y},void 0===b?h:h[b]}for(var k=0;k<this.length;k++){var d=this[k];void 0!==c?d._private.position[b]=(c-g[b])/f:void 0!==h&&(d._private.position={x:(h.x-g.x)/f,y:(h.y-g.y)/f})}this.rtrigger("position")}else if(!i)return void 0;return this},width:function(){var a=this[0];if(a){var b=a._private.style.width;return"auto"===b.strValue?a._private.autoWidth:b.pxValue}},outerWidth:function(){var a=this[0];if(a){var d=a._private.style,e="auto"===d.width.strValue?a._private.autoWidth:d.width.pxValue,f=d["border-width"]?d["border-width"].pxValue*b+c:0;return e+f}},renderedWidth:function(){var a=this[0];if(a){var b=a.width();return b*this.cy().zoom()}},renderedOuterWidth:function(){var a=this[0];if(a){var b=a.outerWidth();return b*this.cy().zoom()
}},height:function(){var a=this[0];if(a&&a.isNode()){var b=a._private.style.height;return"auto"===b.strValue?a._private.autoHeight:b.pxValue}},outerHeight:function(){var a=this[0];if(a){var d=a._private.style,e="auto"===d.height.strValue?a._private.autoHeight:d.height.pxValue,f=d["border-width"]?d["border-width"].pxValue*b+c:0;return e+f}},renderedHeight:function(){var a=this[0];if(a){var b=a.height();return b*this.cy().zoom()}},renderedOuterHeight:function(){var a=this[0];if(a){var b=a.outerHeight();return b*this.cy().zoom()}},renderedBoundingBox:function(a){var b=this.boundingBox(a),c=this.cy(),d=c.zoom(),e=c.pan(),f=b.x1*d+e.x,g=b.x2*d+e.x,h=b.y1*d+e.y,i=b.y2*d+e.y;return{x1:f,x2:g,y1:h,y2:i,w:g-f,h:i-h}},boundingBox:function(b){var c=this;b=a.util.extend({includeNodes:!0,includeEdges:!0,includeLabels:!0},b),this.cy().recalculateRenderedStyle();for(var d=1/0,e=-1/0,f=1/0,g=-1/0,h=0;h<c.length;h++){var i,j,k,l,m,n,o=c[h],p=!1;if("none"!==o.css("display")){if(o.isNode()&&b.includeNodes){p=!0;var q=o._private.position;m=q.x,n=q.y;var r=o.outerWidth(),s=r/2,t=o.outerHeight(),u=t/2;i=m-s,j=m+s,k=n-u,l=n+u,d=d>i?i:d,e=j>e?j:e,f=f>k?k:f,g=l>g?l:g}else if(o.isEdge()&&b.includeEdges){p=!0;var v=o.source()[0]._private.position,w=o.target()[0]._private.position,x=o._private.rstyle||{};if(i=v.x,j=w.x,k=v.y,l=w.y,i>j){var y=i;i=j,j=y}if(k>l){var y=k;k=l,l=y}d=d>i?i:d,e=j>e?j:e,f=f>k?k:f,g=l>g?l:g;for(var z=x.bezierPts||[],r=o._private.style.width.pxValue,A=0;A<z.length;A++){var B=z[A];d=B.x-r<d?B.x-r:d,e=B.x+r>e?B.x+r:e,f=B.y-r<f?B.y-r:f,g=B.y+r>g?B.y+r:g}}var C=o._private.style,x=o._private.rstyle,D=C.content.strValue,E=C["font-size"],F=C["text-halign"],G=C["text-valign"],H=x.labelWidth,I=x.labelHeight||E.pxValue,J=x.labelX,K=x.labelY;if(p&&b.includeLabels&&D&&E&&void 0!=I&&void 0!=H&&void 0!=J&&void 0!=K&&F&&G){var L,M,N,O,P=I,Q=H;if(o.isEdge())L=J-Q/2,M=J+Q/2,N=K-P/2,O=K+P/2;else{switch(F.value){case"left":L=J-Q,M=J;break;case"center":L=J-Q/2,M=J+Q/2;break;case"right":L=J,M=J+Q}switch(G.value){case"top":N=K-P,O=K;break;case"center":N=K-P/2,O=K+P/2;break;case"bottom":N=K,O=K+P}}d=d>L?L:d,e=M>e?M:e,f=f>N?N:f,g=O>g?O:g}}}return{x1:d,x2:e,y1:f,y2:g,w:e-d,h:g-f}}})}(cytoscape),function(a){function b(a){return function(){var b=this;if(0!==b.length&&b.isNode()&&!b.removed()){for(var c=0,d=b[0],e=d._private.edges,f=0;f<e.length;f++){var g=e[f];c+=a(d,g)}return c}}}function c(a,b){return function(){for(var c=void 0,d=this.nodes(),e=0;e<d.length;e++){var f=d[e],g=f[a]();void 0===g||void 0!==c&&!b(g,c)||(c=g)}return c}}a.fn.eles({degree:b(function(a,b){return b.source().same(b.target())?2:1}),indegree:b(function(a,b){return b.target().same(a)?1:0}),outdegree:b(function(a,b){return b.source().same(a)?1:0})}),a.fn.eles({minDegree:c("degree",function(a,b){return b>a}),maxDegree:c("degree",function(a,b){return a>b}),minIndegree:c("indegree",function(a,b){return b>a}),maxIndegree:c("indegree",function(a,b){return a>b}),minOutdegree:c("outdegree",function(a,b){return b>a}),maxOutdegree:c("outdegree",function(a,b){return a>b})}),a.fn.eles({totalDegree:function(){for(var a=0,b=this.nodes(),c=0;c<b.length;c++)a+=b[c].degree();return a}})}(cytoscape),function(a){a.fn.eles({on:a.define.on(),one:a.define.on({unbindSelfOnTrigger:!0}),once:a.define.on({unbindAllBindersOnTrigger:!0}),off:a.define.off(),trigger:a.define.trigger(),rtrigger:function(a,b){return 0!==this.length?(this.cy().notify({type:a,collection:this.filter(function(){return!this.removed()})}),this.trigger(a,b),this):void 0}}),a.elesfn.bind=a.elesfn.on,a.elesfn.unbind=a.elesfn.off}(cytoscape),function(a){a.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},group:function(){var a=this[0];return a?a._private.group:void 0}})}(cytoscape),function(a){a.fn.eles({each:function(b){if(a.is.fn(b))for(var c=0;c<this.length;c++){var d=this[c],e=b.apply(d,[c,d]);if(e===!1)break}return this},toArray:function(){for(var a=[],b=0;b<this.length;b++)a.push(this[b]);return a},slice:function(b,c){var d=[],e=this.length;null==c&&(c=e),null==b&&(b=0),0>b&&(b=e+b),0>c&&(c=e+c);for(var f=b;f>=0&&c>f&&e>f;f++)d.push(this[f]);return new a.Collection(this.cy(),d)},size:function(){return this.length},eq:function(a){return this[a]},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(b){if(!a.is.fn(b))return this;var c=this.cy(),d=(new a.Collection(c),this.toArray().sort(b));return new a.Collection(c,d)},sortByZIndex:function(){return this.sort(a.Collection.zIndexSort)}}),a.Collection.zIndexSort=function(a,b){var c=function(a){return"nodes"==a._private.group?a.parents().size():"edges"==a._private.group?Math.max(a.source()[0].parents().size(),a.target()[0].parents().size()):0},d=a._private.style["z-index"].value-b._private.style["z-index"].value,e=0,f=0;return a.cy().hasCompoundNodes()&&(e=c(a),f=c(b)),e-f===0?"nodes"===a._private.group&&"edges"===b._private.group?1:"edges"===a._private.group&&"nodes"===b._private.group?-1:0===d?a._private.index-b._private.index:d:e-f}}(cytoscape),function(a){a.fn.eles({updateStyle:function(a){var b=this._private.cy,c=b.style();a=a||void 0===a?!0:!1,c.apply(this);var d=this.updateCompoundBounds();return a?this.add(d).rtrigger("style"):this.add(d).trigger("style"),this},updateMappers:function(a){var b=this._private.cy,c=b.style();a=a||void 0===a?!0:!1,c.updateMappers(this);var d=this.updateCompoundBounds();return a?this.add(d).rtrigger("style"):this.add(d).trigger("style"),this},renderedCss:function(a){var b=this[0];if(b){var c=b.cy().style().getRenderedStyle(b);return void 0===a?c:c[a]}},css:function(b,c){var d=this.cy().style();if(a.is.plainObject(b)){var e=b;d.applyBypass(this,e),this.rtrigger("style")}else if(a.is.string(b)){if(void 0===c){var f=this[0];return f?f._private.style[b].strValue:void 0}d.applyBypass(this,b,c),this.rtrigger("style")}else if(void 0===b){var f=this[0];return f?d.getRawStyle(f):void 0}return this},removeCss:function(){for(var a=this.cy().style(),b=this,c=0;c<b.length;c++){var d=b[c];a.removeAllBypasses(d)}this.rtrigger("style")},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var a=this[0];if(a){if("visible"!==a.css("visibility")||"element"!==a.css("display"))return!1;if(a.isNode()){for(var b=a.parents(),c=0;c<b.length;c++){var d=b[c],e=d.css("visibility"),f=d.css("display");if(parseFloat(d.css("opacity")),"visible"!==e||"element"!==f)return!1}return!0}if(a.isEdge()){var g=a.source(),h=a.target();return g.visible()&&h.visible()}}},hidden:function(){var a=this[0];return a?!a.visible():void 0},effectiveOpacity:function(){var a=this[0];if(a){for(var b=a._private.style.opacity.value,c=a.parents(),d=0;d<c.length;d++){var e=c[d],f=e._private.style.opacity.value;b=f*b}return b}},transparent:function(){var a=this[0];return a?0===a.effectiveOpacity():void 0},isFullAutoParent:function(){var a=this[0];if(a){var b="auto"===a._private.style.width.value,c="auto"===a._private.style.height.value;return a.isParent()&&b&&c}}}),a.elesfn.style=a.elesfn.css,a.elesfn.renderedStyle=a.elesfn.renderedCss,a.elesfn.removeStyle=a.elesfn.removeCss}(cytoscape),function(a){function b(a){return function(){var b=arguments;if(2===b.length){var c=b[0],d=b[1];this.bind(a.event,c,d)}else if(1===b.length){var d=b[0];this.bind(a.event,d)}else if(0===b.length){for(var e=0;e<this.length;e++){var f=this[e];(!a.ableField||f._private[a.ableField])&&(f._private[a.field]=a.value)}this.updateStyle(),this.trigger(a.event)}return this}}function c(c){a.elesfn[c.field]=function(){var a=this[0];return a?a._private[c.field]:void 0},a.elesfn[c.on]=b({event:c.on,field:c.field,ableField:c.ableField,value:!0}),a.elesfn[c.off]=b({event:c.off,field:c.field,ableField:c.ableField,value:!1})}c({field:"locked",on:"lock",off:"unlock"}),c({field:"grabbable",on:"grabify",off:"ungrabify"}),c({field:"selected",ableField:"selectable",on:"select",off:"unselect"}),c({field:"selectable",on:"selectify",off:"unselectify"}),a.elesfn.grabbed=function(){var a=this[0];return a?a._private.grabbed:void 0},c({field:"active",on:"activate",off:"unactivate"}),a.elesfn.inactive=function(){var a=this[0];return a?!a._private.active:void 0}}(cytoscape),function(a){function b(b){return function(c){for(var d=[],e=this.edges(),f=this._private.cy,g=0;g<e.length;g++){var h=e[g],i=h._private.data[b.attr],j=f.getElementById(i);j.length>0&&d.push(j)}return new a.Collection(f,d).filter(c)}}function c(b){return function(c){var d=[],e=this._private.cy,f=b||{};a.is.string(c)&&(c=e.$(c));for(var g=c.connectedEdges(),h=this._private.ids,i=0;i<g.length;i++){var j,k=g[i],l=k._private.data;if(f.thisIs){var m=l[f.thisIs];j=h[m]}else j=h[l.source]||h[l.target];j&&d.push(k)}return new a.Collection(e,d)}}function d(b){var c={codirected:!1};return b=a.util.extend({},c,b),function(c){for(var d=this._private.cy,e=[],f=this.edges(),g=b,h=0;h<f.length;h++)for(var i=f[h],j=i.source()[0],k=j.id(),l=i.target()[0],m=l.id(),n=j._private.edges,o=0;o<n.length;o++){var p=n[o],q=p._private.data,r=q.target,s=q.source,t=r===m&&s===k,u=k===r&&m===s;(g.codirected&&t||!g.codirected&&(t||u))&&e.push(p)}return new a.Collection(d,e).filter(c)}}a.fn.eles({nodes:function(a){return this.filter(function(a,b){return b.isNode()}).filter(a)},edges:function(a){return this.filter(function(a,b){return b.isEdge()}).filter(a)},filter:function(b){var c=this._private.cy;if(a.is.fn(b)){for(var d=[],e=0;e<this.length;e++){var f=this[e];b.apply(f,[e,f])&&d.push(f)}return new a.Collection(c,d)}return a.is.string(b)||a.is.elementOrCollection(b)?new a.Selector(b).filter(this):void 0===b?this:new a.Collection(c)},not:function(b){var c=this._private.cy;if(b){a.is.string(b)&&(b=this.filter(b));for(var d=[],e=0;e<this.length;e++){var f=this[e],g=b._private.ids[f.id()];g||d.push(f)}return new a.Collection(c,d)}return this},intersect:function(b){var c=this._private.cy;if(a.is.string(b)){var d=b;return this.filter(d)}var e=[],f=this,g=b,h=this.length<b.length,i=h?f._private.ids:g._private.ids,j=h?g._private.ids:f._private.ids;for(var k in i){var l=j[k];l&&e.push(l)}return new a.Collection(c,e)},add:function(b){function c(a){a&&(h[a.id()]||(g.push(a),h[a.id()]=!0))}var d=this,e=this._private.cy;if(!b)return this;if(a.is.string(b)){var f=b;b=e.elements(f)}for(var g=[],h={},i=0;i<d.length;i++){var j=d[i];c(j)}for(var i=0;i<b.length;i++){var j=b[i];c(j)}return new a.Collection(e,g)}}),a.fn.eles({breadthFirstSearch:function(b,c){b=b||function(){};for(var d=this._private.cy,e=this,f=[],g={},h={},i={},j=[],k=0;k<e.length;k++)e[k].isNode()&&(f.unshift(e[k]),g[e[k].id()]=!0,h[e[k].id()]=0,j.push(e[k]));for(k=0;0!==f.length;){for(var l=f.shift(),m=0,n=i[l.id()];n;)m++,n=i[n];h[l.id()]=m;var o=b.call(l,k,m);if(k++,o===!0)return new a.Collection(d,[l]);if(o===!1)break;for(var p=l.connectedEdges(c?'[source = "'+l.id()+'"]':void 0),q=0;q<p.length;q++){var r=p[q],s=r.connectedNodes('[id != "'+l.id()+'"]');0!==s.length&&(s=s[0],g[s.id()]||(g[s.id()]=!0,f.unshift(s),i[s.id()]=l.id(),j.push(s),j.push(r)))}}return new a.Collection(d,j)},depthFirstSearch:function(b,c){function d(a){var b=a.id();return i[b]||j[b]||k[b]||l[b]}b=b||function(){};for(var e=this._private.cy,f=this,g=[],h=[],i={},j={},k={},l={},m={},n=0;n<f.length;n++)f[n].isNode()&&(g.push(f[n]),h[f[n].id()]=!0);for(;0!==g.length;){var o=g[g.length-1],p=b.call(o),q=!1;if(p===!0)return new a.Collection(e,[o]);for(var r=o.connectedEdges(c?'[source = "'+o.id()+'"]':void 0),n=0;n<r.length;n++){var s=r[n];if(!d(s)){var t=s.connectedNodes('[id != "'+o.id()+'"]');if(0!==t.length){t=t[0];var u=t.id();if(!h[u]&&!m[u]){l[u]=!0,h[u]=!0,g.push(t),q=!0;break}h[u]?j[u]=!0:k[u]=!0}}}q||(m[o.id()]=!0,g.pop())}},roots:function(b){for(var c=this,d=[],e=0;e<c.length;e++){var f=c[e];if(f.isNode()){var g=f.connectedEdges('[target = "'+f.id()+'"][source != "'+f.id()+'"]').length>0;g||d.push(f)}}return new a.Collection(this._private.cy,d).filter(b)},kruskal:function(b){function c(a){for(var b=0;b<e.length;b++){var c=e[b];if(c.anySame(a))return{eles:c,index:b}}}b=b||function(){return 1};for(var d=new a.Collection(this._private.cy,[]),e=[],f=this.nodes(),g=0;g<f.length;g++)e.push(f[g].collection());for(var h=this.edges(),i=h.toArray().sort(function(a,c){var d=b.call(a),e=b.call(c);return d-e}),g=0;g<i.length;g++){var j=i[g],k=j.source()[0],l=j.target()[0],m=c(k),n=c(l);m.eles!==n.eles&&(d=d.add(j),e[m.index]=m.eles.add(n.eles),e.splice(n.index,1))}return f.add(d)},dijkstra:function(b,c,d){var e=this._private.cy;if(d=a.is.fn(c)?d:c,d=void 0===d||d,c=a.is.fn(c)?c:function(){return 1},0===this.length||!b||!a.is.elementOrCollection(b)||0===b.length)return new a.Collection(e,[]);var f=this[0];b=b[0];for(var g={},h={},i=e.nodes(),j=0;j<i.length;j++)g[i[j].id()]=1/0;g[f.id()]=0;for(var k=i,l=function(a){var b,c=1/0;for(var d in g)g[d]<c&&0!==a.$("#"+d).length&&(c=g[d],b=d);return b},m=function(a,b){for(var d,e=a.edgesWith(b),f=1/0,g=0;g<e.length;g++){var h=e[g],i=c.call(h);f>i&&(f=i,d=h)}return{edge:d,dist:f}};0!==k.length;){var n=l(k),o=k.filter("#"+n);if(0!==o.length){if(k=k.not(o),o.same(b))break;if(g[n]===Math.Infinite)break;for(var p=o.neighborhood().nodes(),j=0;j<p.length;j++){var q=p[j],r=q.id(),s=m(o,q),t=g[n]+s.dist;t<g[r]&&(g[r]=t,h[r]={node:q,edge:s.edge})}}}}}),a.elesfn.bfs=a.elesfn.breadthFirstSearch,a.elesfn.dfs=a.elesfn.depthFirstSearch,a.fn.eles({neighborhood:function(b){for(var c=[],d=this._private.cy,e=this.nodes(),f=0;f<e.length;f++)for(var g=e[f],h=g.connectedEdges(),i=0;i<h.length;i++){var j=h[i],k=j.connectedNodes().not(g);k.length>0&&c.push(k[0]),c.push(j[0])}return new a.Collection(d,c).filter(b)},closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}}),a.fn.eles({source:b({attr:"source"}),target:b({attr:"target"})}),a.fn.eles({edgesWith:c(),edgesTo:c({thisIs:"source"})}),a.fn.eles({connectedEdges:function(b){for(var c=[],d=this._private.cy,e=this,f=0;f<e.length;f++){var g=e[f];if(g.isNode())for(var h=g._private.edges,i=0;i<h.length;i++){var j=h[i];c.push(j)}}return new a.Collection(d,c).filter(b)},connectedNodes:function(b){for(var c=[],d=this._private.cy,e=this,f=0;f<e.length;f++){var g=e[f];g.isEdge()&&(c.push(g.source()[0]),c.push(g.target()[0]))}return new a.Collection(d,c).filter(b)},parallelEdges:d(),codirectedEdges:d({codirected:!0})}),a.fn.eles({parent:function(b){for(var c=[],d=this._private.cy,e=0;e<this.length;e++){var f=this[e],g=d.getElementById(f._private.data.parent);g.size()>0&&c.push(g)}return new a.Collection(d,c).filter(b)},parents:function(b){for(var c=[],d=this.parent();d.nonempty();){for(var e=0;e<d.length;e++){var f=d[e];c.push(f)}d=d.parent()}return new a.Collection(this.cy(),c).filter(b)},children:function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d];c=c.concat(e._private.children)}return new a.Collection(this.cy(),c).filter(b)},siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];return a?0!==a._private.children.length:void 0},isChild:function(){var a=this[0];return a?void 0!==a._private.data.parent&&0!==a.parent().length:void 0},descendants:function(b){function c(a){for(var b=0;b<a.length;b++){var e=a[b];d.push(e),e.children().nonempty()&&c(e.children())}}var d=[];return c(this.children()),new a.Collection(this.cy(),d).filter(b)}}),a.fn.eles.ancestors=a.fn.eles.parents}(cytoscape),function(a){function b(){}b.prototype.notify=function(){},a("renderer","null",b)}(cytoscape),function(a){function b(a){b.CANVAS_LAYERS=5,b.SELECT_BOX=0,b.DRAG=2,b.NODE=4,b.BUFFER_COUNT=2,this.options=a,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:a.cy,container:a.cy.container(),canvases:new Array(b.CANVAS_LAYERS),canvasNeedsRedraw:new Array(b.CANVAS_LAYERS),bufferCanvases:new Array(b.BUFFER_COUNT)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.bindings=[],this.data.canvasContainer=document.createElement("div");var c=this.data.canvasContainer.style;c.position="absolute",c.zIndex="0",this.data.container.appendChild(this.data.canvasContainer);for(var d=0;d<b.CANVAS_LAYERS;d++)this.data.canvases[d]=document.createElement("canvas"),this.data.canvases[d].style.position="absolute",this.data.canvases[d].setAttribute("data-id","layer"+d),this.data.canvases[d].style.zIndex=String(b.CANVAS_LAYERS-d),this.data.canvasContainer.appendChild(this.data.canvases[d]),this.data.canvasNeedsRedraw[d]=!1;this.data.canvases[b.NODE].setAttribute("data-id","layer"+b.NODE+"-node"),this.data.canvases[b.SELECT_BOX].setAttribute("data-id","layer"+b.SELECT_BOX+"-selectbox"),this.data.canvases[b.DRAG].setAttribute("data-id","layer"+b.DRAG+"-drag");for(var d=0;d<b.BUFFER_COUNT;d++)this.data.bufferCanvases[d]=document.createElement("canvas"),this.data.bufferCanvases[d].style.position="absolute",this.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),this.data.bufferCanvases[d].style.zIndex=String(-d-1),this.data.bufferCanvases[d].style.visibility="hidden",this.data.canvasContainer.appendChild(this.data.bufferCanvases[d]);this.hideEdgesOnViewport=a.hideEdgesOnViewport,this.load()}b.panOrBoxSelectDelay=400,b.isTouch=a.is.touch(),b.prototype.notify=function(a){switch(a.type){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}this.data.canvasNeedsRedraw[b.DRAG]=!0,this.data.canvasNeedsRedraw[b.NODE]=!0,this.redraw()},b.prototype.destroy=function(){this.destroyed=!0;for(var a=0;a<this.bindings.length;a++){var b=this.bindings[a],c=b;c.target.removeEventListener(c.event,c.handler,c.useCapture)}};for(var c in a.math)b.prototype[c]=a.math[c];a("renderer","canvas",b)}(cytoscape),function(a){var b=a("renderer","canvas"),c=b.prototype,d=b.arrowShapes={};b.arrowShapeHeight=.3,d.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(b,c,e,f,g,h,i,j){var k=d.arrow._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.arrow._farthestPointSqDistance&&(d.arrow._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.arrow._points)),a.math.checkInBoundingCircle(b,c,d.arrow._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.arrow._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.triangle=d.arrow,d.none={collide:function(){return!1},roughCollide:function(){return!1},draw:function(){},spacing:function(){return 0},gap:function(){return 0}},d.circle={_baseRadius:.15,collide:function(a,b,c,e,f,g,h,i){if(f!=g){var j=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1])),k=(Math.cos(-j),Math.sin(-j),(g+i)/(f+i));return b/=k,e/=k,Math.pow(c-a,2)+Math.pow(e-b,2)<=Math.pow((f+i)*d.circle._baseRadius,2)}return Math.pow(c-a,2)+Math.pow(e-b,2)<=Math.pow((f+i)*d.circle._baseRadius,2)},roughCollide:function(){return!0},draw:function(a){a.arc(0,0,d.circle._baseRadius,0,2*Math.PI,!1)},spacing:function(a){return c.getArrowWidth(a._private.style.width.pxValue)*d.circle._baseRadius},gap:function(a){return 2*a._private.style.width.pxValue}},d.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(b,c,e,f,g,h,i,j){var k=d.inhibitor._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.inhibitor._farthestPointSqDistance&&(d.inhibitor._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.inhibitor._points)),a.math.checkInBoundingCircle(b,c,d.inhibitor._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.inhibitor._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 4},gap:function(){return 4}},d.square={_points:[-.12,0,.12,0,.12,-.24,-.12,-.24],collide:function(b,c,e,f,g,h,i,j){var k=d.square._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.square._farthestPointSqDistance&&(d.square._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.square._points)),a.math.checkInBoundingCircle(b,c,d.square._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){for(var b=d.square._points,c=0;c<b.length/2;c++)a.lineTo(b[2*c],b[2*c+1])},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.diamond={_points:[-.14,-.14,0,-.28,.14,-.14,0,0],collide:function(b,c,e,f,g,h,i,j){var k=d.diamond._points;return a.math.pointInsidePolygon(b,c,k,e,f,g,h,i,j)},roughCollide:function(b,c,e,f,g,h){return"undefined"==typeof d.diamond._farthestPointSqDistance&&(d.diamond._farthestPointSqDistance=a.math.findMaxSqDistanceToOrigin(d.diamond._points)),a.math.checkInBoundingCircle(b,c,d.diamond._farthestPointSqDistance,0,g,h,e,f)},draw:function(a){a.lineTo(-.14,-.14),a.lineTo(0,-.28),a.lineTo(.14,-.14),a.lineTo(0,0)},spacing:function(){return 0},gap:function(a){return 2*a._private.style.width.pxValue}},d.tee=d.inhibitor}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.getCachedNodes=function(){var a=this.data,b=this.data.cy;return void 0==a.cache&&(a.cache={}),void 0==a.cache.cachedNodes&&(a.cache.cachedNodes=b.nodes()),a.cache.cachedNodes},b.prototype.updateNodesCache=function(){var a=this.data,b=this.data.cy;void 0==a.cache&&(a.cache={}),a.cache.cachedNodes=b.nodes()},b.prototype.getCachedEdges=function(){var a=this.data,b=this.data.cy;return void 0==a.cache&&(a.cache={}),void 0==a.cache.cachedEdges&&(a.cache.cachedEdges=b.edges()),a.cache.cachedEdges},b.prototype.updateEdgesCache=function(){var a=this.data,b=this.data.cy;void 0==a.cache&&(a.cache={}),a.cache.cachedEdges=b.edges()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.projectIntoViewport=function(a,b){var c=(this.data.container,this.findContainerPageCoords()),d=c[0],e=c[1],f=a-d,g=b-e;return f-=this.data.cy.pan().x,g-=this.data.cy.pan().y,f/=this.data.cy.zoom(),g/=this.data.cy.zoom(),[f,g]},b.prototype.findContainerPageCoords=function(){for(var a=0,b=0,c=this.data.container,d=c;null!=d;){var e=window.getComputedStyle(d);if("number"==typeof d.offsetLeft){var f=e.getPropertyValue("position").toLowerCase(),g=parseFloat(e.getPropertyValue("border-left-width")),h=parseFloat(e.getPropertyValue("border-top-width"));if(a+=d.offsetLeft,b+=d.offsetTop,("static"!==f||d===c)&&(a+=g,b+=h),"fixed"===f){a+=window.scrollX,b+=window.scrollY;break}if(d==document.body||d==document.header)break}d&&(d=d.offsetParent)}return[a,b]},b.prototype.findNearestElement=function(c,d,e){for(var f=this.data,g=this.getCachedNodes(),h=this.getCachedEdges(),i=[],j=b.isTouch,k=this.data.cy.zoom(),l=(j?256:32)/k,m=(j?16:0)/k,n=0;n<g.length;n++)b.nodeShapes[this.getNodeShape(g[n])].checkPointRough(c,d,g[n]._private.style["border-width"].pxValue/2,this.getNodeWidth(g[n])+m,this.getNodeHeight(g[n])+m,g[n]._private.position.x,g[n]._private.position.y)&&b.nodeShapes[this.getNodeShape(g[n])].checkPoint(c,d,g[n]._private.style["border-width"].pxValue/2,this.getNodeWidth(g[n])+m,this.getNodeHeight(g[n])+m,g[n]._private.position.x,g[n]._private.position.y)&&(e?0!=g[n]._private.style.opacity.value&&"visible"==g[n]._private.style.visibility.value&&"element"==g[n]._private.style.display.value&&i.push(g[n]):i.push(g[n]));for(var o,n=0;n<h.length;n++){var p=h[n],q=p._private.rscratch;if(o=!1,"self"==q.edgeType?(a.math.inBezierVicinity(c,d,q.startX,q.startY,q.cp2ax,q.cp2ay,q.selfEdgeMidX,q.selfEdgeMidY,Math.pow(p._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.startX,q.startY,q.cp2ax,q.cp2ay,q.selfEdgeMidX,q.selfEdgeMidY)||a.math.inBezierVicinity(c,d,q.selfEdgeMidX,q.selfEdgeMidY,q.cp2cx,q.cp2cy,q.endX,q.endY,Math.pow(h[n]._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.selfEdgeMidX,q.selfEdgeMidY,q.cp2cx,q.cp2cy,q.endX,q.endY))&&(o=!0):"straight"==q.edgeType?a.math.inLineVicinity(c,d,q.startX,q.startY,q.endX,q.endY,2*h[n]._private.style.width.pxValue)&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToFiniteLine(c,d,q.startX,q.startY,q.endX,q.endY)&&(o=!0):"bezier"==q.edgeType&&a.math.inBezierVicinity(c,d,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY,Math.pow(h[n]._private.style.width.pxValue/2,2))&&Math.pow(h[n]._private.style.width.pxValue/2,2)+l>a.math.sqDistanceToQuadraticBezier(c,d,q.startX,q.startY,q.cp2x,q.cp2y,q.endX,q.endY)&&(o=!0),i.length&&i[i.length-1]==h[n]||(b.arrowShapes[h[n]._private.style["source-arrow-shape"].value].roughCollide(c,d,h[n]._private.rscratch.arrowStartX,h[n]._private.rscratch.arrowStartY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowStartX-h[n].source()[0]._private.position.x,h[n]._private.rscratch.arrowStartY-h[n].source()[0]._private.position.y],0)&&b.arrowShapes[h[n]._private.style["source-arrow-shape"].value].collide(c,d,h[n]._private.rscratch.arrowStartX,h[n]._private.rscratch.arrowStartY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowStartX-h[n].source()[0]._private.position.x,h[n]._private.rscratch.arrowStartY-h[n].source()[0]._private.position.y],0)||b.arrowShapes[h[n]._private.style["target-arrow-shape"].value].roughCollide(c,d,h[n]._private.rscratch.arrowEndX,h[n]._private.rscratch.arrowEndY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowEndX-h[n].target()[0]._private.position.x,h[n]._private.rscratch.arrowEndY-h[n].target()[0]._private.position.y],0)&&b.arrowShapes[h[n]._private.style["target-arrow-shape"].value].collide(c,d,h[n]._private.rscratch.arrowEndX,h[n]._private.rscratch.arrowEndY,this.getArrowWidth(h[n]._private.style.width.pxValue),this.getArrowHeight(h[n]._private.style.width.pxValue),[h[n]._private.rscratch.arrowEndX-h[n].target()[0]._private.position.x,h[n]._private.rscratch.arrowEndY-h[n].target()[0]._private.position.y],0))&&(o=!0),o)if(e){var r=f.cy.getElementById(h[n]._private.data.source),s=f.cy.getElementById(h[n]._private.data.target);0!=h[n]._private.style.opacity.value&&"visible"==h[n]._private.style.visibility.value&&"element"==h[n]._private.style.display.value&&0!=r._private.style.opacity.value&&"visible"==r._private.style.visibility.value&&"element"==r._private.style.display.value&&0!=s._private.style.opacity.value&&"visible"==s._private.style.visibility.value&&"element"==s._private.style.display.value&&i.push(h[n])}else i.push(h[n])}return i.sort(this.zOrderSort),i.length>0?i[i.length-1]:null},b.prototype.getAllInBox=function(c,d,e,f){var g=(this.data,this.getCachedNodes()),h=this.getCachedEdges(),i=[],j=Math.min(c,e),k=Math.max(c,e),l=Math.min(d,f),m=Math.max(d,f);c=j,e=k,d=l,f=m;for(var n,o=0;o<g.length;o++)b.nodeShapes[this.getNodeShape(g[o])].intersectBox(c,d,e,f,this.getNodeWidth(g[o]),this.getNodeHeight(g[o]),g[o]._private.position.x,g[o]._private.position.y,g[o]._private.style["border-width"].pxValue/2)&&i.push(g[o]);for(var o=0;o<h.length;o++)"self"==h[o]._private.rscratch.edgeType&&((n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2ax,h[o]._private.rscratch.cp2ay,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2ax,h[o]._private.rscratch.cp2ay,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))||(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2cx,h[o]._private.rscratch.cp2cy,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2cx,h[o]._private.rscratch.cp2cy,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue)))&&i.push(h[o]),"bezier"==h[o]._private.rscratch.edgeType&&(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2x,h[o]._private.rscratch.cp2y,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkBezierInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.cp2x,h[o]._private.rscratch.cp2y,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&i.push(h[o]),"straight"==h[o]._private.rscratch.edgeType&&(n=a.math.boxInBezierVicinity(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,.5*h[o]._private.rscratch.startX+.5*h[o]._private.rscratch.endX,.5*h[o]._private.rscratch.startY+.5*h[o]._private.rscratch.endY,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&(2==n||1==n&&a.math.checkStraightEdgeInBox(c,d,e,f,h[o]._private.rscratch.startX,h[o]._private.rscratch.startY,h[o]._private.rscratch.endX,h[o]._private.rscratch.endY,h[o]._private.style.width.pxValue))&&i.push(h[o]);return i},b.prototype.getNodeWidth=function(a){return a.width()},b.prototype.getNodeHeight=function(a){return a.height()},b.prototype.getNodeShape=function(a){var b=a._private.style.shape.value;return a.isParent()?"rectangle"===b||"roundrectangle"===b?b:"rectangle":b},b.prototype.getNodePadding=function(a){var b=a._private.style["padding-left"].pxValue,c=a._private.style["padding-right"].pxValue,d=a._private.style["padding-top"].pxValue,e=a._private.style["padding-bottom"].pxValue;return isNaN(b)&&(b=0),isNaN(c)&&(c=0),isNaN(d)&&(d=0),isNaN(e)&&(e=0),{left:b,right:c,top:d,bottom:e}},b.prototype.zOrderSort=a.Collection.zIndexSort,b.prototype.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},b.prototype.getCachedZSortedEles=function(a){var b=this.lastZOrderCachedNodes,c=this.lastZOrderCachedEdges,d=this.getCachedNodes(),e=this.getCachedEdges(),f=[];if(!a&&b&&c&&b===d&&c===e)f=this.cachedZSortedEles;else{for(var g=0;g<d.length;g++)f.push(d[g]);for(var g=0;g<e.length;g++)f.push(e[g]);f.sort(this.zOrderSort),this.cachedZSortedEles=f}return this.lastZOrderCachedNodes=d,this.lastZOrderCachedEdges=e,f},b.prototype.projectBezier=function(b){function c(a){f.push({x:d(a[0],a[2],a[4],.05),y:d(a[1],a[3],a[5],.05)}),f.push({x:d(a[0],a[2],a[4],.25),y:d(a[1],a[3],a[5],.25)}),f.push({x:d(a[0],a[2],a[4],.4),y:d(a[1],a[3],a[5],.4)}),f.push({x:d(a[0],a[2],a[4],.5),y:d(a[1],a[3],a[5],.5)}),f.push({x:d(a[0],a[2],a[4],.6),y:d(a[1],a[3],a[5],.6)}),f.push({x:d(a[0],a[2],a[4],.75),y:d(a[1],a[3],a[5],.75)}),f.push({x:d(a[0],a[2],a[4],.95),y:d(a[1],a[3],a[5],.95)})}var d=a.math.qbezierAt,e=b._private.rscratch,f=b._private.rstyle.bezierPts=[];"self"===e.edgeType?(c([e.startX,e.startY,e.cp2ax,e.cp2ay,e.selfEdgeMidX,e.selfEdgeMidY]),c([e.selfEdgeMidX,e.selfEdgeMidY,e.cp2cx,e.cp2cy,e.endX,e.endY])):"bezier"===e.edgeType&&c([e.startX,e.startY,e.cp2x,e.cp2y,e.endX,e.endY])},b.prototype.recalculateNodeLabelProjection=function(a){var b,c,d=a.outerWidth(),e=a.outerHeight(),f=a._private.position,g=a._private.style["text-halign"].strValue,h=a._private.style["text-valign"].strValue,i=a._private.rscratch,j=a._private.rstyle;
switch(g){case"left":b=f.x-d/2;break;case"right":b=f.x+d/2;break;case"center":default:b=f.x}switch(h){case"top":c=f.y-e/2;break;case"bottom":c=f.y+e/2;break;case"middle":default:c=f.y}i.labelX=b,i.labelY=c,j.labelX=b,j.labelY=c;var k=this.data.bufferCanvases[0].getContext("2d"),l=this.setupTextStyle(k,a),m=this.calculateLabelDimensions(a,l);j.labelWidth=m.width,i.labelWidth=m.width,j.labelHeight=m.height,i.labelHeight=m.height},b.prototype.recalculateEdgeLabelProjection=function(b){var c,d,e,f,g=b._private.rscratch,h=b._private.rstyle;"self"==g.edgeType?(e=g.selfEdgeMidX,f=g.selfEdgeMidY):"straight"==g.edgeType?(e=(g.startX+g.endX)/2,f=(g.startY+g.endY)/2):"bezier"==g.edgeType&&(e=a.math.qbezierAt(g.startX,g.cp2x,g.endX,.5),f=a.math.qbezierAt(g.startY,g.cp2y,g.endY,.5)),c=e,d=f,g.labelX=c,g.labelY=d,h.labelX=c,h.labelY=d;var i=this.data.bufferCanvases[0].getContext("2d"),j=this.setupTextStyle(i,b),k=this.calculateLabelDimensions(b,j);h.labelWidth=k.width,g.labelWidth=k.width,h.labelHeight=k.height,g.labelHeight=k.height},b.prototype.calculateLabelDimensions=function(a,b){var c=a._private.style,d=c["font-style"].strValue,e=c["font-size"].pxValue+"px",f=c["font-family"].strValue,g=c["font-variant"].strValue,h=c["font-weight"].strValue,i=this.labelCalcDiv;i||(i=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(i));var j=i.style;return j.fontFamily=f,j.fontStyle=d,j.fontSize=e,j.fontVariant=g,j.fontWeight=h,j.position="absolute",j.left="-9999px",j.top="-9999px",j.zIndex="-1",j.visibility="hidden",j.padding="0",j.lineHeight="1",i.innerText=b,{width:i.clientWidth,height:i.clientHeight}},b.prototype.recalculateRenderedStyle=function(){this.recalculateEdgeProjections(),this.recalculateLabelProjections()},b.prototype.recalculateLabelProjections=function(){for(var a=this.getCachedNodes(),b=0;b<a.length;b++)this.recalculateNodeLabelProjection(a[b]);for(var c=this.getCachedEdges(),b=0;b<c.length;b++)this.recalculateEdgeLabelProjection(c[b])},b.prototype.recalculateEdgeProjections=function(){var a=this.getCachedEdges();this.findEdgeControlPoints(a)},b.prototype.findEdgeControlPoints=function(c){for(var d,e={},f=this.data.cy,g=[],h=0;h<c.length;h++){var i=c[h];if("none"!==i._private.style.display.value){var j=i._private.data.source,k=i._private.data.target;d=j>k?k+"-"+j:j+"-"+k,void 0==e[d]&&(e[d]=[]),e[d].push(i),g.push(d)}}for(var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=0;A<g.length;A++){if(d=g[A],l=f.getElementById(e[d][0]._private.data.source),m=f.getElementById(e[d][0]._private.data.target),n=l._private.position,o=m._private.position,p=this.getNodeWidth(l),q=this.getNodeHeight(l),r=this.getNodeWidth(m),s=this.getNodeHeight(m),t=b.nodeShapes[this.getNodeShape(l)],u=b.nodeShapes[this.getNodeShape(m)],v=l._private.style["border-width"].pxValue,w=m._private.style["border-width"].pxValue,z=!1,e[d].length>1){var B=t.intersectLine(n.x,n.y,p,q,o.x,o.y,v/2),C=u.intersectLine(o.x,o.y,r,s,n.x,n.y,w/2),x={x:(B[0]+C[0])/2,y:(B[1]+C[1])/2},D=C[1]-B[1],E=C[0]-B[0],F=Math.sqrt(E*E+D*D),G={x:E,y:D},H={x:G.x/F,y:G.y/F};y={x:-H.y,y:H.x},(u.checkPoint(B[0],B[1],w/2,r,s,o.x,o.y)||t.checkPoint(C[0],C[1],v/2,p,q,n.x,n.y))&&(y={},z=!0)}for(var i,I,h=0;h<e[d].length;h++){i=e[d][h],I=i._private.rscratch;var J=I.lastEdgeIndex,K=h,L=I.lastNumEdges,M=e[d].length,N=I.lastSrcCtlPtX,O=n.x,P=I.lastSrcCtlPtY,Q=n.y,R=I.lastSrcCtlPtW,S=l.outerWidth(),T=I.lastSrcCtlPtH,U=l.outerHeight(),V=I.lastTgtCtlPtX,W=o.x,X=I.lastTgtCtlPtY,Y=o.y,Z=I.lastTgtCtlPtW,$=m.outerWidth(),_=I.lastTgtCtlPtH,ab=m.outerHeight();if(I.badBezier=z?!0:!1,N!==O||P!==Q||R!==S||T!==U||V!==W||X!==Y||Z!==$||_!==ab||J!==K||L!==M){I.lastSrcCtlPtX=O,I.lastSrcCtlPtY=Q,I.lastSrcCtlPtW=S,I.lastSrcCtlPtH=U,I.lastTgtCtlPtX=W,I.lastTgtCtlPtY=Y,I.lastTgtCtlPtW=$,I.lastTgtCtlPtH=ab,I.lastEdgeIndex=K,I.lastNumEdges=M;var bb=i._private.style["control-point-step-size"].value;if(l.id()==m.id())I.edgeType="self",I.cp2ax=n.x,I.cp2ay=n.y-(1+Math.pow(q,1.12)/100)*bb*(h/3+1),I.cp2cx=l._private.position.x-(1+Math.pow(p,1.12)/100)*bb*(h/3+1),I.cp2cy=n.y,I.selfEdgeMidX=(I.cp2ax+I.cp2cx)/2,I.selfEdgeMidY=(I.cp2ay+I.cp2cy)/2;else if(e[d].length%2==1&&h==Math.floor(e[d].length/2))I.edgeType="straight";else{var cb=(.5-e[d].length/2+h)*bb;I.edgeType="bezier",I.cp2x=x.x+y.x*cb,I.cp2y=x.y+y.y*cb}this.findEndpoints(i);var db=!a.is.number(I.startX)||!a.is.number(I.startY),eb=!a.is.number(I.arrowStartX)||!a.is.number(I.arrowStartY),fb=!a.is.number(I.endX)||!a.is.number(I.endY),gb=!a.is.number(I.arrowEndX)||!a.is.number(I.arrowEndY),hb=3,ib=this.getArrowWidth(i._private.style.width.pxValue)*b.arrowShapeHeight,jb=hb*ib,kb=a.math.distance({x:I.cp2x,y:I.cp2y},{x:I.startX,y:I.startY}),lb=jb>kb,mb=a.math.distance({x:I.cp2x,y:I.cp2y},{x:I.endX,y:I.endY}),nb=jb>mb;if("bezier"===I.edgeType){var ob=!1;if(db||eb||lb){ob=!0;var pb={x:I.cp2x-n.x,y:I.cp2y-n.y},qb=Math.sqrt(pb.x*pb.x+pb.y*pb.y),rb={x:pb.x/qb,y:pb.y/qb},sb=Math.max(p,q),tb={x:I.cp2x+2*rb.x*sb,y:I.cp2y+2*rb.y*sb},ub=t.intersectLine(n.x,n.y,p,q,tb.x,tb.y,v/2);lb?(I.cp2x=I.cp2x+rb.x*(jb-kb),I.cp2y=I.cp2y+rb.y*(jb-kb)):(I.cp2x=ub[0]+rb.x*jb,I.cp2y=ub[1]+rb.y*jb)}if(fb||gb||nb){ob=!0;var pb={x:I.cp2x-o.x,y:I.cp2y-o.y},qb=Math.sqrt(pb.x*pb.x+pb.y*pb.y),rb={x:pb.x/qb,y:pb.y/qb},sb=Math.max(p,q),tb={x:I.cp2x+2*rb.x*sb,y:I.cp2y+2*rb.y*sb},vb=u.intersectLine(o.x,o.y,r,s,tb.x,tb.y,w/2);nb?(I.cp2x=I.cp2x+rb.x*(jb-mb),I.cp2y=I.cp2y+rb.y*(jb-mb)):(I.cp2x=vb[0]+rb.x*jb,I.cp2y=vb[1]+rb.y*jb)}ob&&this.findEndpoints(i)}this.projectBezier(i)}}}return e},b.prototype.findEndpoints=function(c){var d,e=c.source()[0],f=c.target()[0],g=(e._private.position,f._private.position,c._private.style["target-arrow-shape"].value),h=c._private.style["source-arrow-shape"].value,i=f._private.style["border-width"].pxValue,j=e._private.style["border-width"].pxValue,k=c._private.rscratch;if("self"==c._private.rscratch.edgeType){var l=[k.cp2cx,k.cp2cy];d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),l[0],l[1],i/2);var m=a.math.shortenIntersection(d,l,b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,l,b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1];var l=[k.cp2ax,k.cp2ay];d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),l[0],l[1],j/2);var o=a.math.shortenIntersection(d,l,b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,l,b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if("straight"==k.edgeType){d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),e.position().x,e.position().y,i/2),k.noArrowPlacement=0==d.length?!0:!1;var m=a.math.shortenIntersection(d,[e.position().x,e.position().y],b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,[e.position().x,e.position().y],b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1],d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),f.position().x,f.position().y,j/2),k.noArrowPlacement=0==d.length?!0:!1;var o=a.math.shortenIntersection(d,[f.position().x,f.position().y],b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,[f.position().x,f.position().y],b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if("bezier"==k.edgeType){var l=[k.cp2x,k.cp2y];d=b.nodeShapes[this.getNodeShape(f)].intersectLine(f._private.position.x,f._private.position.y,this.getNodeWidth(f),this.getNodeHeight(f),l[0],l[1],i/2);var m=a.math.shortenIntersection(d,l,b.arrowShapes[g].spacing(c)),n=a.math.shortenIntersection(d,l,b.arrowShapes[g].gap(c));k.endX=n[0],k.endY=n[1],k.arrowEndX=m[0],k.arrowEndY=m[1],d=b.nodeShapes[this.getNodeShape(e)].intersectLine(e._private.position.x,e._private.position.y,this.getNodeWidth(e),this.getNodeHeight(e),l[0],l[1],j/2);var o=a.math.shortenIntersection(d,l,b.arrowShapes[h].spacing(c)),p=a.math.shortenIntersection(d,l,b.arrowShapes[h].gap(c));k.startX=p[0],k.startY=p[1],k.arrowStartX=o[0],k.arrowStartY=o[1]}else if(k.isArcEdge)return},b.prototype.findEdges=function(a){for(var b=this.getCachedEdges(),c={},d=[],e=0;e<a.length;e++)c[a[e]._private.data.id]=a[e];for(var e=0;e<b.length;e++)(c[b[e]._private.data.source]||c[b[e]._private.data.target])&&d.push(b[e]);return d},b.prototype.getArrowWidth=function(a){return Math.max(Math.pow(13.37*a,.9),29)},b.prototype.getArrowHeight=function(a){return Math.max(Math.pow(13.37*a,.9),29)}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawEdge=function(a,b,c){if(b.visible()&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var d=b._private.rscratch;if(!d.badBezier){var e,f;if(e=b.source()[0],f=b.target()[0],"visible"==b._private.style.visibility.value&&"element"==b._private.style.display.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&"visible"==f._private.style.visibility.value&&"element"==f._private.style.display.value){var g=b._private.style["overlay-padding"].pxValue,h=b._private.style["overlay-opacity"].value,i=b._private.style["overlay-color"].value;if(c?(a.strokeStyle="rgba( "+i[0]+", "+i[1]+", "+i[2]+", "+h+" )",a.lineCap="round","self"==b._private.rscratch.edgeType&&(a.lineCap="butt")):(a.strokeStyle="rgba("+b._private.style["line-color"].value[0]+","+b._private.style["line-color"].value[1]+","+b._private.style["line-color"].value[2]+","+b._private.style.opacity.value+")",a.lineCap="butt"),!(b._private.style.width.pxValue<=0)){var j=b._private.style.width.pxValue+(c?2*g:0),k=c?"solid":b._private.style["line-style"].value;if(a.lineWidth=j,this.findEndpoints(b),"self"==b._private.rscratch.edgeType){var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.cp2ax,l.cp2ay,l.selfEdgeMidX,l.selfEdgeMidY],k,j),this.drawStyledEdge(b,a,[l.selfEdgeMidX,l.selfEdgeMidY,l.cp2cx,l.cp2cy,l.endX,l.endY],k,j)}else if("straight"==b._private.rscratch.edgeType){var m=f._private.position.x-e._private.position.x,n=f._private.position.y-e._private.position.y,o=b._private.rscratch.endX-b._private.rscratch.startX,p=b._private.rscratch.endY-b._private.rscratch.startY;if(0>m*o+n*p)b._private.rscratch.straightEdgeTooShort=!0;else{var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.endX,l.endY],k,j),b._private.rscratch.straightEdgeTooShort=!1}}else{var l=b._private.rscratch;this.drawStyledEdge(b,a,[l.startX,l.startY,l.cp2x,l.cp2y,l.endX,l.endY],k,j)}b._private.rscratch.noArrowPlacement!==!0&&void 0!==b._private.rscratch.startX&&this.drawArrowheads(a,b,c)}}}}};var c=function(a,b){var c=Math.sqrt(Math.pow(a[4]-a[0],2)+Math.pow(a[5]-a[1],2));c+=Math.sqrt(Math.pow((a[4]+a[0])/2-a[2],2)+Math.pow((a[5]+a[1])/2-a[3],2));var d,e=Math.ceil(c/b);if(!(e>0))return null;d=new Array(2*e);for(var f=0;e>f;f++){var g=f/e;d[2*f]=a[0]*(1-g)*(1-g)+2*a[2]*(1-g)*g+a[4]*g*g,d[2*f+1]=a[1]*(1-g)*(1-g)+2*a[3]*(1-g)*g+a[5]*g*g}return d},d=function(a,b){var c,d=Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),e=Math.ceil(d/b);if(!(e>0))return null;c=new Array(2*e);for(var f=[a[2]-a[0],a[3]-a[1]],g=0;e>g;g++){var h=g/e;c[2*g]=f[0]*h+a[0],c[2*g+1]=f[1]*h+a[1]}return c};b.prototype.drawStyledEdge=function(a,b,e,f,g){var h=this.data.cy,i=h.zoom();if("solid"==f)b.beginPath(),b.moveTo(e[0],e[1]),6==e.length?b.quadraticCurveTo(e[2],e[3],e[4],e[5]):b.lineTo(e[2],e[3]),b.stroke();else if("dotted"==f){var j;if(j=6==e.length?c(e,16,!0):d(e,16,!0),!j)return;var k=Math.max(1.6*g,3.4)*i,l=2*k,m=2*k;l=Math.max(l,1),m=Math.max(m,1);var n=this.createBuffer(l,m),o=n[1];o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,l,m),o.fillStyle=b.strokeStyle,o.beginPath(),o.arc(l/2,m/2,.5*k,0,2*Math.PI,!1),o.fill(),b.beginPath();for(var p=0;p<j.length/2;p++)b.drawImage(n[0],j[2*p]-l/2/i,j[2*p+1]-m/2/i,l/i,m/i)}else if("dashed"==f){var j;if(j=6==e.length?c(e,14,!0):d(e,14,!0),!j)return;var l=2*g*i,m=7.8*i;l=Math.max(l,1),m=Math.max(m,1);var n=this.createBuffer(l,m),o=n[1];o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,l,m),b.strokeStyle&&(o.strokeStyle=b.strokeStyle),o.lineWidth=g*h.zoom(),o.beginPath(),o.moveTo(l/2,.2*m),o.lineTo(l/2,.8*m),o.stroke();var q,r,s=!1;4==e.length?(q=[e[2]-e[0],e[3]-j[1]],r=Math.acos((0*q[0]+-1*q[1])/Math.sqrt(q[0]*q[0]+q[1]*q[1])),q[0]<0&&(r=-r+2*Math.PI)):6==e.length&&(s=!0);for(var p=0;p<j.length/2;p++){var t=p/Math.max(j.length/2-1,1);s&&(q=[2*(1-t)*(e[2]-e[0])+2*t*(e[4]-e[2]),2*(1-t)*(e[3]-e[1])+2*t*(e[5]-e[3])],r=Math.acos((0*q[0]+-1*q[1])/Math.sqrt(q[0]*q[0]+q[1]*q[1])),q[0]<0&&(r=-r+2*Math.PI)),b.translate(j[2*p],j[2*p+1]),b.rotate(r),b.translate(-l/2/i,-m/2/i),b.drawImage(n[0],0,0,l/i,m/i),b.translate(l/2/i,m/2/i),b.rotate(-r),b.translate(-j[2*p],-j[2*p+1])}}else this.drawStyledEdge(a,b,e,"solid",g)},b.prototype.drawArrowheads=function(a,b,c){if(!c){var d,e,f=b._private.rscratch.arrowStartX,g=b._private.rscratch.arrowStartY,h=b.source().position();if(d=f-h.x,e=g-h.y,!(isNaN(f)||isNaN(g)||isNaN(d)||isNaN(e))){var i=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.lineWidth=b._private.style.width.pxValue,a.fillStyle="white",this.drawArrowShape(a,b._private.style["source-arrow-shape"].value,f,g,d,e),a.globalCompositeOperation=i,a.fillStyle="rgba("+b._private.style["source-arrow-color"].value[0]+","+b._private.style["source-arrow-color"].value[1]+","+b._private.style["source-arrow-color"].value[2]+","+b._private.style.opacity.value+")",this.drawArrowShape(a,b._private.style["source-arrow-shape"].value,f,g,d,e)}var j=b._private.rscratch.arrowEndX,k=b._private.rscratch.arrowEndY,l=b.target().position();if(d=j-l.x,e=k-l.y,!(isNaN(j)||isNaN(k)||isNaN(d)||isNaN(e))){var i=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.lineWidth=b._private.style.width.pxValue,a.fillStyle="white",this.drawArrowShape(a,b._private.style["target-arrow-shape"].value,j,k,d,e),a.globalCompositeOperation=i,a.fillStyle="rgba("+b._private.style["target-arrow-color"].value[0]+","+b._private.style["target-arrow-color"].value[1]+","+b._private.style["target-arrow-color"].value[2]+","+b._private.style.opacity.value+")",this.drawArrowShape(a,b._private.style["target-arrow-shape"].value,j,k,d,e)}}},b.prototype.drawArrowShape=function(a,c,d,e,f,g){var h=Math.asin(g/Math.sqrt(f*f+g*g));0>f?h+=Math.PI/2:h=-(Math.PI/2+h),a.translate(d,e),a.moveTo(0,0),a.rotate(-h);var i=this.getArrowWidth(a.lineWidth);a.scale(i,i),a.beginPath(),b.arrowShapes[c].draw(a),a.closePath(),a.fill(),a.scale(1/i,1/i),a.rotate(h),a.translate(-d,-e)}}(cytoscape),function(a){var b=a("renderer","canvas"),c={},d=9e3;b.prototype.getCachedImage=function(a,b){if(c[a]&&c[a].image)return c[a].keepTime=d,c[a].image;var e=c[a];return void 0==e&&(c[a]=new Object,c[a].image=new Image,c[a].image.onload=b,c[a].image.src=a,c[a].keepTime=d,e=c[a]),e.image},b.prototype.swapCachedImage=function(a){if(c[a]){if(c[a].image&&c[a].image.complete){var b=c[a].image,d=document.createElement("canvas");return d.width=b.width,d.height=b.height,d.getContext("2d").drawImage(b,0,0),c[a].image=d,c[a].swappedWithCanvas=!0,d}return null}return null},b.prototype.updateImageCaches=function(){for(var a in c)c[a].keepTime<=0?(void 0!=c[a].image&&(c[a].image.src=void 0,c[a].image=void 0),c[a]=void 0):c[a]-=1},b.prototype.drawImage=function(a,b,c,d,e,f,g){g.widthScale=.5,g.heightScale=.5,g.rotate=f,canvas.drawImage(g,b,c)},b.prototype.drawInscribedImage=function(a,c,d){var e=this,f=(this.data.cy._private.zoom,d._private.position.x),g=d._private.position.y,h=this.getNodeWidth(d),i=this.getNodeHeight(d);a.save(),b.nodeShapes[e.getNodeShape(d)].drawPath(a,f,g,h,i),a.clip();var j=[c.width,c.height];a.drawImage(c,f-j[0]/2,g-j[1]/2,j[0],j[1]),a.restore(),d._private.style["border-width"].value>0&&a.stroke()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawEdgeText=function(a,b){if(b.visible()&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var c=b._private.style["font-size"].pxValue*b.cy().zoom(),d=b._private.style["min-zoomed-font-size"].pxValue;if(!(d>c)){a.textAlign="center",a.textBaseline="middle",this.recalculateEdgeLabelProjection(b);var e=b._private.rscratch;this.drawText(a,b,e.labelX,e.labelY)}}},b.prototype.drawNodeText=function(a,b){if(b.visible()){var c=b._private.style["font-size"].pxValue*b.cy().zoom(),d=b._private.style["min-zoomed-font-size"].pxValue;if(!(d>c)){this.recalculateNodeLabelProjection(b);var e=b._private.style["text-halign"].strValue,f=b._private.style["text-valign"].strValue,g=b._private.rscratch;switch(e){case"left":a.textAlign="right";break;case"right":a.textAlign="left";break;case"center":default:a.textAlign="center"}switch(f){case"top":a.textBaseline="bottom";break;case"bottom":a.textBaseline="top";break;case"center":default:a.textBaseline="middle"}this.drawText(a,b,g.labelX,g.labelY)}}},b.prototype.setupTextStyle=function(a,b){var c=b.effectiveOpacity(),d=b._private.style,e=d["font-style"].strValue,f=d["font-size"].pxValue+"px",g=d["font-family"].strValue,h=(d["font-variant"].strValue,d["font-weight"].strValue);a.font=e+" "+h+" "+f+" "+g;var i=String(d.content.value),j=d["text-transform"].value;return"none"==j||("uppercase"==j?i=i.toUpperCase():"lowercase"==j&&(i=i.toLowerCase())),a.lineJoin="round",a.fillStyle="rgba("+d.color.value[0]+","+d.color.value[1]+","+d.color.value[2]+","+d["text-opacity"].value*d.opacity.value*c+")",a.strokeStyle="rgba("+d["text-outline-color"].value[0]+","+d["text-outline-color"].value[1]+","+d["text-outline-color"].value[2]+","+d["text-opacity"].value*d.opacity.value*c+")",i},b.prototype.drawText=function(a,b,c,d){var e=b._private.style,f=b.effectiveOpacity();if(0!==f){var g=this.setupTextStyle(a,b);if(void 0!=g&&!isNaN(c)&&!isNaN(d)){var h=2*e["text-outline-width"].value;h>0&&(a.lineWidth=h,a.strokeText(g,c,d)),a.fillText(""+g,c,d)}}}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawNode=function(a,c,d){var e,f;if(c.visible()){var g=c.effectiveOpacity();if(0!==g)if(e=this.getNodeWidth(c),f=this.getNodeHeight(c),a.lineWidth=c._private.style["border-width"].pxValue,void 0!==d&&d){var h=c._private.style["overlay-padding"].pxValue,i=c._private.style["overlay-opacity"].value,j=c._private.style["overlay-color"].value;i>0&&(a.fillStyle="rgba( "+j[0]+", "+j[1]+", "+j[2]+", "+i+" )",b.nodeShapes.roundrectangle.draw(a,c._private.position.x,c._private.position.y,e+2*h,f+2*h))}else{a.fillStyle="rgba("+c._private.style["background-color"].value[0]+","+c._private.style["background-color"].value[1]+","+c._private.style["background-color"].value[2]+","+c._private.style["background-opacity"].value*c._private.style.opacity.value*g+")",a.strokeStyle="rgba("+c._private.style["border-color"].value[0]+","+c._private.style["border-color"].value[1]+","+c._private.style["border-color"].value[2]+","+c._private.style["border-opacity"].value*c._private.style.opacity.value*g+")",a.lineJoin="miter";var k=c._private.style["background-image"].value[2]||c._private.style["background-image"].value[1];if(void 0!=k){var l=this,m=this.getCachedImage(k,function(){l.data.canvasNeedsRedraw[b.NODE]=!0,l.data.canvasNeedsRedraw[b.DRAG]=!0,l.swapCachedImage(k),l.redraw()});0==m.complete?(b.nodeShapes[l.getNodeShape(c)].drawPath(a,c._private.position.x,c._private.position.y,e,f),a.stroke(),a.fillStyle="#555555",a.fill()):this.drawInscribedImage(a,m,c)}else b.nodeShapes[this.getNodeShape(c)].draw(a,c._private.position.x,c._private.position.y,e,f);this.drawPie(a,c),c._private.style["border-width"].pxValue>0&&(b.nodeShapes[this.getNodeShape(c)].drawPath(a,c._private.position.x,c._private.position.y,e,f),a.stroke())}}},b.prototype.hasPie=function(b){b=b[0];for(var c=1;c<=a.style.pieBackgroundN;c++){var d=b._private.style["pie-"+c+"-background-size"].value;if(d>0)return!0}return!1},b.prototype.drawPie=function(c,d){if(d=d[0],this.hasPie(d)){var e=this.getNodeWidth(d),f=this.getNodeHeight(d),g=d._private.position.x,h=d._private.position.y,i=Math.min(e,f)/2,j=0;c.save(),b.nodeShapes[this.getNodeShape(d)].drawPath(c,g,h,e,f),c.clip();for(var k=1;k<=a.style.pieBackgroundN;k++){var l=d._private.style["pie-"+k+"-background-size"].value,m=d._private.style["pie-"+k+"-background-color"],n=l/100,o=1.5*Math.PI+2*Math.PI*j,p=2*Math.PI*n,q=o+p;g+i*Math.cos(o),h+i*Math.sin(o),0===l||j>=1||j+n>1||(c.beginPath(),c.moveTo(g,h),c.arc(g,h,i,o,q),c.closePath(),c.fillStyle="rgb("+m.value[0]+","+m.value[1]+","+m.value[2]+")",c.fill(),j+=n)}c.restore()}}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.getPixelRatio=function(){var a=this.data.canvases[0],b=a.getContext("2d"),c=b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1,d="undefined"!=typeof InstallTrigger;return d?1:(window.devicePixelRatio||1)/c},b.prototype.matchCanvasSize=function(a){var c,d=this.data,e=a.clientWidth,f=a.clientHeight,g=e,h=f,i=this.getPixelRatio();g*=i,h*=i;var j=d.canvasContainer;j.style.width=e+"px",j.style.height=f+"px";for(var k=0;k<b.CANVAS_LAYERS;k++)c=d.canvases[k],(c.width!==g||c.height!==h)&&(c.width=g,c.height=h,c.style.width=e+"px",c.style.height=f+"px");for(var k=0;k<b.BUFFER_COUNT;k++)c=d.bufferCanvases[k],(c.width!==g||c.height!==h)&&(c.width=g,c.height=h)},b.prototype.renderTo=function(a,b,c){this.redraw({forcedContext:a,forcedZoom:b,forcedPan:c,drawAllLayers:!0})},b.prototype.redraw=function(a){function c(){function a(a){a.setTransform(1,0,0,1,0,0),!d&&a.clearRect(0,0,a.canvas.width,a.canvas.height),e||(a.translate(p.x,p.y),a.scale(n,n)),g&&a.translate(g.x,g.y),f&&a.scale(f,f)}function c(a,b){for(var c=[],d=[],e=0;e<a.length;e++)f=a[e],f.isNode()?d.push(f):f.isEdge()&&(h.drawEdge(b,f),c.push(f));for(var e=0;e<c.length;e++)f=c[e],h.drawEdgeText(b,f),h.drawEdge(b,f,!0);for(var e=0;e<d.length;e++){var f=d[e];h.drawNode(b,f),h.drawNodeText(b,f),h.drawNode(b,f,!0)}}var l=(h.getCachedNodes(),h.getCachedEdges());d||h.matchCanvasSize(k.container);var m=j.zoom(),n=void 0!==f?f:m,o=j.pan(),p={x:o.x,y:o.y};g&&(p=g),n*=i,p.x*=i,p.y*=i;var q,s,t,u;if(k.canvasNeedsRedraw[b.DRAG]||k.canvasNeedsRedraw[b.NODE]||e){h.hideEdgesOnViewport&&(h.pinching||h.hoverData.dragging||h.data.wheel||h.swipePanning)||h.findEdgeControlPoints(l),q=h.getCachedZSortedEles(),s=[],t=[];for(var v=0;v<q.length;v++)u=q[v],u._private.rscratch.inDragLayer?s.push(u):t.push(u)}if(k.canvasNeedsRedraw[b.NODE]||e){var w=d||k.canvases[b.NODE].getContext("2d");a(w),c(t,w),e||(k.canvasNeedsRedraw[b.NODE]=!1)}if(k.canvasNeedsRedraw[b.DRAG]||e){var w=d||k.canvases[b.DRAG].getContext("2d");a(w),c(s,w),e||(k.canvasNeedsRedraw[b.DRAG]=!1)}if(k.canvasNeedsRedraw[b.SELECT_BOX]&&!e){var w=d||k.canvases[b.SELECT_BOX].getContext("2d");a(w);var x=j.style()._private.coreStyle;if(1==k.select[4]){var m=k.cy.zoom(),y=x["selection-box-border-width"].value/m;w.lineWidth=y,w.fillStyle="rgba("+x["selection-box-color"].value[0]+","+x["selection-box-color"].value[1]+","+x["selection-box-color"].value[2]+","+x["selection-box-opacity"].value+")",w.fillRect(k.select[0],k.select[1],k.select[2]-k.select[0],k.select[3]-k.select[1]),y>0&&(w.strokeStyle="rgba("+x["selection-box-border-color"].value[0]+","+x["selection-box-border-color"].value[1]+","+x["selection-box-border-color"].value[2]+","+x["selection-box-opacity"].value+")",w.strokeRect(k.select[0],k.select[1],k.select[2]-k.select[0],k.select[3]-k.select[1]))}if(k.bgActivePosistion){var m=k.cy.zoom(),z=k.bgActivePosistion;w.fillStyle="rgba("+x["active-bg-color"].value[0]+","+x["active-bg-color"].value[1]+","+x["active-bg-color"].value[2]+","+x["active-bg-opacity"].value+")",w.beginPath(),w.arc(z.x,z.y,x["active-bg-size"].pxValue/m,0,2*Math.PI),w.fill()}e||(k.canvasNeedsRedraw[b.SELECT_BOX]=!1)}var A=+new Date;void 0===h.averageRedrawTime&&(h.averageRedrawTime=A-r),h.averageRedrawTime=h.averageRedrawTime/2+(A-r)/2}a=a||{};var d=a.forcedContext,e=a.drawAllLayers,f=a.forcedZoom,g=a.forcedPan,h=this,i=this.getPixelRatio(),j=h.data.cy,k=h.data;clearTimeout(this.redrawTimeout),void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var l=1e3/60,m=1e3,n=this.averageRedrawTime;n=Math.max(l,n),n=Math.min(n,m),void 0===this.lastDrawTime&&(this.lastDrawTime=0);var o=+new Date,p=o-this.lastDrawTime,q=p>=n;if(!d){if(!q)return clearTimeout(this.redrawTimeout),void(this.redrawTimeout=setTimeout(function(){h.redraw()},n));this.lastDrawTime=o}var r=o;d?c():setTimeout(c,0),d||h.initrender||(h.initrender=!0,j.trigger("initrender"))}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.drawPolygonPath=function(a,b,c,d,e,f){a.translate(b,c),a.scale(d/2,e/2),a.beginPath(),a.moveTo(f[0],f[1]);for(var g=1;g<f.length/2;g++)a.lineTo(f[2*g],f[2*g+1]);a.closePath(),a.scale(2/d,2/e),a.translate(-b,-c)},b.prototype.drawPolygon=function(a,b,c,d,e,f){this.drawPolygonPath(a,b,c,d,e,f),a.fill()},b.prototype.drawRoundRectanglePath=function(b,c,d,e,f){var g=e/2,h=f/2,i=a.math.getRoundRectangleRadius(e,f);b.translate(c,d),b.beginPath(),b.moveTo(0,-h),b.arcTo(g,-h,g,0,i),b.arcTo(g,h,0,h,i),b.arcTo(-g,h,-g,0,i),b.arcTo(-g,-h,0,-h,i),b.lineTo(0,-h),b.closePath(),b.translate(-c,-d)},b.prototype.drawRoundRectangle=function(a,b,c,d,e,f){this.drawRoundRectanglePath(a,b,c,d,e,f),a.fill()}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.createBuffer=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,[c,c.getContext("2d")]},b.prototype.png=function(a){var b=this.data,c=b.cy,d=c.boundingBox(),e=a.full?Math.ceil(d.w):this.data.container.clientWidth,f=a.full?Math.ceil(d.h):this.data.container.clientHeight,g=document.createElement("canvas");g.width=e,g.height=f,g.style.width=e+"px",g.style.height=f+"px";var h=g.getContext("2d");return e>0&&f>0&&(h.clearRect(0,0,e,f),a.bg&&(h.fillStyle=a.bg,h.rect(0,0,e,f),h.fill()),h.globalCompositeOperation="source-over",this.redraw(a.full?{forcedContext:h,drawAllLayers:!0,forcedZoom:1,forcedPan:{x:-d.x1,y:-d.y1}}:{forcedContext:h,drawAllLayers:!0})),g.toDataURL("image/png")}}(cytoscape),function(a){var b=a("renderer","canvas");b.prototype.registerBinding=function(a,b,c,d){this.bindings.push({target:a,event:b,handler:c,useCapture:d}),a.addEventListener(b,c,d)},b.prototype.load=function(){var c=this,d=function(a,b,c){if(!b)for(var d=a.parents(),e=0;e<d.size();e++)if(d[e]._private.selected)return;for(var f=a.descendants(),e=0;e<f.size();e++)if(b||!f[e]._private.selected){f[e]._private.rscratch.inDragLayer=!0,c.push(f[e]);for(var g=0;g<f[e]._private.edges.length;g++)f[e]._private.edges[g]._private.rscratch.inDragLayer=!0}},e=function(a,b){a._private.grabbed=!0,a._private.rscratch.inDragLayer=!0,b.push(a);for(var c=0;c<a._private.edges.length;c++)a._private.edges[c]._private.rscratch.inDragLayer=!0},f=function(a,b){for(var c=a;c.parent().nonempty();)c=c.parent()[0];if(c!=a||!b)for(var d=c.descendants().add(c),e=0;e<d.size();e++){d[e]._private.rscratch.inDragLayer=b;for(var f=0;f<d[e]._private.edges.length;f++)d[e]._private.edges[f]._private.rscratch.inDragLayer=b}};b.prototype.nodeIsDraggable=function(a){return 0!=a._private.style.opacity.value&&"visible"==a._private.style.visibility.value&&"element"==a._private.style.display.value&&!a._private.locked&&a._private.grabbable?!0:!1},c.registerBinding(window,"resize",function(){c.data.canvasNeedsRedraw[b.NODE]=!0,c.matchCanvasSize(c.data.container),c.redraw()},!0),c.registerBinding(c.data.container,"contextmenu",function(a){a.preventDefault()});var g=function(){return 0!==c.data.select[4]};c.registerBinding(c.data.container,"mousedown",function(g){g.preventDefault(),c.hoverData.capture=!0,c.hoverData.which=g.which;var h=c.data.cy,i=c.projectIntoViewport(g.pageX,g.pageY),j=c.data.select,k=c.findNearestElement(i[0],i[1],!0),l=(c.hoverData.down,c.dragData.possibleDragElements),m=new a.Event("grab");if(3==g.which)c.hoverData.cxtStarted=!0,k&&(k.activate(),k.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.down=k),h.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1;else if(1==g.which){if(k&&k.activate(),null!=k&&c.nodeIsDraggable(k)){if("nodes"==k._private.group&&0==k._private.selected&&(l=c.dragData.possibleDragElements=[],e(k,l),k.trigger(m),("auto"==k._private.style.width.value||"auto"==k._private.style.height.value)&&d(k,!0,l),f(k,!0)),"nodes"==k._private.group&&1==k._private.selected){l=c.dragData.possibleDragElements=[];for(var n=!1,o=h.$("node:selected"),p=0;p<o.length;p++)c.nodeIsDraggable(o[p])&&(e(o[p],l),n||(k.trigger(m),n=!0),("auto"==o[p]._private.style.width.value||"auto"==o[p]._private.style.height.value)&&d(o[p],!1,l),f(o[p],!0))}k.trigger(new a.Event(g,{type:"mousedown",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:i[0],y:i[1]}}))}else null==k&&h.trigger(new a.Event(g,{type:"mousedown",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:i[0],y:i[1]}}));if(c.hoverData.down=k,c.hoverData.downTime=(new Date).getTime(),null==k||k.isEdge()){j[4]=1;var q=Math.max(0,b.panOrBoxSelectDelay-(+new Date-c.hoverData.downTime));clearTimeout(c.bgActiveTimeout),c.bgActiveTimeout=setTimeout(function(){k&&k.unactivate(),c.data.bgActivePosistion={x:i[0],y:i[1]},c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.redraw()},q)}}j[0]=j[2]=i[0],j[1]=j[3]=i[1],c.redraw()},!1),c.registerBinding(window,"mousemove",function(d){var e=!1,f=c.hoverData.capture;if(!f){var g=c.findContainerPageCoords();if(!(d.pageX>g[0]&&d.pageX<g[0]+c.data.container.clientWidth&&d.pageY>g[1]&&d.pageY<g[1]+c.data.container.clientHeight))return}var h=c.data.cy,i=c.projectIntoViewport(d.pageX,d.pageY),j=c.data.select,k=c.findNearestElement(i[0],i[1],!0),l=c.hoverData.last,m=c.hoverData.down,n=[i[0]-j[2],i[1]-j[3]],o=(c.getCachedNodes(),c.getCachedEdges(),c.dragData.possibleDragElements);if(d.shiftKey,e=!0,null!=k?k.trigger(new a.Event(d,{type:"mousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:i[0],y:i[1]}})):null==k&&h.trigger(new a.Event(d,{type:"mousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:i[0],y:i[1]}})),3===c.hoverData.which){var p=new a.Event(d,{type:"cxtdrag",cyPosition:{x:i[0],y:i[1]}});m?m.trigger(p):h.trigger(p),c.hoverData.cxtDragged=!0}else if(c.hoverData.dragging){if(e=!0,h.panningEnabled()&&h.userPanningEnabled()){var q={x:n[0]*h.zoom(),y:n[1]*h.zoom()};h.panBy(q)}i=c.projectIntoViewport(d.pageX,d.pageY)}else if(1==j[4]&&(null==m||m.isEdge())&&(!h.boxSelectionEnabled()||+new Date-c.hoverData.downTime>=b.panOrBoxSelectDelay)&&Math.abs(j[3]-j[1])+Math.abs(j[2]-j[0])<4&&h.panningEnabled()&&h.userPanningEnabled())c.hoverData.dragging=!0,j[4]=0;else{if(h.boxSelectionEnabled()&&Math.pow(j[2]-j[0],2)+Math.pow(j[3]-j[1],2)>7&&j[4]&&(clearTimeout(c.bgActiveTimeout),c.data.bgActivePosistion=void 0),m&&m.isEdge()&&m.active()&&m.unactivate(),k!=l&&(l&&l.trigger(new a.Event(d,{type:"mouseout",cyPosition:{x:i[0],y:i[1]}})),k&&k.trigger(new a.Event(d,{type:"mouseover",cyPosition:{x:i[0],y:i[1]}})),c.hoverData.last=k),m&&m.isNode()&&c.nodeIsDraggable(m)){c.dragData.didDrag=!0,c.hoverData.draggingEles=!0;var r=[];new a.Collection(h,o).positions(function(a,b){if(b.isNode()&&c.nodeIsDraggable(b)){var d=b.position();return{x:d.x+n[0],y:d.y+n[1]}}}),new a.Collection(h,r).trigger("drag"),j[2]==j[0]&&j[3]==j[1]&&(c.data.canvasNeedsRedraw[b.NODE]=!0),c.data.canvasNeedsRedraw[b.DRAG]=!0
}h.boxSelectionEnabled()&&(c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0),e=!0}return j[2]=i[0],j[3]=i[1],c.redraw(),e?(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),!1):void 0},!1),c.registerBinding(window,"mouseup",function(d){var e=c.hoverData.capture;if(e){c.hoverData.capture=!1;var g=c.data.cy,h=c.projectIntoViewport(d.pageX,d.pageY),i=c.data.select,j=c.findNearestElement(h[0],h[1],!0),k=(c.getCachedNodes(),c.getCachedEdges(),c.dragData.possibleDragElements),l=c.hoverData.down,m=d.shiftKey;if(c.data.bgActivePosistion=void 0,clearTimeout(c.bgActiveTimeout),c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,l&&l.unactivate(),3===c.hoverData.which){var n=new a.Event(d,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}});if(l?l.trigger(n):g.trigger(n),!c.hoverData.cxtDragged){var o=new a.Event(d,{type:"cxttap",cyPosition:{x:h[0],y:h[1]}});l?l.trigger(o):g.trigger(o)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else{if(null!=l||c.dragData.didDrag||Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)>7&&i[4]||c.hoverData.dragging||(g.$(":selected").unselect(),k.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0),c.dragData.possibleDragElements=k=[]),null!=j?j.trigger(new a.Event(d,{type:"mouseup",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})):null==j&&g.trigger(new a.Event(d,{type:"mouseup",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)==0&&(null!=j?j.trigger(new a.Event(d,{type:"click",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:h[0],y:h[1]}})):null==j&&g.trigger(new a.Event(d,{type:"click",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:h[0],y:h[1]}}))),j!=l||c.dragData.didDrag){if(j==l&&null!=j&&j._private.grabbed){for(var p=g.$(":grabbed"),q=0;q<p.length;q++){var r=p[q];r._private.grabbed=!1;for(var s=r._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(r,!1)}p.trigger("free")}}else null!=j&&j._private.selectable&&("additive"===g.selectionType()||m?j.selected()?j.unselect():j.select():m||(g.$(":selected").unselect(),j.select()),f(j,!1),c.data.canvasNeedsRedraw[b.NODE]=!0);if(g.boxSelectionEnabled()&&Math.pow(i[2]-i[0],2)+Math.pow(i[3]-i[1],2)>7&&i[4]){for(var u=[],v=c.getAllInBox(i[0],i[1],i[2],i[3]),q=(new a.Event(d,{type:"select"}),0);q<v.length;q++)v[q]._private.selectable&&(k.push(v[q]),u.push(v[q]));var w=new a.Collection(g,u);"additive"===g.selectionType()?w.select():(m||g.$(":selected").unselect(),w.select()),v.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}if(c.hoverData.dragging=!1,!i[4]){for(var q=0;q<k.length;q++)if("nodes"==k[q]._private.group){k[q]._private.rscratch.inDragLayer=!1;for(var s=k[q]._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(k[q],!1)}else"edges"==k[q]._private.group&&(k[q]._private.rscratch.inDragLayer=!1);l&&l.trigger("free"),c.data.canvasNeedsRedraw[b.DRAG]=!0,c.data.canvasNeedsRedraw[b.NODE]=!0}}i[4]=0,c.hoverData.down=null,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.dragData.didDrag=!1,c.redraw()}},!1);var h=function(a){var b=c.data.cy,d=c.projectIntoViewport(a.pageX,a.pageY),e=[d[0]*b.zoom()+b.pan().x,d[1]*b.zoom()+b.pan().y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||g())return void a.preventDefault();if(b.panningEnabled()&&b.userPanningEnabled()&&b.zoomingEnabled()&&b.userZoomingEnabled()){a.preventDefault();var f=a.wheelDeltaY/1e3||a.wheelDelta/1e3||a.detail/-32||-a.deltaY/500;b.zoom({level:b.zoom()*Math.pow(10,f),renderedPosition:{x:e[0],y:e[1]}})}};c.registerBinding(c.data.container,"wheel",h,!0),c.registerBinding(c.data.container,"mousewheel",h,!0),c.registerBinding(c.data.container,"DOMMouseScroll",h,!0),c.registerBinding(c.data.container,"MozMousePixelScroll",function(){},!1),c.registerBinding(c.data.container,"mouseout",function(b){var d=c.projectIntoViewport(b.pageX,b.pageY);c.data.cy.trigger(new a.Event(b,{type:"mouseout",cyPosition:{x:d[0],y:d[1]}}))},!1),c.registerBinding(c.data.container,"mouseover",function(b){var d=c.projectIntoViewport(b.pageX,b.pageY);c.data.cy.trigger(new a.Event(b,{type:"mouseover",cyPosition:{x:d[0],y:d[1]}}))},!1);var i,j,k,l,m,n,o,p,q,r,s=c.data.container.clientWidth,t=c.data.container.clientHeight,u=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))};c.registerBinding(c.data.container,"touchstart",function(g){clearTimeout(this.threeFingerSelectTimeout),g.target!==c.data.link&&g.preventDefault(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var h=c.data.cy,v=c.getCachedNodes(),w=c.getCachedEdges(),x=c.touchData.now,y=c.touchData.earlier;if(g.touches[0]){var z=c.projectIntoViewport(g.touches[0].pageX,g.touches[0].pageY);x[0]=z[0],x[1]=z[1]}if(g.touches[1]){var z=c.projectIntoViewport(g.touches[1].pageX,g.touches[1].pageY);x[2]=z[0],x[3]=z[1]}if(g.touches[2]){var z=c.projectIntoViewport(g.touches[2].pageX,g.touches[2].pageY);x[4]=z[0],x[5]=z[1]}if(g.touches[1]){var A=function(a){for(var b=0;b<a.length;b++)a[b]._private.grabbed=!1,a[b]._private.rscratch.inDragLayer=!1,a[b].active()&&a[b].unactivate()};A(v),A(w);var B=c.findContainerPageCoords();q=B[1],p=B[0],i=g.touches[0].pageX-p,j=g.touches[0].pageY-q,k=g.touches[1].pageX-p,l=g.touches[1].pageY-q,r=i>=0&&s>=i&&k>=0&&s>=k&&j>=0&&t>=j&&l>=0&&t>=l;var C=h.pan(),D=h.zoom();if(m=u(i,j,k,l),n=[(i+k)/2,(j+l)/2],o=[(n[0]-C.x)/D,(n[1]-C.y)/D],100>m){var E=c.findNearestElement(x[0],x[1],!0),F=c.findNearestElement(x[2],x[3],!0);return E&&E.isNode()?(E.activate().trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=E):F&&F.isNode()?(F.activate().trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=F):(h.trigger(new a.Event(g,{type:"cxttapstart",cyPosition:{x:x[0],y:x[1]}})),c.touchData.start=null),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()}}if(g.touches[2]);else if(g.touches[1]);else if(g.touches[0]){var G=c.findNearestElement(x[0],x[1],!0);if(null!=G){if(G.activate(),c.touchData.start=G,"nodes"==G._private.group&&c.nodeIsDraggable(G)){var H=c.dragData.touchDragEles=[];if(e(G,H),G.trigger("grab"),G.selected()){H=c.dragData.touchDragEles=[];for(var I=h.$("node:selected"),J=0;J<I.length;J++){var K=I[J];if(c.nodeIsDraggable(K)){H.push(K),K._private.rscratch.inDragLayer=!0;for(var L=K._private.edges,M=0;M<L.length;M++)L[M]._private.rscratch.inDragLayer=!0;("auto"==K._private.style.width.value||"auto"==K._private.style.height.value)&&d(K,!1,H),f(K,!0)}}}else("auto"==G._private.style.width.value||"auto"==G._private.style.height.value)&&d(G,!0,H),f(G,!0)}G.trigger(new a.Event(g,{type:"touchstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"vmousdown",cyPosition:{x:x[0],y:x[1]}}))}null==G&&(h.trigger(new a.Event(g,{type:"touchstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"tapstart",cyPosition:{x:x[0],y:x[1]}})).trigger(new a.Event(g,{type:"vmousedown",cyPosition:{x:x[0],y:x[1]}})),c.data.bgActivePosistion={x:z[0],y:z[1]},c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0);for(var N=0;N<x.length;N++)y[N]=x[N],c.touchData.startPosition[N]=x[N];c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date,setTimeout(function(){0==c.touchData.singleTouchMoved&&+new Date-c.touchData.singleTouchStartTime>250&&(c.touchData.start?c.touchData.start.trigger(new a.Event(g,{type:"taphold",cyPosition:{x:x[0],y:x[1]}})):(c.data.cy.trigger(new a.Event(g,{type:"taphold",cyPosition:{x:x[0],y:x[1]}})),h.$(":selected").unselect()))},1e3)}c.redraw()},!1),c.registerBinding(window,"touchmove",function(d){var e=c.data.select,f=c.touchData.capture;f&&d.preventDefault();var g=c.data.cy,h=(c.getCachedNodes(),c.getCachedEdges(),c.touchData.now),n=c.touchData.earlier;if(d.touches[0]){var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}if(d.touches[1]){var s=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);h[2]=s[0],h[3]=s[1]}if(d.touches[2]){var s=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);h[4]=s[0],h[5]=s[1]}for(var t=[],v=0;v<h.length;v++)t[v]=h[v]-n[v];if(f&&c.touchData.cxt){var w=d.touches[0].pageX-p,x=d.touches[0].pageY-q,y=d.touches[1].pageX-p,z=d.touches[1].pageY-q,A=u(w,x,y,z),B=A/m;if(B>=1.5||A>=150){c.touchData.cxt=!1,c.touchData.start&&(c.touchData.start.unactivate(),c.touchData.start=null),c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;var C=new a.Event(d,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}});c.touchData.start?c.touchData.start.trigger(C):g.trigger(C)}}if(f&&c.touchData.cxt){var C=new a.Event(d,{type:"cxtdrag",cyPosition:{x:h[0],y:h[1]}});c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,c.touchData.start?c.touchData.start.trigger(C):g.trigger(C),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0}else if(f&&d.touches[2]&&g.boxSelectionEnabled())c.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,e&&0!==e.length&&void 0!==e[0]?(e[2]=(h[0]+h[2]+h[4])/3,e[3]=(h[1]+h[3]+h[5])/3):(e[0]=(h[0]+h[2]+h[4])/3,e[1]=(h[1]+h[3]+h[5])/3,e[2]=(h[0]+h[2]+h[4])/3+1,e[3]=(h[1]+h[3]+h[5])/3+1),e[4]=1;else if(f&&d.touches[1]&&g.zoomingEnabled()&&g.panningEnabled()&&g.userZoomingEnabled()&&g.userPanningEnabled()){c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;var w=d.touches[0].pageX-p,x=d.touches[0].pageY-q,y=d.touches[1].pageX-p,z=d.touches[1].pageY-q,A=u(w,x,y,z),B=A/m;if(1!=B&&r){var D=w-i,E=x-j,F=y-k,G=z-l,H=(D+F)/2,I=(E+G)/2,J=g.zoom(),K=J*B,L=g.pan(),M=o[0]*J+L.x,N=o[1]*J+L.y,O={x:-K/J*(M-L.x-H)+M,y:-K/J*(N-L.y-I)+N};g._private.zoom=K,g._private.pan=O,g.trigger("pan zoom").notify("viewport"),m=A,i=w,j=x,k=y,l=z,c.pinching=!0}if(d.touches[0]){var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}if(d.touches[1]){var s=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);h[2]=s[0],h[3]=s[1]}if(d.touches[2]){var s=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);h[4]=s[0],h[5]=s[1]}}else if(d.touches[0]){var P=c.touchData.start;if(c.touchData.last,null!=P&&"nodes"==P._private.group&&c.nodeIsDraggable(P)){var Q=c.dragData.touchDragEles,R=new a.Collection(g,Q).positions(function(a,b){if(c.nodeIsDraggable(b)){c.dragData.didDrag=!0;var d=b.position();return{x:d.x+t[0],y:d.y+t[1]}}});R.trigger("drag"),c.data.canvasNeedsRedraw[b.DRAG]=!0,c.touchData.startPosition[0]==n[0]&&c.touchData.startPosition[1]==n[1]&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}if(null!=P&&(P.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),P.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),P.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}}))),null==P){var S=c.findNearestElement(h[0],h[1],!0);null!=S&&(S.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),S.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),S.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}}))),null==S&&(g.trigger(new a.Event(d,{type:"touchmove",cyPosition:{x:h[0],y:h[1]}})),g.trigger(new a.Event(d,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})),g.trigger(new a.Event(d,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})))}c.touchData.last=S;for(var T=0;T<h.length;T++)h[T]&&c.touchData.startPosition[T]&&Math.abs(h[T]-c.touchData.startPosition[T])>4&&(c.touchData.singleTouchMoved=!0);if(f&&(null==P||P.isEdge())&&g.panningEnabled()&&g.userPanningEnabled()){P&&(P.unactivate(),c.data.bgActivePosistion||(c.data.bgActivePosistion={x:h[0],y:h[1]}),c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0),g.panBy({x:t[0]*g.zoom(),y:t[1]*g.zoom()}),c.swipePanning=!0;var s=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);h[0]=s[0],h[1]=s[1]}}for(var v=0;v<h.length;v++)n[v]=h[v];c.redraw()},!1),c.registerBinding(window,"touchend",function(d){var e=c.touchData.capture;if(e){c.touchData.capture=!1,d.preventDefault();var g=c.data.select;c.swipePanning=!1;var h=c.data.cy,i=(c.getCachedNodes(),c.getCachedEdges(),c.touchData.now),j=c.touchData.earlier,k=c.touchData.start;if(d.touches[0]){var l=c.projectIntoViewport(d.touches[0].pageX,d.touches[0].pageY);i[0]=l[0],i[1]=l[1]}if(d.touches[1]){var l=c.projectIntoViewport(d.touches[1].pageX,d.touches[1].pageY);i[2]=l[0],i[3]=l[1]}if(d.touches[2]){var l=c.projectIntoViewport(d.touches[2].pageX,d.touches[2].pageY);i[4]=l[0],i[5]=l[1]}if(c.touchData.cxt){if(ctxTapend=new a.Event(d,{type:"cxttapend",cyPosition:{x:i[0],y:i[1]}}),k?(k.unactivate(),k.trigger(ctxTapend)):h.trigger(ctxTapend),!c.touchData.cxtDragged){var m=new a.Event(d,{type:"cxttap",cyPosition:{x:i[0],y:i[1]}});k?k.trigger(m):h.trigger(m)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}if(+new Date,!d.touches[2]&&h.boxSelectionEnabled()){clearTimeout(this.threeFingerSelectTimeout);var n=[],o=c.getAllInBox(g[0],g[1],g[2],g[3]);g[0]=void 0,g[1]=void 0,g[2]=void 0,g[3]=void 0,g[4]=0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;for(var p=(new a.Event("select"),0);p<o.length;p++)o[p]._private.selectable&&n.push(o[p]);var q=new a.Collection(h,n);"single"===h.selectionType()&&h.$(":selected").unselect(),q.select(),o.length>0&&(c.data.canvasNeedsRedraw[b.NODE]=!0)}d.touches[1]||(c.pinching=!1);var r=!1;if(null!=k&&(k._private.active=!1,r=!0,k.trigger("unactivate")),d.touches[2])c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0;else if(d.touches[1]);else if(d.touches[0]);else if(!d.touches[0]){if(c.data.bgActivePosistion=void 0,c.data.canvasNeedsRedraw[b.SELECT_BOX]=!0,null!=k){1==k._private.grabbed&&(k._private.grabbed=!1,k.trigger("free"),k._private.rscratch.inDragLayer=!1);for(var s=k._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;if(f(k,!1),k.selected())for(var u=h.$("node:selected"),v=0;v<u.length;v++){var w=u[v];w._private.rscratch.inDragLayer=!1;for(var s=w._private.edges,t=0;t<s.length;t++)s[t]._private.rscratch.inDragLayer=!1;f(w,!1)}c.data.canvasNeedsRedraw[b.DRAG]=!0,c.data.canvasNeedsRedraw[b.NODE]=!0,k.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}})),c.touchData.start=null}else{var x=c.findNearestElement(i[0],i[1],!0);null!=x&&x.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}})),null==x&&h.trigger(new a.Event(d,{type:"touchend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"tapend",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vmouseup",cyPosition:{x:i[0],y:i[1]}}))}null!=k&&!c.dragData.didDrag&&k._private.selectable&&Math.sqrt(Math.pow(c.touchData.startPosition[0]-i[0],2)+Math.pow(c.touchData.startPosition[1]-i[1],2))<6&&("single"===h.selectionType()?(h.$(":selected").unselect(),k.select()):k.selected()?k.unselect():k.select(),r=!0,c.data.canvasNeedsRedraw[b.NODE]=!0),0==c.touchData.singleTouchMoved&&(k?k.trigger(new a.Event(d,{type:"tap",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:i[0],y:i[1]}})):h.trigger(new a.Event(d,{type:"tap",cyPosition:{x:i[0],y:i[1]}})).trigger(new a.Event(d,{type:"vclick",cyPosition:{x:i[0],y:i[1]}}))),c.touchData.singleTouchMoved=!0}for(var t=0;t<i.length;t++)j[t]=i[t];c.dragData.didDrag=!1,r&&k&&k.updateStyle(!1),c.redraw()}},!1)}}(cytoscape),function(a){var b=a("renderer","canvas"),c=b.prototype,d=b.nodeShapes={};d.ellipse={draw:function(a,b,c,e,f){d.ellipse.drawPath(a,b,c,e,f),a.fill()},drawPath:function(a,b,c,d,e){a.beginPath(),a.translate(b,c),a.scale(d/2,e/2),a.arc(0,0,1,0,2*Math.PI*.999,!1),a.closePath(),a.scale(2/d,2/e),a.translate(-b,-c)},intersectLine:function(b,c,d,e,f,g,h){var i=a.math.intersectLineEllipse(f,g,b,c,d/2+h,e/2+h);return i},intersectBox:function(b,c,d,e,f,g,h,i,j){return a.math.boxIntersectEllipse(b,c,d,e,j,f,g,h,i)},checkPointRough:function(){return!0},checkPoint:function(a,b,c,d,e,f,g){return a-=f,b-=g,a/=d/2+c,b/=e/2+c,Math.pow(a,2)+Math.pow(b,2)<=1}},d.triangle={points:a.math.generateUnitNgonPointsFitToSquare(3,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.triangle.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.triangle.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.triangle.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.triangle.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.triangle.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.triangle.points,h,i,f,g,[0,-1],e)}},d.square={points:a.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.square.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.square.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.square.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.square.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.square.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.square.points,h,i,f,g,[0,-1],e)}},d.rectangle=d.square,d.octogon={},d.roundrectangle={points:a.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(a,b,d,e,f){c.drawRoundRectangle(a,b,d,e,f,10)},drawPath:function(a,b,d,e,f){c.drawRoundRectanglePath(a,b,d,e,f,10)},intersectLine:function(b,c,d,e,f,g,h){return a.math.roundRectangleIntersectLine(f,g,b,c,d,e,h)},intersectBox:function(b,c,d,e,f,g,h,i,j){return a.math.roundRectangleIntersectBox(b,c,d,e,f,g,h,i,j)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.roundrectangle.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){var j=a.math.getRoundRectangleRadius(f,g);if(a.math.pointInsidePolygon(b,c,d.roundrectangle.points,h,i,f,g-2*j,[0,-1],e))return!0;if(a.math.pointInsidePolygon(b,c,d.roundrectangle.points,h,i,f-2*j,g,[0,-1],e))return!0;var k=function(a,b,c,d,e,f,g){return a-=c,b-=d,a/=e/2+g,b/=f/2+g,Math.pow(a,2)+Math.pow(b,2)<=1};return k(b,c,h-f/2+j,i-g/2+j,2*j,2*j,e)?!0:k(b,c,h+f/2-j,i-g/2+j,2*j,2*j,e)?!0:k(b,c,h+f/2-j,i+g/2-j,2*j,2*j,e)?!0:k(b,c,h-f/2+j,i+g/2-j,2*j,2*j,e)?!0:!1}},d.roundrectangle2={roundness:4.99,draw:function(a,b,d){2*roundness>=b||c.drawPolygon(a._private.position.x,a._private.position.y,b,d,nodeSapes.roundrectangle2.points)},intersectLine:function(b,c,e,f,g){return a.math.findPolygonIntersection(b,c,e,f,g,d.square.points)},intersectBox:function(){d.square.points}},d.pentagon={points:a.math.generateUnitNgonPointsFitToSquare(5,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.pentagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.pentagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.pentagon.points,a,b,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.pentagon.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.pentagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.pentagon.points,h,i,f,g,[0,-1],e)}},d.hexagon={points:a.math.generateUnitNgonPointsFitToSquare(6,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.hexagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.hexagon.points)},intersectLine:function(b,c,e,f,g,h,i){return a.math.polygonIntersectLine(g,h,d.hexagon.points,b,c,e/2,f/2,i)},intersectBox:function(b,c,e,f,g,h,i,j,k){var l=d.hexagon.points;return a.math.boxIntersectPolygon(b,c,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.hexagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.hexagon.points,h,i,f,g,[0,-1],e)}},d.heptagon={points:a.math.generateUnitNgonPointsFitToSquare(7,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.heptagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.heptagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.heptagon.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.heptagon.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.heptagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.heptagon.points,h,i,f,g,[0,-1],e)}},d.octagon={points:a.math.generateUnitNgonPointsFitToSquare(8,0),draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.octagon.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.octagon.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.octagon.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.octagon.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.octagon.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.octagon.points,h,i,f,g,[0,-1],e)}};var e=new Array(20),f=a.math.generateUnitNgonPoints(5,0),g=a.math.generateUnitNgonPoints(5,Math.PI/5),h=.5*(3-Math.sqrt(5));h*=1.57;for(var i=0;i<g.length/2;i++)g[2*i]*=h,g[2*i+1]*=h;for(var i=0;5>i;i++)e[4*i]=f[2*i],e[4*i+1]=f[2*i+1],e[4*i+2]=g[2*i],e[4*i+3]=g[2*i+1];e=a.math.fitPolygonToSquare(e),d.star5=d.star={points:e,draw:function(a,b,e,f,g){c.drawPolygon(a,b,e,f,g,d.star5.points)},drawPath:function(a,b,e,f,g){c.drawPolygonPath(a,b,e,f,g,d.star5.points)},intersectLine:function(a,b,e,f,g,h,i){return c.polygonIntersectLine(g,h,d.star5.points,a,b,e/2,f/2,i)},intersectBox:function(a,b,e,f,g,h,i,j,k){var l=d.star5.points;return c.boxIntersectPolygon(a,b,e,f,l,g,h,i,j,[0,-1],k)},checkPointRough:function(b,c,e,f,g,h,i){return a.math.checkInBoundingBox(b,c,d.star5.points,e,f,g,h,i)},checkPoint:function(b,c,e,f,g,h,i){return a.math.pointInsidePolygon(b,c,d.star5.points,h,i,f,g,[0,-1],e)}}}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={ready:function(){},stop:function(){}};b.prototype.run=function(){var a=this.options,b=a.cy;b.nodes().positions(function(){return{x:0,y:0}}),b.one("layoutready",a.ready),b.trigger("layoutready"),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){var a=this.options;cy.one("layoutstop",a.stop),cy.trigger("layoutstop")},a("layout","null",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={ready:void 0,stop:void 0,fit:!0,padding:30};b.prototype.run=function(){var a=this.options,b=a.cy,c=b.nodes(),d=(b.edges(),b.container()),e=d.clientWidth,f=d.clientHeight;c.positions(function(a,b){return b.locked()?!1:{x:Math.round(Math.random()*e),y:Math.round(Math.random()*f)}}),b.one("layoutready",a.ready),b.trigger("layoutready"),a.fit&&b.fit(a.padding),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","random",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,padding:30,rows:void 0,columns:void 0,position:function(){},ready:void 0,stop:void 0};b.prototype.run=function(){var a=this.options,b=a,c=a.cy,d=c.nodes(),e=(c.edges(),c.container()),f=e.clientWidth,g=e.clientHeight;if(0==g||0==f)d.positions(function(){return{x:0,y:0}});else{var h=d.size(),i=Math.sqrt(h*g/f),j=Math.round(i),k=Math.round(f/g*i),l=function(a){if(void 0==a)return Math.min(j,k);var b=Math.min(j,k);b==j?j=a:k=a},m=function(a){if(void 0==a)return Math.max(j,k);var b=Math.max(j,k);b==j?j=a:k=a};if(null!=b.rows&&null!=b.columns)j=b.rows,k=b.columns;else if(null!=b.rows&&null==b.columns)j=b.rows,k=Math.ceil(h/j);else if(null==b.rows&&null!=b.columns)k=b.columns,j=Math.ceil(h/k);else if(k*j>h){var n=l(),o=m();(n-1)*o>=h?l(n-1):(o-1)*n>=h&&m(o-1)}else for(;h>k*j;){var n=l(),o=m();(o+1)*n>=h?m(o+1):l(n+1)}for(var p=f/k,q=g/j,r=0;r<d.length;r++){var s=d[r],t=s.outerWidth(),u=s.outerHeight();p=Math.max(p,t),q=Math.max(q,u)}for(var v={},w=function(a,b){return v["c-"+a+"-"+b]?!0:!1},x=function(a,b){v["c-"+a+"-"+b]=!0},y=0,z=0,A=function(){z++,z>=k&&(z=0,y++)},B={},r=0;r<d.length;r++){var s=d[r],C=b.position(s);if(C&&(void 0!==C.row||void 0!==C.col)){var D={row:C.row,col:C.col};if(void 0===D.col)for(D.col=0;w(D.row,D.col);)D.col++;else if(void 0===D.row)for(D.row=0;w(D.row,D.col);)D.row++;B[s.id()]=D,x(D.row,D.col)}}d.positions(function(a,b){var c,d;if(b.locked()||b.isFullAutoParent())return!1;var e=B[b.id()];if(e)c=e.col*p+p/2,d=e.row*q+q/2;else{for(;w(y,z);)A();c=z*p+p/2,d=y*q+q/2,x(y,z),A()}return{x:c,y:d}})}a.fit&&c.fit(b.padding),c.one("layoutready",a.ready),c.trigger("layoutready"),c.one("layoutstop",a.stop),c.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","grid",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend(!0,{},c,b)}var c={fit:!0,ready:void 0,stop:void 0,positions:void 0,zoom:void 0,pan:void 0,padding:30};b.prototype.run=function(){function a(a){return null==b.positions?null:null==b.positions[a._private.data.id]?null:b.positions[a._private.data.id]}var b=this.options,c=b.cy,d=c.nodes();c.edges(),c.container(),d.positions(function(b,c){var d=a(c);return c.locked()||null==d?!1:d}),null!=b.pan&&c.pan(b.pan),null!=b.zoom&&c.zoom(b.zoom),c.one("layoutready",b.ready),c.trigger("layoutready"),b.fit&&c.fit(b.padding),c.one("layoutstop",b.stop),c.trigger("layoutstop")},a("layout","preset",b),a("core","presetLayout",function(){var a=this,b={},c={};return a.nodes().each(function(a,b){c[b.data("id")]=b.position()}),b.positions=c,b.name="preset",b.zoom=a.zoom(),b.pan=a.pan(),b})}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={liveUpdate:!0,ready:void 0,stop:void 0,maxSimulationTime:4e3,fit:!0,padding:[50,50,50,50],simulationBounds:void 0,ungrabifyWhileSimulating:!0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:1,stableEnergy:function(a){var b=a;return b.max<=.5||b.mean<=.3}};b.prototype.run=function(){function b(a,b){return null==b?void 0:"function"==typeof b?b.apply(a,[a._private.data,{nodes:g.length,edges:h.length,element:a}]):b}function c(a){var b=a.x,c=a.y,d=j,e=k,f=-2,g=2,h=4;return{x:b/d*h+f,y:c/e*h+g}}function d(a){e.fit&&f.fit(),a()}var e=this.options,f=e.cy,g=f.nodes(),h=f.edges(),i=f.container(),j=i.clientWidth,k=i.clientHeight,l=e.simulationBounds;e.simulationBounds?(j=l[2]-l[0],k=l[3]-l[1]):e.simulationBounds=[0,0,j,k];var m=e.simulationBounds;if(m.x1=m[0],m.y1=m[1],m.x2=m[2],m.y2=m[3],f.nodes().size()<=1)return e.fit&&f.reset(),f.nodes().position({x:Math.round((m.x1+m.x2)/2),y:Math.round((m.y1+m.y2)/2)}),f.one("layoutready",e.ready),f.trigger("layoutready"),f.one("layoutstop",e.stop),void f.trigger("layoutstop");var n=this.system=arbor.ParticleSystem(e.repulsion,e.stiffness,e.friction,e.gravity,e.fps,e.dt,e.precision);this.system=n,e.liveUpdate&&e.fit&&f.reset();var o,p=250,q=!1,r=+new Date,s={init:function(){},redraw:function(){var b=n.energy();if(null!=e.stableEnergy&&null!=b&&b.n>0&&e.stableEnergy(b))return void n.stop();clearTimeout(o),o=setTimeout(v,p);var c=[];n.eachNode(function(a,b){var d=(a.name,a.data),e=d.element;null!=e&&(e.locked()||e.grabbed()||(e.silentPosition({x:m.x1+b.x,y:m.y1+b.y}),c.push(e)))});var d=+new Date-r>=16;e.liveUpdate&&c.length>0&&d&&(new a.Collection(f,c).rtrigger("position"),r=+new Date),q||(q=!0,f.one("layoutready",e.ready),f.trigger("layoutready"))}};n.renderer=s,n.screenSize(j,k),n.screenPadding(e.padding[0],e.padding[1],e.padding[2],e.padding[3]),n.screenStep(e.stepSize);var t=function(a){grabbed=this;var b=n.fromScreen(this.position()),c=arbor.Point(b.x,b.y);switch(this.scratch().arbor.p=c,a.type){case"grab":this.scratch().arbor.fixed=!0;break;case"dragstop":this.scratch().arbor.fixed=!1,this.scratch().arbor.tempMass=1e3}};g.bind("grab drag dragstop",t),g.each(function(a,d){if(!this.isFullAutoParent()){var f=this._private.data.id,g=b(this,e.nodeMass),h=this._private.locked;if(!d.isFullAutoParent()){var i=c({x:d.position().x,y:d.position().y});d.locked()||(this.scratch().arbor=n.addNode(f,{element:this,mass:g,fixed:h,x:h?i.x:void 0,y:h?i.y:void 0}))}}}),h.each(function(){var a=(this.id(),this.source().id()),c=this.target().id(),d=b(this,e.edgeLength);this.scratch().arbor=n.addEdge(a,c,{length:d})});var u=g.filter(":grabbable");e.ungrabifyWhileSimulating&&u.ungrabify();var v=function(){function a(){e.liveUpdate||(e.fit&&f.reset(),f.nodes().rtrigger("position")),g.unbind("grab drag dragstop",t),e.ungrabifyWhileSimulating&&u.grabify(),f.one("layoutstop",e.stop),f.trigger("layoutstop")}window.isIE?d(function(){a()}):a()};n.start(),setTimeout(function(){n.stop()},e.maxSimulationTime)},b.prototype.stop=function(){null!=this.system&&system.stop()},a("layout","arbor",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,ready:void 0,stop:void 0,rStepSize:10,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1};b.prototype.run=function(){function a(){var a=0,b=k,c={x:i.x+o*Math.cos(a),y:i.y+o*Math.sin(a)},d={x:i.x+o*Math.cos(b),y:i.y+o*Math.sin(b)},e=Math.sqrt((d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y));return e}for(var b=this.options,c=b,d=b.cy,e=d.nodes().filter(function(){return!this.isFullAutoParent()}),f=(d.edges(),d.container()),g=f.clientWidth,h=f.clientHeight,i={x:g/2,y:h/2},j=c.startAngle,k=2*Math.PI/e.length,l=0,m=0;m<e.length;m++){var n=e[m];l=Math.max(n.outerWidth(),n.outerHeight())}for(var o=g/2-l;a()<l&&!(e.length<2);)o+=c.rStepSize;var m=0;e.positions(function(){var a=o*Math.cos(j),b=o*Math.sin(j),d={x:i.x+a,y:i.y+b};return m++,j=c.counterclockwise?j-k:j+k,d}),b.fit&&d.fit(c.padding),d.one("layoutready",b.ready),d.trigger("layoutready"),d.one("layoutstop",b.stop),d.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","circle",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},c,b)}var c={fit:!0,ready:void 0,stop:void 0,directed:!0,padding:30,circle:!1,roots:void 0,maximalAdjustments:0};b.prototype.run=function(){var b,c=this.options,d=c,e=c.cy,f=e.nodes(),g=(e.edges(),e.container()),h=g.clientWidth,i=g.clientHeight;if(a.is.elementOrCollection(d.roots))b=d.roots;else if(a.is.array(d.roots)){for(var j=[],k=0;k<d.roots.length;k++){var l=d.roots[k],m=e.getElementById(l);b.push(m)}b=new a.Collection(e,j)}else b=f.roots();var n=[],o={},p={};b.bfs(function(a,b){var c=this[0];n[b]||(n[b]=[]),n[b].push(c),o[c.id()]=!0,p[c.id()]=b},d.directed);for(var q=[],k=0;k<f.length;k++){var m=f[k];o[m.id()]||q.push(m)}for(var r=3*q.length,s=0;0!==q.length&&r>s;){for(var t=q.shift(),u=t.neighborhood().nodes(),v=!1,k=0;k<u.length;k++){var w=p[u[k].id()];if(void 0!==w){n[w].push(t),v=!0;break}}v||q.push(t),s++}for(;0!==q.length;){for(var t=q.shift(),x=t.bfs(),v=!1,k=0;k<x.length;k++){var w=p[x[k].id()];if(void 0!==w){n[w].push(t),v=!0;break}}v||(0===n.length&&n.push([]),n[0].push(t))}var y=function(){for(var a=0;a<n.length;a++)for(var b=n[a],c=0;c<b.length;c++){var d=b[c];
d._private.scratch.BreadthFirstLayout={depth:a,index:c}}};y();for(var z=0;z<d.maximalAdjustments;z++){for(var A=function(a){for(var b,c=a.connectedEdges('[target = "'+a.id()+'"]'),d=a._private.scratch.BreadthFirstLayout,e=0,f=0;f<c.length;f++){var g=c[f],h=g.source()[0],i=h._private.scratch.BreadthFirstLayout;d.depth<i.depth&&e<i.depth&&(e=i.depth,b=h)}return b},B=n.length,C=[],k=0;B>k;k++)for(var w=n[k],D=w.length,E=0;D>E;E++){var m=w[E],F=m._private.scratch.BreadthFirstLayout,G=A(m);G&&(F.intEle=G,C.push(m))}for(var k=0;k<C.length;k++){var m=C[k],F=m._private.scratch.BreadthFirstLayout,G=F.intEle,H=G._private.scratch.BreadthFirstLayout;n[F.depth].splice(F.index,1);for(var I=H.depth+1;I>n.length-1;)n.push([]);n[I].push(m),F.depth=I,F.index=n[I].length-1}y()}for(var J=0,k=0;k<f.length;k++){var K=f[k].outerWidth(),L=f[k].outerHeight();J=Math.max(J,K,L)}J*=1.75;for(var M={},N=function(a){if(M[a.id()])return M[a.id()];for(var b=a._private.scratch.BreadthFirstLayout.depth,c=a.neighborhood().nodes(),d=0,e=0,f=0;f<c.length;f++){var g=c[f],h=(g.edgesWith(a),g._private.scratch.BreadthFirstLayout.index),i=g._private.scratch.BreadthFirstLayout.depth,j=n[i].length;(b>i||0===b)&&(d+=h/j,e++)}return e=Math.max(1,e),d/=e,0===e&&(d=void 0),M[a.id()]=d,d},O=0;3>O;O++){for(var k=0;k<n.length;k++){var w=k;n[k]=n[k].sort(function(a,b){var c=N(a),d=N(b);return c-d})}y()}var P={x:h/2,y:i/2};f.positions(function(){var a=this[0],b=a._private.scratch.BreadthFirstLayout,c=b.depth,e=b.index,f=Math.max(h/(n[c].length+1),J),g=Math.max(i/(n.length+1),J),j=Math.min(h/2/n.length,i/2/n.length);if(j=Math.max(j,J),d.circle){var k=j*c+j-(n.length>0&&n[0].length<=3?j/2:0),l=2*Math.PI/n[c].length*e;return 0===c&&1===n[0].length&&(k=1),{x:P.x+k*Math.cos(l),y:P.y+k*Math.sin(l)}}return{x:(e+1)*f,y:(c+1)*g}}),c.fit&&e.fit(d.padding),e.one("layoutready",c.ready),e.trigger("layoutready"),e.one("layoutstop",c.stop),e.trigger("layoutstop")},b.prototype.stop=function(){},a("layout","breadthfirst",b)}(cytoscape),function(a){function b(b){this.options=a.util.extend({},d,b)}var c,d={ready:function(){},stop:function(){},refresh:0,fit:!0,padding:30,randomize:!0,debug:!1,nodeRepulsion:1e4,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};b.prototype.run=function(){var a=this.options,b=a.cy;c=1==a.debug?!0:!1;var d=new Date,f=e(b,a);c&&h(f),1==a.randomize&&(i(f,b),0<a.refresh&&j(f,b,a)),s(f,b,a);for(var g=0;g<a.numIter;g++)if(k(f,b,a,g),0<a.refresh&&0==g%a.refresh&&j(f,b,a),f.temperature=f.temperature*a.coolingFactor,v("New temperature: "+f.temperature),f.temperature<a.minTemp){v("Temperature drop below minimum threshold. Stopping computation in step "+g);break}j(f,b,a),1==a.fit&&b.fit(a.padding);var l=new Date;console.info("Layout took "+(l-d)+" ms"),b.one("layoutstop",a.stop),b.trigger("layoutstop")},b.prototype.stop=function(){var a=this.options;cy.one("layoutstop",a.stop),cy.trigger("layoutstop")};var e=function(a,b){for(var c={layoutNodes:[],idToIndex:{},nodeSize:a.nodes().size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.edges().size(),temperature:b.initialTemp},d=a.nodes(),e=0;e<c.nodeSize;e++){var g={};g.id=d[e].data("id"),g.parentId=d[e].data("parent"),g.children=[],g.positionX=d[e].position("x"),g.positionY=d[e].position("y"),g.offsetX=0,g.offsetY=0,g.height=d[e].height(),g.width=d[e].width(),g.maxX=g.positionX+g.width/2,g.minX=g.positionX-g.width/2,g.maxY=g.positionY+g.height/2,g.minY=g.positionY-g.height/2,g.padLeft=d[e]._private.style["padding-left"].pxValue,g.padRight=d[e]._private.style["padding-right"].pxValue,g.padTop=d[e]._private.style["padding-top"].pxValue,g.padBottom=d[e]._private.style["padding-bottom"].pxValue,c.layoutNodes.push(g),c.idToIndex[g.id]=e}for(var h=[],i=0,j=-1,k=[],e=0;e<c.nodeSize;e++){var l=c.layoutNodes[e],m=l.parentId;void 0!=m?c.layoutNodes[c.idToIndex[m]].children.push(l.id):(h[++j]=l.id,k.push(l.id))}for(c.graphSet.push(k);j>=i;){var n=h[i++],o=c.idToIndex[n],p=c.layoutNodes[o],q=p.children;if(q.length>0){c.graphSet.push(q);for(var e=0;e<q.length;e++)h[++j]=q[e]}}for(var e=0;e<c.graphSet.length;e++)for(var r=c.graphSet[e],s=0;s<r.length;s++){var t=c.idToIndex[r[s]];c.indexToGraph[t]=e}for(var u=a.edges(),e=0;e<c.edgeSize;e++){var w=u[e],x={};x.id=w.data("id"),x.sourceId=w.data("source"),x.targetId=w.data("target");var y=b.idealEdgeLength,z=c.idToIndex[x.sourceId],A=c.idToIndex[x.targetId],B=c.indexToGraph[z],C=c.indexToGraph[A];if(B!=C){for(var D=f(x.sourceId,x.targetId,c),E=c.graphSet[D],F=0,g=c.layoutNodes[z];-1==$.inArray(g.id,E);)g=c.layoutNodes[c.idToIndex[g.parentId]],F++;for(g=c.layoutNodes[A];-1==$.inArray(g.id,E);)g=c.layoutNodes[c.idToIndex[g.parentId]],F++;v("LCA of nodes "+x.sourceId+" and "+x.targetId+". Index: "+D+" Contents: "+E.toString()+". Depth: "+F),y*=F*b.nestingFactor}x.idealLength=y,c.layoutEdges.push(x)}return c},f=function(a,b,c){var d=g(a,b,0,c);return 2>d.count?0:d.graph},g=function(a,b,c,d){var e=d.graphSet[c];if(-1<$.inArray(a,e)&&-1<$.inArray(b,e))return{count:2,graph:c};for(var f=0,h=0;h<e.length;h++){var i=e[h],j=d.idToIndex[i],k=d.layoutNodes[j].children;if(0!=k.length){var l=d.indexToGraph[d.idToIndex[k[0]]],m=g(a,b,l,d);if(0!=m.count){if(1!=m.count)return m;if(f++,2==f)break}}}return{count:f,graph:c}},h=function(a){if(c){console.debug("layoutNodes:");for(var b=0;b<a.nodeSize;b++){var d=a.layoutNodes[b],e="\nindex: "+b+"\nId: "+d.id+"\nChildren: "+d.children.toString()+"\nparentId: "+d.parentId+"\npositionX: "+d.positionX+"\npositionY: "+d.positionY+"\nOffsetX: "+d.offsetX+"\nOffsetY: "+d.offsetY+"\npadLeft: "+d.padLeft+"\npadRight: "+d.padRight+"\npadTop: "+d.padTop+"\npadBottom: "+d.padBottom;console.debug(e)}console.debug("idToIndex");for(var b in a.idToIndex)console.debug("Id: "+b+"\nIndex: "+a.idToIndex[b]);console.debug("Graph Set");for(var f=a.graphSet,b=0;b<f.length;b++)console.debug("Set : "+b+": "+f[b].toString());for(var e="IndexToGraph",b=0;b<a.indexToGraph.length;b++)e+="\nIndex : "+b+" Graph: "+a.indexToGraph[b];console.debug(e),e="Layout Edges";for(var b=0;b<a.layoutEdges.length;b++){var g=a.layoutEdges[b];e+="\nEdge Index: "+b+" ID: "+g.id+" SouceID: "+g.sourceId+" TargetId: "+g.targetId+" Ideal Length: "+g.idealLength}console.debug(e),e="nodeSize: "+a.nodeSize,e+="\nedgeSize: "+a.edgeSize,e+="\ntemperature: "+a.temperature,console.debug(e)}},i=function(a,b){for(var c=b.container(),d=c.clientWidth,e=c.clientHeight,f=0;f<a.nodeSize;f++){var g=a.layoutNodes[f];g.positionX=Math.random()*d,g.positionY=Math.random()*e}},j=function(a,b,c){var d=b.container(),e=(d.clientWidth,d.clientHeight,"Refreshing positions");v(e),b.nodes().positions(function(b,c){var d=a.layoutNodes[a.idToIndex[c.data("id")]];return e="Node: "+d.id+". Refreshed position: ("+d.positionX+", "+d.positionY+").",v(e),{x:d.positionX,y:d.positionY}}),1!=a.ready&&(e="Triggering layoutready",v(e),a.ready=!0,b.one("layoutready",c.ready),b.trigger("layoutready"))},k=function(a,b,c,d){var e="\n\n###############################";e+="\nSTEP: "+d,e+="\n###############################\n",v(e),l(a,b,c),p(a,b,c),q(a,b,c),r(a,b,c),s(a,b,c)},l=function(a,b,c){var d="calculateNodeForces";v(d);for(var e=0;e<a.graphSet.length;e++){var f=a.graphSet[e],g=f.length;d="Set: "+f.toString(),v(d);for(var h=0;g>h;h++)for(var i=a.layoutNodes[a.idToIndex[f[h]]],j=h+1;g>j;j++){var k=a.layoutNodes[a.idToIndex[f[j]]];m(i,k,a,b,c)}}},m=function(a,b,c,d,e){var f="Node repulsion. Node1: "+a.id+" Node2: "+b.id,g=b.positionX-a.positionX,h=b.positionY-a.positionY;if(f+="\ndirectionX: "+g+", directionY: "+h,0==g&&0==h)return void(f+="\nNodes have the same position.");var i=o(a,b,g,h);if(i>0){f+="\nNodes DO overlap.",f+="\nOverlap: "+i;var j=e.nodeOverlap*i,k=Math.sqrt(g*g+h*h);f+="\nDistance: "+k;var l=j*g/k,m=j*h/k}else{f+="\nNodes do NOT overlap.";var p=n(a,g,h),q=n(b,-1*g,-1*h),r=q.x-p.x,s=q.y-p.y,t=r*r+s*s,k=Math.sqrt(t);f+="\nDistance: "+k;var j=e.nodeRepulsion/t,l=j*r/k,m=j*s/k}a.offsetX-=l,a.offsetY-=m,b.offsetX+=l,b.offsetY+=m,f+="\nForceX: "+l+" ForceY: "+m,v(f)},n=function(a,b,c){var d=a.positionX,e=a.positionY,f=a.height,g=a.width,h=c/b,i=f/g,j="Computing clipping point of node "+a.id+" . Height:  "+f+", Width: "+g+"\nDirection "+b+", "+c,k={};do{if(0==b&&c>0){k.x=d,j+="\nUp direction",k.y=e+f/2;break}if(0==b&&0>c){k.x=d,k.y=e+f/2,j+="\nDown direction";break}if(b>0&&h>=-1*i&&i>=h){k.x=d+g/2,k.y=e+g*c/2/b,j+="\nRightborder";break}if(0>b&&h>=-1*i&&i>=h){k.x=d-g/2,k.y=e-g*c/2/b,j+="\nLeftborder";break}if(c>0&&(-1*i>=h||h>=i)){k.x=d+f*b/2/c,k.y=e+f/2,j+="\nTop border";break}if(0>c&&(-1*i>=h||h>=i)){k.x=d-f*b/2/c,k.y=e-f/2,j+="\nBottom border";break}}while(!1);return j+="\nClipping point found at "+k.x+", "+k.y,v(j),k},o=function(a,b,c,d){if(c>0)var e=a.maxX-b.minX;else var e=b.maxX-a.minX;if(d>0)var f=a.maxY-b.minY;else var f=b.maxY-a.minY;return e>=0&&f>=0?Math.sqrt(e*e+f*f):0},p=function(a,b,c){for(var d=0;d<a.edgeSize;d++){var e=a.layoutEdges[d],f=a.idToIndex[e.sourceId],g=a.layoutNodes[f],h=a.idToIndex[e.targetId],i=a.layoutNodes[h],j=i.positionX-g.positionX,k=i.positionY-g.positionY;if(0==j&&0==k)return;var l=n(g,j,k),m=n(i,-1*j,-1*k),o=m.x-l.x,p=m.y-l.y,q=Math.sqrt(o*o+p*p),r=Math.pow(e.idealLength-q,2)/c.edgeElasticity;if(0!=q)var s=r*o/q,t=r*p/q;else var s=0,t=0;g.offsetX+=s,g.offsetY+=t,i.offsetX-=s,i.offsetY-=t;var u="Edge force between nodes "+g.id+" and "+i.id;u+="\nDistance: "+q+" Force: ("+s+", "+t+")",v(u)}},q=function(a,b,c){var d="calculateGravityForces";v(d);for(var e=0;e<a.graphSet.length;e++){var f=a.graphSet[e],g=f.length;if(d="Set: "+f.toString(),v(d),0==e)var h=b.container(),i=h.clientHeight/2,j=h.clientWidth/2;else var k=a.layoutNodes[a.idToIndex[f[0]]],l=a.layoutNodes[a.idToIndex[k.parentId]],i=l.positionX,j=l.positionY;d="Center found at: "+i+", "+j,v(d);for(var m=0;g>m;m++){var n=a.layoutNodes[a.idToIndex[f[m]]];d="Node: "+n.id;var o=i-n.positionX,p=j-n.positionY,q=Math.sqrt(o*o+p*p);if(q>1){var r=c.gravity*o/q,s=c.gravity*p/q;n.offsetX+=r,n.offsetY+=s,d+=": Applied force: "+r+", "+s}else d+=": skypped since it's too close to center";v(d)}}},r=function(a){var b=[],c=0,d=-1;for(v("propagateForces"),b.push.apply(b,a.graphSet[0]),d+=a.graphSet[0].length;d>=c;){var e=b[c++],f=a.idToIndex[e],g=a.layoutNodes[f],h=g.children;if(0<h.length){var i=g.offsetX,j=g.offsetY,k="Propagating offset from parent node : "+g.id+". OffsetX: "+i+". OffsetY: "+j;k+="\n Children: "+h.toString(),v(k);for(var l=0;l<h.length;l++){var m=a.layoutNodes[a.idToIndex[h[l]]];m.offsetX+=i,m.offsetY+=j,b[++d]=h[l]}g.offsetX=0,g.offsetY=0}}},s=function(a){var b="Updating positions";v(b);for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(v("Resetting boundaries of compound node: "+d.id),d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0)}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];if(0<d.children.length)v("Skipping position update of node: "+d.id);else{b="Node: "+d.id+" Previous position: ("+d.positionX+", "+d.positionY+").";var e=t(d.offsetX,d.offsetY,a.temperature);d.positionX+=e.x,d.positionY+=e.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,b+=" New Position: ("+d.positionX+", "+d.positionY+").",v(b),u(d,a)}}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,b="Updating position, size of compound node "+d.id,b+="\nPositionX: "+d.positionX+", PositionY: "+d.positionY,b+="\nWidth: "+d.width+", Height: "+d.height,v(b))}},t=function(a,b,c){var d="Limiting force: ("+a+", "+b+"). Max: "+c,e=Math.sqrt(a*a+b*b);if(e>c)var f={x:c*a/e,y:c*b/e};else var f={x:a,y:b};return d+=".\nResult: ("+f.x+", "+f.y+")",v(d),f},u=function(a,b){var c="Propagating new position/size of node "+a.id,d=a.parentId;if(void 0==d)return c+=". No parent node.",void v(c);var e=b.layoutNodes[b.idToIndex[d]],f=!1;return(void 0==e.maxX||a.maxX+e.padRight>e.maxX)&&(e.maxX=a.maxX+e.padRight,f=!0,c+="\nNew maxX for parent node "+e.id+": "+e.maxX),(void 0==e.minX||a.minX-e.padLeft<e.minX)&&(e.minX=a.minX-e.padLeft,f=!0,c+="\nNew minX for parent node "+e.id+": "+e.minX),(void 0==e.maxY||a.maxY+e.padBottom>e.maxY)&&(e.maxY=a.maxY+e.padBottom,f=!0,c+="\nNew maxY for parent node "+e.id+": "+e.maxY),(void 0==e.minY||a.minY-e.padTop<e.minY)&&(e.minY=a.minY-e.padTop,f=!0,c+="\nNew minY for parent node "+e.id+": "+e.minY),f?(v(c),u(e,b)):(c+=". No changes in boundaries/position of parent node "+e.id,void v(c))},v=function(a){c&&console.debug(a)};a("layout","cose",b)}(cytoscape);