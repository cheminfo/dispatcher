define([require,"../../field","src/util/util","jqueryui","components/farbtastic/src/farbtastic","components/spectrum/spectrum"],function(a,b,c){var d=null,e=function(a){var b=this;c.loadCss("./components/spectrum/spectrum.css"),this.name=a,this.domExpander=$("<div></div>"),this.domExpander.append('<div><input type="text"></input></div>'),$(this.domExpander).children("div").css("float","left").addClass("form-spectrum"),$(this.domExpander).find("input").spectrum({color:"#ffffff",cancelText:"",showInitial:!0,showInput:!0,flat:!0,clickoutFiresChange:!0,showAlpha:!0,showPalette:!0,showSelectionPalette:!0,palette:[],localStorageKey:"visualizer-spectrum",change:function(a){var c=a.toRgb();b.getElementExpanded().value=d.value=[c.r,c.g,c.b,c.a],d.toggleSelect()}}),$("<div />").addClass("clear").appendTo(this.domExpander)};return e.prototype=new b,e.prototype.getOptions=function(a){return a.getOptions()||this.options.options},e.prototype.showExpander=function(a){d=a,this._showExpander(a);var b=a.value||[0,0,0,1];this.domExpander.find(".form-spectrum").spectrum("set",c.rgbToHex(b[0],b[1],b[2]))},e});