Pixastic.Actions.hsl={process:function(a){var b=parseInt(a.options.hue,10)||0,c=(parseInt(a.options.saturation,10)||0)/100,d=(parseInt(a.options.lightness,10)||0)/100;if(0>c)var e=1+c;else var e=1+2*c;b=b%360/360;var f=6*b,g=255*d,h=1+d,i=1-d;if(Pixastic.Client.hasCanvasImageData()){for(var j=Pixastic.prepareData(a),k=a.options.rect,l=k.width*k.height,m=4*l,n=m+1,o=m+2;l--;){var p=j[m-=4],q=j[n=m+1],r=j[o=m+2];if(0!=b||0!=c){var s=p;q>s&&(s=q),r>s&&(s=r);var t=p;t>q&&(t=q),t>r&&(t=r);var u=s-t,v=(t+s)/510;if(v>0&&u>0){if(.5>=v){var w=u/(s+t)*e;w>1&&(w=1);var x=v*(1+w)}else{var w=u/(510-s-t)*e;w>1&&(w=1);var x=v+w-v*w}if(p==s)if(q==t)var y=5+(s-r)/u+f;else var y=1-(s-q)/u+f;else if(q==s)if(r==t)var y=1+(s-p)/u+f;else var y=3-(s-r)/u+f;else if(p==t)var y=3+(s-q)/u+f;else var y=5-(s-p)/u+f;0>y&&(y+=6),y>=6&&(y-=6);var z=v+v-x,A=y>>0;0==A?(p=255*x,q=255*(z+(x-z)*(y-A)),r=255*z):1==A?(p=255*(x-(x-z)*(y-A)),q=255*x,r=255*z):2==A?(p=255*z,q=255*x,r=255*(z+(x-z)*(y-A))):3==A?(p=255*z,q=255*(x-(x-z)*(y-A)),r=255*x):4==A?(p=255*(z+(x-z)*(y-A)),q=255*z,r=255*x):5==A&&(p=255*x,q=255*z,r=255*(x-(x-z)*(y-A)))}}0>d?(p*=h,q*=h,r*=h):d>0&&(p=p*i+g,q=q*i+g,r=r*i+g),j[m]=0>p?0:p>255?255:p,j[n]=0>q?0:q>255?255:q,j[o]=0>r?0:r>255?255:r}return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}};