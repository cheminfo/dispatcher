Pixastic.Actions.edges2={process:function(a){if(Pixastic.Client.hasCanvasImageData()){for(var b=Pixastic.prepareData(a),c=Pixastic.prepareData(a,!0),d=a.options.rect,e=d.width,f=d.height,g=4*e,h=g+4,i=f-1,j=e-1,k=1;i>k;++k){for(var l=h-4,m=l-g,n=l+g,o=-c[m]-c[l]-c[n],p=-c[++m]-c[++l]-c[++n],q=-c[++m]-c[++l]-c[++n],r=c[m+=2],s=c[++m],t=c[++m],u=c[l+=2],v=c[++l],w=c[++l],x=c[n+=2],y=c[++n],z=c[++n],A=-r-u-x,B=-s-v-y,C=-t-w-z,D=1;j>D;++D){l=h+4,m=l-g,n=l+g;var E=127+o-r- -8*u-x,F=127+p-s- -8*v-y,G=127+q-t- -8*w-z;o=A,p=B,q=C,r=c[m],s=c[++m],t=c[++m],u=c[l],v=c[++l],w=c[++l],x=c[n],y=c[++n],z=c[++n],E+=A=-r-u-x,F+=B=-s-v-y,G+=C=-t-w-z,E>255&&(E=255),F>255&&(F=255),G>255&&(G=255),0>E&&(E=0),0>F&&(F=0),0>G&&(G=0),b[h]=E,b[++h]=F,b[++h]=G,h+=2}h+=8}return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}};