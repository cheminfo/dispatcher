Pixastic.Actions.laplace={process:function(a){var b=!(!a.options.invert||"false"==a.options.invert),c=parseFloat(a.options.edgeStrength)||0,d=parseInt(a.options.greyLevel)||0;if(c=-c,Pixastic.Client.hasCanvasImageData()){var e=Pixastic.prepareData(a),f=Pixastic.prepareData(a,!0),g=1/8,h=a.options.rect,i=h.width,j=h.height,k=4*i,l=j;do{var m=(l-1)*k,n=l==j?l-1:l,o=1==l?0:l-2,p=o*i*4,q=n*i*4,r=i;do{var s=m+(4*r-4),t=p+4*(1==r?0:r-2),u=q+4*(r==i?r-1:r),v=(-f[t-4]-f[t]-f[t+4]-f[s-4]-f[s+4]-f[u-4]-f[u]-f[u+4]+8*f[s])*g,w=(-f[t-3]-f[t+1]-f[t+5]-f[s-3]-f[s+5]-f[u-3]-f[u+1]-f[u+5]+8*f[s+1])*g,x=(-f[t-2]-f[t+2]-f[t+6]-f[s-2]-f[s+6]-f[u-2]-f[u+2]-f[u+6]+8*f[s+2])*g,y=(v+w+x)/3+d;0!=c&&(y>127?y+=(y+1-128)*c:127>y&&(y-=(y+1)*c)),b&&(y=255-y),0>y&&(y=0),y>255&&(y=255),e[s]=e[s+1]=e[s+2]=y}while(--r)}while(--l);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}};