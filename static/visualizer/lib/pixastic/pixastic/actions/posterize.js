Pixastic.Actions.posterize={process:function(a){var b=256;if("undefined"!=typeof a.options.levels&&(b=parseInt(a.options.levels,10)||1),Pixastic.Client.hasCanvasImageData()){var c=Pixastic.prepareData(a);b=Math.max(2,Math.min(256,b));var d=256/b,e=256/(b-1),f=a.options.rect,g=f.width,h=f.height,i=4*g,j=h;do{var k=(j-1)*i,l=g;do{var m=k+4*(l-1),n=e*(c[m]/d>>0),o=e*(c[m+1]/d>>0),p=e*(c[m+2]/d>>0);n>255&&(n=255),o>255&&(o=255),p>255&&(p=255),c[m]=n,c[m+1]=o,c[m+2]=p}while(--l)}while(--j);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}};