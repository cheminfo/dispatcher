define(["modules/default/defaultcontroller"],function(a){function b(){this._data=new DataObject}function c(a,b){if(b.children)for(var d=0,e=b.children.length;e>d;d++)c(a,b.children[d]);else b.data&&a.push(b.data)}return b.prototype=$.extend(!0,{},a),b.prototype.moduleInformation={moduleName:"D3 Phylogram",description:"Display phylogram using D3 library",author:"Nathanaêl Khodl, Luc Patiny, Michaël Zasso",date:"30.12.2013",license:"MIT",cssClass:"phylogram"},b.prototype.mouseOverLeaf=function(a){a.data&&(this._data=DataObject.check(a.data),this.createDataFromEvent("onLeafHover","leaf",DataObject.check(this._data)))},b.prototype.mouseOutLeaf=function(){},b.prototype.clickLeaf=function(a){a.data&&(this._data=DataObject.check(a.data),this.createDataFromEvent("onLeafSelect","leaf",DataObject.check(this._data)))},b.prototype.mouseOverBranch=function(a){this.sendTreeFromEvent(a,"onBranchHover")},b.prototype.mouseOutBranch=function(){},b.prototype.clickBranch=function(a){this.sendTreeFromEvent(a,"onBranchSelect")},b.prototype.sendTreeFromEvent=function(a,b){var d=new DataObject({type:"tree",value:a},!0);this.sendAction("tree",d,b),this.createDataFromEvent(b,"tree",d),this.createDataFromEvent(b,"list",function(){var b=[];return c(b,a),DataArray(b)})},b.prototype.configurationStructure=function(){return{groups:{group:{options:{type:"list"},fields:{branchWidth:{type:"text","default":4,title:"Branch width"}}}}}},b.prototype.configAliases={branchWidth:["groups","group",0,"branchWidth",0]},b.prototype.events={onLeafSelect:{label:"Select a leaf",refVariable:["leaf"]},onLeafHover:{label:"Hovers a leaf",refVariable:["leaf"]},onBranchSelect:{label:"Select a branch",refVariable:["tree","list"]},onBranchHover:{label:"Hovers a branch",refVariable:["tree","list"]}},b.prototype.references={tree:{type:["tree"],label:"A tree with children"},leaf:{label:"Value of the leaf"},list:{type:"array",label:"A list of children"}},b.prototype.variablesIn=["tree"],b});