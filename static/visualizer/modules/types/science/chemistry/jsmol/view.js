define(["require","modules/default/defaultview","src/util/util","src/util/datatraversing","lib/jsmol/JSmol.min.nojq"],function(a,b){function c(){}return c.prototype=$.extend(!0,{},b,{init:function(){var b=this;this.highlightedAtom,this.dom=$("<iframe>",{src:a.toUrl("./jsmol.html")}).css("border",0),this.module.getDomContent().html(this.dom).css("overflow","hidden"),this.dom.bind("load",function(){b.dom.get(0).contentWindow.setInDom(b.module.inDom,Jmol),b.dom.get(0).contentWindow.setController(b.module.controller),b.dom.get(0).contentWindow.setView(b)}),this._highlights=this._highlights||[]},inDom:function(){},onResize:function(){this.dom.height(this.height).width(this.width);var a=this.dom.get(0).contentWindow;a&&a.setSize&&a.setSize(this.width,this.height)},blank:function(){},update:{data:function(a){var b=this;b.dom.get(0).contentWindow.setMolFile(a);var c=$.proxy(b.module.getConfiguration,b.module);c("script")&&b.dom.get(0).contentWindow.executeScript([c("script")])}},getDom:function(){return this.dom},onActionReceive:{jsmolscript:function(a){this.module.controller.onJSMolScriptReceive(a)}},executeScript:function(a){this.dom.get(0).contentWindow.executeScript([a])},typeToScreen:{}}),c});