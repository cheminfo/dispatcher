define(["modules/default/defaultview"],function(a){function b(){}return b.prototype=$.extend(!0,{},a,{init:function(){var a=this,b=$("<textarea>").css({position:"absolute",top:0,left:0,height:0,width:0,opacity:0}).on("paste",function(b){b.preventDefault(),b.stopPropagation(),a.module.controller.open(b.originalEvent.clipboardData)}),c=this.module.getConfiguration("label");this.messages={"default":c,drag:this.module.getConfiguration("dragoverlabel")||c,hover:this.module.getConfiguration("hoverlabel")||c},this.messageP=$("<p>").html(this.messages.default),this.dom=$("<div />",{"class":"dragdropzone"}).html(this.messageP).on("click mousemove",function(){b.focus()}).mouseout(function(){b.blur()}).append(b),this.module.getDomContent().html(this.dom)},inDom:function(){var a=this,b=this.dom.get(0);b.addEventListener("mouseenter",function(b){b.stopPropagation(),b.preventDefault(),a.messageP.html(a.messages.hover),a.dom.addClass("dragdrop-over")}),b.addEventListener("dragenter",function(b){b.stopPropagation(),b.preventDefault(),a.messageP.html(a.messages.drag),a.dom.addClass("dragdrop-over")}),b.addEventListener("dragover",function(a){a.stopPropagation(),a.preventDefault()}),b.addEventListener("dragleave",function(b){b.stopPropagation(),b.preventDefault(),a.messageP.html(a.messages.default),a.dom.removeClass("dragdrop-over")}),b.addEventListener("mouseleave",function(b){b.stopPropagation(),b.preventDefault(),a.messageP.html(a.messages.default),a.dom.removeClass("dragdrop-over")}),b.addEventListener("drop",function(b){b.stopPropagation(),b.preventDefault(),a.module.controller.open(b.dataTransfer)}),this.resolveReady()}}),b});