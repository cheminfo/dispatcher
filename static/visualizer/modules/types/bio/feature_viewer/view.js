requirejs.config({shim:{"modules/types/bio/feature_viewer/Biojs.MyFeatureViewer":["lib/biojs-1.0/src/main/javascript/Biojs.FeatureViewer.js"]}}),define(["modules/default/defaultview","src/util/util","components/jquery/jquery-migrate.min","lib/biojs-1.0/src/main/javascript/Biojs.js","lib/biojs-1.0/src/main/javascript/Biojs.FeatureViewer.js","./Biojs.MyFeatureViewer","lib/biojs-1.0/src/main/resources/dependencies/jquery/jquery.tooltip.js","lib/biojs-1.0/src/main/resources/dependencies/graphics/raphael-2.1.2.js","lib/biojs-1.0/src/main/resources/dependencies/graphics/canvg.js","lib/biojs-1.0/src/main/resources/dependencies/graphics/rgbcolor.js"],function(a,b){function c(){}return c.prototype=$.extend(!0,{},a,{init:function(){console.log("in init"),this.dom||(this._id=b.getNextUniqueId(),this.dom=$(' <div id="'+this._id+'"></div>').css("height","100%").css("width","100%"),this.module.getDomContent().html(this.dom))},blank:{feature:function(){console.log("in blank"),this.dom.empty()}},inDom:function(){console.log("in dom"),this.resolveReady()},onResize:function(){this.dom.find("table").attr("width",this.dom.width())},update:{feature:function(a){var b=this;console.log("update features: ",a);var c=new Biojs.MyFeatureViewer({target:this._id,json:a,imageWidth:200}),d=this.dom.find("svg").first(),e=[0,0,d.attr("width"),d.attr("height")];d[0].setAttribute("viewBox",e.join(" ")),d.attr("width","100%"),d.attr("height","100%"),d.parent().width("100%").height("100%"),c.onFeatureClick(function(a){console.log("feature click: ",a),delete a.shape,b.module.controller.onFeatureClicked(a)}),c.onFeatureOn(function(a){delete a.shape,b.module.controller.onFeatureMouseOver(a)})}},getDom:function(){return this.dom}}),c});