define(["modules/default/defaultview","modules/types/edition/onde/view","modules/types/display/template-twig/view","src/util/context"],function(a,b,c){function d(){this.twigV=new c,this.ondeV=new b}return d.prototype=$.extend(!0,{},a,{setModule:function(a){this.module=a,this.twigV.module=$.extend({},a),this.twigV.module.view=this.twigV,a.twigM=this.twigV.module,this.ondeV.module=$.extend({},a),this.ondeV.module.view=this.ondeV,a.ondeM=this.ondeV.module;var b=this,c=function(){return b.module.getConfiguration.apply(b.module,arguments)};this.twigV.module.getConfiguration=c,this.ondeV.module.getConfiguration=c},init:function(){var a="<div></div>";this.dom=$(a).css({height:"100%",width:"100%"}),this.twigV.init(),this.ondeV.init();var b=this,c=this.ondeV.exportForm;this.ondeV.exportForm=function(){c.apply(this),b.loadTwig()},this.ondeV.initForm()},blank:{},inDom:function(){this.module.getDomContent().html(this.dom),this.loadTwig(),this.resolveready()},update:{value:function(a,b){this._value=[a,b],this.twigV.update.value.apply(this.twigV,arguments),this.ondeV.update.inputValue.apply(this.ondeV,arguments)}},loadOnde:function(){this.dom.html(this.ondeV.dom)},loadTwig:function(){var a=this;this.dom.html(this.twigV.dom),this.twigV.dom.dblclick(function(){a.loadOnde()}),this._value&&this.twigV.update.value.apply(this.twigV,this._value),this.twigV.render()}}),d});