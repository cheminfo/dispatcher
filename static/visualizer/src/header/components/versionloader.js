define(["jquery","src/header/components/default","src/util/versioning"],function(a,b,c){var d,e=function(){};return a.extend(e.prototype,b,{initImpl:function(){},_onClick:function(){this.setStyleOpen(this._open),this._open?(d&&d!==this&&d._open&&d.onClick(),d=this,(this.options.viewURL||this.options.dataURL)&&this.load(this.options),this.doElements()):this.close()},load:function(a){var b={};(a.views||a.viewURL)&&(b.view={url:a.viewURL,branch:a.viewBranch,urls:a.views}),(a.results||a.dataURL)&&(b.data={url:a.dataURL,branch:a.branchURL,urls:a.views}),c.switchView(b,!0)},doElements:function(){this.$_elToOpen=this._doElements(this.options.elements),this.open()},_doElements:function(b){if(b){for(var c=a("<ul />")||this.$_elToOpen.empty(),d=0,e=b.length;e>d;d++)c.append(this._buildSubElement(b[d])),b[d].elements&&b[d].elements.length>0&&c.append(this._doElements(b[d].elements));return c}},_buildSubElement:function(b){var c=this,d=a("<li />").text(b.label||"");return(b.viewURL||b.dataURL)&&d.addClass("hasEvent").bind("click",function(){c.load(b),c.onClick()}),d}}),e});