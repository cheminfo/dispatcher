define(["jquery","jquery-ui","src/header/components/default","src/util/versioning","pouchdb","src/util/util"],function(a,b,c,d,e,f){var g=function(){};return a.extend(g.prototype,c,{initImpl:function(){var b=f.getNextUniqueId(),c=new e("localViews");this.dialog=a("<div>").html('<form><label for="name">Name</label><input type="text" name="name" id="'+b+'" class="text ui-widget-content ui-corner-all" />'),this.dialogOptions={modal:!0,title:"Load view",buttons:{Load:function(){var e=a("#"+b).val();e=e.replace(/[^a-zA-Z0-9-_]*/g,""),c.get(e,function(a,b){var c;c=a?new DataObject:new DataObject(b.view,!0),d.setViewJSON(c)}),a(this).dialog("close")},Cancel:function(){a(this).dialog("close")}}}},_onClick:function(){this.dialog.dialog(this.dialogOptions)}}),g});